{"version":3,"sources":["./src/app/reset-password/reset-password.module.ts","./src/app/reset-password/reset-password.page.ts","./src/app/reset-password/reset-password.page.scss","./src/app/reset-password/reset-password.page.html"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACkB;AACV;AAEV;AAEa;AAE1D,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,mEAAiB;KAC7B;CACF,CAAC;IAYW,uBAAuB,SAAvB,uBAAuB;CAAG;AAA1B,uBAAuB;IAVnC,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,+DAAmB;YACnB,uDAAW;YACX,kEAAqB,CAAC,MAAM,CAAC;SAC9B;QACD,YAAY,EAAE,CAAC,mEAAiB,CAAC;KAClC,CAAC;GACW,uBAAuB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BY;AACkB;AACH;AACxB;AACyB;AAClB;AACP;AAGC;IAQ3B,iBAAiB,SAAjB,iBAAiB;IAQ1B,YAAmB,GAAuB,EAAU,WAAwB,EACtD,MAAc,EAAS,MAAyB,EACnD,QAAwB,EACxB,OAAgB,EAChB,OAAsB;QAJtB,QAAG,GAAH,GAAG,CAAoB;QAAU,gBAAW,GAAX,WAAW,CAAa;QACtD,WAAM,GAAN,MAAM,CAAQ;QAAS,WAAM,GAAN,MAAM,CAAmB;QACnD,aAAQ,GAAR,QAAQ,CAAgB;QACxB,YAAO,GAAP,OAAO,CAAS;QAChB,YAAO,GAAP,OAAO,CAAe;QACrC,2CAA2C;QAC3C,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;IAED,QAAQ;QACJ,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACpC,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,+DAAmB,EAAE,4DAAgB,CAAC,CAAC;SACvD,CAAC,CAAC;IACP,CAAC;IAEM,aAAa;QAChB,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC;QACtB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;QACtC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,wDAAQ,CAAC,GAAG,EAAE;YACtD,yBAAyB;YACzB,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC;QAC1B,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,GAAgB,EAAE,EAAE;YAC/B,IAAI,GAAG,CAAC,OAAO,EAAE;gBACb,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,gBAAgB,EAAE,+BAA+B,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,6DAA6D,EAAE;oBACzJ;wBACI,IAAI,EAAE,IAAI;wBACV,OAAO,EAAE,GAAG,EAAE;4BACV,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;wBACxC,CAAC;qBACJ;iBACJ,CAAC,CAAC;aACN;iBAAM;gBACH,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,4CAA4C,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;aACpF;QACL,CAAC,EAAE,CAAC,GAAQ,EAAE,EAAE;YACZ,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,yCAAyC,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;YAC9E,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,EAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5C,CAAC,CAAC,CAAC;IACP,CAAC;CAEJ;;YA/DO,yEAAkB;YADN,uDAAW;YAEvB,mDAAM;YACN,6DAAiB;YACjB,0DAAc;YACd,mDAAO;YAFY,yDAAa;;AAa3B,iBAAiB;IAL7B,wDAAS,CAAC;QACP,QAAQ,EAAE,oBAAoB;QAC9B,mFAAyC;;KAE5C,CAAC;GACW,iBAAiB,CAgD7B;AAhD6B;;;;;;;;;;;;;ACjB9B,+DAAe,YAAY,qBAAqB,oBAAoB,GAAG,6CAA6C,mTAAmT,E;;;;;;;;;;;;ACAva,+DAAe,05EAA05E,E","file":"src_app_reset-password_reset-password_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule,ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ResetPasswordPage } from './reset-password.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ResetPasswordPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ResetPasswordPage]\n})\nexport class ResetPasswordPageModule {}\n","import {Component, OnInit} from '@angular/core';\nimport {Validators, FormBuilder, FormGroup} from '@angular/forms';\nimport {PetcloudApiService} from '../api/petcloud-api.service';\nimport {Router} from '@angular/router';\nimport {LoadingController, NavController} from '@ionic/angular';\nimport {MenuController} from '@ionic/angular';\nimport {Storage} from '@ionic/storage';\n// imprt model files\nimport {ApiResponse} from '../model/api-response';\nimport {finalize} from 'rxjs/operators';\n\n\n@Component({\n    selector: 'app-reset-password',\n    templateUrl: './reset-password.page.html',\n    styleUrls: ['./reset-password.page.scss'],\n})\nexport class ResetPasswordPage implements OnInit {\n\n    // main form for reset password\n    public resetForm: FormGroup;\n    public resetData: {\n        email: ''\n    };\n\n    constructor(public api: PetcloudApiService, private formBuilder: FormBuilder,\n                protected router: Router, public loader: LoadingController,\n                public sideMenu: MenuController,\n                public storage: Storage,\n                public navCtrl: NavController) {\n        // disable side menu on reset password page\n        this.sideMenu.enable(false);\n    }\n\n    ngOnInit() {\n        this.resetForm = this.formBuilder.group({\n            email: ['', [Validators.required, Validators.email]]\n        });\n    }\n\n    public resetPassword() {\n        this.api.showLoader();\n        this.resetData = this.resetForm.value;\n        this.api.resetPassword(this.resetData).pipe(finalize(() => {\n            // hide loader in success\n            this.api.hideLoader();\n        })).subscribe((res: ApiResponse) => {\n            if (res.success) {\n                this.api.showAlert('Reset Password', 'An email has been sent to <b>' + this.resetData.email + '</b>. Click on the link in the email to reset your password', [\n                    {\n                        text: 'OK',\n                        handler: () => {\n                            this.router.navigateByUrl('/login');\n                        }\n                    }\n                ]);\n            } else {\n                this.api.showToast('Link is not send to your Email! Try again.', 2000, 'bottom');\n            }\n        }, (err: any) => {\n            this.api.showToast('something went wrong! please Try again.', 2000, 'bottom');\n            this.api.autoLogout(err,this.resetData);\n        });\n    }\n\n}\n","export default \"ion-label {\\n  font-weight: 400;\\n  font-size: 14px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc2V0LXBhc3N3b3JkLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFBO0VBQ0EsZUFBQTtBQUNKIiwiZmlsZSI6InJlc2V0LXBhc3N3b3JkLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1sYWJlbCB7XG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICBmb250LXNpemU6IDE0cHg7XG59Il19 */\";","export default \"<ion-header class=\\\"ion-no-border\\\">\\n  <ion-toolbar mode=\\\"md\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/login\\\"></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <ion-grid class=\\\"login\\\">\\n    <ion-row class=\\\"ion-margin-vertical ion-padding-bottom\\\">\\n      <ion-col>\\n        <h1 class=\\\"ion-text-start text-theme fw-400\\\">Enter your registered email address</h1>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"ion-margin-vertical\\\">\\n      <ion-col>\\n        <!-- <p class=\\\"resetinfo\\\">Enter your email address. A link will be sent to your email address so that you can reset\\n          your password.</p> -->\\n        <form [formGroup]=\\\"resetForm\\\">\\n          <div>\\n            <ion-label position=\\\"stacked\\\" class=\\\"ion-text-uppercase text-grey-1\\\">Email address</ion-label>\\n            <ion-input id=\\\"email\\\" class=\\\"custom-input\\\" inputmode=\\\"email\\\" formControlName=\\\"email\\\" placeholder=\\\"someone@example.com\\\">\\n            </ion-input>\\n          </div>\\n          <ion-text lines=\\\"none\\\" class=\\\"animated fadeInUp\\\"\\n          *ngIf=\\\"(resetForm.get('email').hasError('required') && (resetForm.get('email').dirty || resetForm.get('email').touched)\\n           || resetForm.get('email').hasError('email'))\\\"\\n           >\\n          <p class=\\\"error\\\"\\n            *ngIf=\\\"(resetForm.get('email').hasError('required') && (resetForm.get('email').dirty || resetForm.get('email').touched))\\\"\\n          >\\n            Enter email address.\\n          </p>\\n          <p class=\\\"error\\\"\\n            *ngIf=\\\"((resetForm.get('email').dirty || resetForm.get('email').touched) && resetForm.get('email').hasError('email'))\\\"\\n          >\\n            Enter correct email address format.\\n          </p>\\n        </ion-text>\\n          <div class=\\\"btn-wrapper\\\">\\n            <ion-button expand=\\\"full\\\" color=\\\"theme\\\" [disabled]=\\\"!resetForm.valid\\\" (click)=\\\"resetPassword()\\\">\\n              Send reset link\\n            </ion-button>\\n          </div>\\n        </form>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  <!-- <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" class=\\\"ion-padding-bottom\\\">\\n    <ion-fab-button color=\\\"white\\\" (click)=\\\"resetPassword()\\\"\\n      [disabled]=\\\"!resetForm.valid\\\">\\n      <ion-icon name=\\\"arrow-forward\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab> -->\\n</ion-content>\";"],"sourceRoot":"webpack:///"}