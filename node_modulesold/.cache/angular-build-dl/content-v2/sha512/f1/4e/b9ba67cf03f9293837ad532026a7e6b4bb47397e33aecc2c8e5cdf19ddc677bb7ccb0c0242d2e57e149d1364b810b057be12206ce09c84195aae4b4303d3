{"version":3,"sources":["webpack:///src/app/referrals-history/referrals-history.module.ts","webpack:///src/app/referrals-history/referrals-history.page.ts","webpack:///src/app/referrals-history/referrals-history.page.scss","webpack:///src/app/referrals-history/referrals-history.page.html"],"names":["routes","path","component","ReferralsHistoryPage","ReferralsHistoryPageModule","NgModule","imports","CommonModule","FormsModule","IonicModule","RouterModule","declarations","api","selectedSegment","isAPILoaded","getRefferal","showLoader","getRefferalList","subscribe","data","hideLoader","success","referrals","console","log","err","autoLogout","email","referal","referred_email","inviteFriend","pipe","finalize","res","showToast","PetcloudApiService","Component","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASA,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE,qDAAAC;AAFb,OADqB,CAAvB;;UAgBaC,2BAA0B;AAAA;AAAA,Q;;AAA1BA,iCAA0B,uDATtC,+CAAAC,QAAA,EAAS;AACRC,eAAO,EAAE,CACP,6CAAAC,YADO,EAEP,4CAAAC,WAFO,EAGP,4CAAAC,WAHO,EAIP,6CAAAC,YAAA,UAAsBV,MAAtB,CAJO,CADD;AAORW,oBAAY,EAAE,CAAC,qDAAAR,oBAAD;AAPN,OAAT,CASsC,GAA1BC,2BAA0B,CAA1B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCfAD,qBAAoB;AAI/B,sCAAmBS,GAAnB,EAA2C;AAAA;;AAAxB,eAAAA,GAAA,GAAAA,GAAA;AAHnB,eAAAC,eAAA,GAAuB,SAAvB;AAEA,eAAAC,WAAA,GAAuB,KAAvB;AAC8C;;AAJf;AAAA;AAAA,iBAM/B,oBAAW;AACT,iBAAKA,WAAL,GAAmB,KAAnB;AACA,iBAAKC,WAAL;AACD;AAT8B;AAAA;AAAA,iBAW/B,uBAAW;AAAA;;AACT,iBAAKH,GAAL,CAASI,UAAT;AACA,iBAAKJ,GAAL,CAASK,eAAT,GAA2BC,SAA3B,CAAqC,UAACC,IAAD,EAAa;AAChD,mBAAI,CAACL,WAAL,GAAmB,IAAnB;;AACA,mBAAI,CAACF,GAAL,CAASQ,UAAT;;AACA,kBAAGD,IAAI,CAACE,OAAR,EAAgB;AACd,qBAAI,CAACC,SAAL,GAAiBH,IAAjB;AACAI,uBAAO,CAACC,GAAR,CAAY,cAAZ,EAA4B,KAAI,CAACF,SAAjC;AACD;AAEF,aARD,EAQE,UAAAG,GAAG,EAAE;AACL,mBAAI,CAACX,WAAL,GAAmB,IAAnB;;AACA,mBAAI,CAACF,GAAL,CAASc,UAAT,CAAoBD,GAApB,EAAwB,EAAxB;AACD,aAXD;AAYD;AAzB8B;AAAA;AAAA,iBA2B/B,sBAAaE,KAAb,EAAkB;AAAA;;AAChB,gBAAMC,OAAO,GAAG;AACdC,4BAAc,EAACF;AADD,aAAhB;AAGA,iBAAKf,GAAL,CAASI,UAAT;AACA,iBAAKJ,GAAL,CAASkB,YAAT,CAAsBF,OAAtB,EACKG,IADL,CACU,gDAAAC,QAAA,EAAS,YAAM;AACjB,oBAAI,CAACpB,GAAL,CAASQ,UAAT;AACH,aAFK,CADV,EAIKF,SAJL,CAIe,UAACe,GAAD,EAAc;AACrB,kBAAIA,GAAG,CAACZ,OAAR,EAAiB;AACb,sBAAI,CAACT,GAAL,CAASsB,SAAT,CAAmB,eAAnB,EAAoC,IAApC,EAA0C,QAA1C;AACH,eAFD,MAEO;AACH,sBAAI,CAACtB,GAAL,CAASsB,SAAT,CAAmB,8CAAnB,EAAmE,IAAnE,EAAyE,QAAzE;AACH;AACJ,aAVL,EAUO,UAAAT,GAAG,EAAI;AACN,oBAAI,CAACb,GAAL,CAASc,UAAT,CAAoBD,GAApB,EAAyBG,OAAzB;AACH,aAZL;AAaD;AA7C8B;;AAAA;AAAA,S;;;;gBARxB,uDAAAO;;;;AAQIhC,2BAAoB,uDANhC,+CAAAiC,SAAA,EAAU;AACTC,gBAAQ,EAAE,uBADD;AAETC,gBAAQ,EAAR,+EAFS;;AAAA,OAAV,CAMgC,GAApBnC,qBAAoB,CAApB;;;;;;;;;;;;;;;ACVb;;;AAAA,uCAAe,m0KAAf;;;;;;;;;;;;;;;ACAA;;;AAAA,uCAAe,m/FAAf","file":"src_app_referrals-history_referrals-history_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ReferralsHistoryPage } from './referrals-history.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ReferralsHistoryPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ReferralsHistoryPage]\n})\nexport class ReferralsHistoryPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { finalize } from 'rxjs/operators';\nimport { PetcloudApiService } from '../api/petcloud-api.service';\n\n@Component({\n  selector: 'app-referrals-history',\n  templateUrl: './referrals-history.page.html',\n  styleUrls: ['./referrals-history.page.scss'],\n})\n\nexport class ReferralsHistoryPage implements OnInit {\n  selectedSegment: any = \"pending\";\n  referrals: any;\n  isAPILoaded: boolean = false;\n  constructor(public api:PetcloudApiService) { }\n\n  ngOnInit() {\n    this.isAPILoaded = false\n    this.getRefferal();\n  }\n\n  getRefferal(){\n    this.api.showLoader();\n    this.api.getRefferalList().subscribe((data: any)=>{\n      this.isAPILoaded = true\n      this.api.hideLoader();\n      if(data.success){\n        this.referrals = data;\n        console.log(\"Referal data\", this.referrals);\n      }\n        \n    },err=>{\n      this.isAPILoaded = true\n      this.api.autoLogout(err,\"\");\n    })\n  }\n\n  resendInvite(email){\n    const referal = {\n      referred_email:email,\n    }\n    this.api.showLoader();\n    this.api.inviteFriend(referal)\n        .pipe(finalize(() => {\n            this.api.hideLoader();\n        }))\n        .subscribe((res: any) => {\n            if (res.success) {\n                this.api.showToast('Referral Sent', 2000, 'bottom');\n            } else {\n                this.api.showToast('This email address has already been referred', 2000, 'bottom');\n            }\n        }, err => {\n            this.api.autoLogout(err, referal);\n        });\n  }\n \n}\n","export default \".main-content {\\n  padding-bottom: calc(env(safe-area-inset-bottom) + 10px);\\n}\\n\\n.desc {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: flex-start;\\n  padding: 5px 15px;\\n  border-bottom: 1px solid #EBEBEB;\\n  background-color: #52C4BE;\\n  text-align: center;\\n  font-size: 12px;\\n  color: #fff;\\n}\\n\\nion-segment {\\n  background: #ffffff;\\n  --background: #ffffff;\\n}\\n\\n.row {\\n  display: flex;\\n}\\n\\n.column {\\n  flex: 50%;\\n  padding: 10px;\\n}\\n\\n.referrals-item {\\n  display: flex;\\n  width: 100%;\\n  align-items: center;\\n  border-bottom: 1px solid #e0e0e0;\\n  padding: 10px;\\n}\\n\\n.referrals-item .content {\\n  width: calc(100% - 65px);\\n}\\n\\n.referrals-item .content h2 {\\n  font-size: 14px;\\n  margin: 0;\\n  margin-bottom: 5px;\\n}\\n\\n.referrals-item .content h3 {\\n  font-size: 13px;\\n  margin: 0;\\n  opacity: 0.6;\\n  font-weight: 400;\\n}\\n\\n.referrals-item .content .action-conatiner {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n}\\n\\n.referrals-item .content .action ion-button {\\n  --box-shadow: none;\\n  border-radius: 4px;\\n  font-size: 12px;\\n  width: 65px;\\n  height: 25px;\\n  text-transform: capitalize;\\n  background: var(--ion-color-light);\\n}\\n\\n.referrals-item .avatar {\\n  height: 60px;\\n  width: 60px;\\n  overflow: hidden;\\n  margin-right: 10px;\\n  border-radius: 100px;\\n  background-color: #e0e0e0;\\n  padding: 15px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.referrals-item .avatar img {\\n  height: 100%;\\n  width: 100%;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n\\n.accept-date {\\n  padding: 5px 0px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZmVycmFscy1oaXN0b3J5LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHdEQUFBO0FBQ0o7O0FBQ0E7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSwyQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0NBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7QUFFSjs7QUFBQTtFQUNJLG1CQUFBO0VBQ0EscUJBQUE7QUFHSjs7QUFEQTtFQUNJLGFBQUE7QUFJSjs7QUFGRTtFQUNFLFNBQUE7RUFDQSxhQUFBO0FBS0o7O0FBREU7RUFDRSxhQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0VBQ0EsZ0NBQUE7RUFDQSxhQUFBO0FBSUo7O0FBSEk7RUFDSSx3QkFBQTtBQUtSOztBQURRO0VBQ0ksZUFBQTtFQUNBLFNBQUE7RUFDQSxrQkFBQTtBQUdaOztBQURRO0VBQ0ksZUFBQTtFQUNBLFNBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUFHWjs7QUFEUTtFQUNJLGFBQUE7RUFDQSxtQkFBQTtFQUNBLDhCQUFBO0FBR1o7O0FBQVk7RUFDSSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsMEJBQUE7RUFDQSxrQ0FBQTtBQUVoQjs7QUFFSTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLG9CQUFBO0VBQ0EseUJBQUE7RUFDQSxhQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUFBUjs7QUFDUTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0Esb0JBQUE7S0FBQSxpQkFBQTtBQUNaOztBQUdBO0VBQ0ksZ0JBQUE7QUFBSiIsImZpbGUiOiJyZWZlcnJhbHMtaGlzdG9yeS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWFpbi1jb250ZW50IHtcbiAgICBwYWRkaW5nLWJvdHRvbTogY2FsYyhlbnYoc2FmZS1hcmVhLWluc2V0LWJvdHRvbSkgKyAxMHB4KTtcbn1cbi5kZXNje1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gICAgcGFkZGluZzogNXB4IDE1cHg7XG4gICAgYm9yZGVyLWJvdHRvbToxcHggc29saWQgI0VCRUJFQjtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTJDNEJFO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgY29sb3I6I2ZmZjtcbn1cbmlvbi1zZWdtZW50IHtcbiAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmO1xuICAgIC0tYmFja2dyb3VuZDogI2ZmZmZmZjtcbn1cbi5yb3cge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gIH0gXG4gIC5jb2x1bW4ge1xuICAgIGZsZXg6IDUwJTtcbiAgICBwYWRkaW5nOiAxMHB4O1xuICB9XG5cblxuICAucmVmZXJyYWxzLWl0ZW17XG4gICAgZGlzcGxheTogZmxleDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTBlMGUwO1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgLmNvbnRlbnR7XG4gICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA2NXB4KTsgICAgICAgIFxuICAgICAgICAvLyAudGl0bGVzIHtcbiAgICAgICAgLy8gICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA3M3B4KTtcbiAgICAgICAgLy8gfVxuICAgICAgICBoMntcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDVweDtcbiAgICAgICAgfVxuICAgICAgICBoM3tcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuNjtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgICAgIH1cbiAgICAgICAgLmFjdGlvbi1jb25hdGluZXIge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIH1cbiAgICAgICAgLmFjdGlvbiB7XG4gICAgICAgICAgICBpb24tYnV0dG9uIHtcbiAgICAgICAgICAgICAgICAtLWJveC1zaGFkb3c6IG5vbmU7XG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICAgICAgICB3aWR0aDogNjVweDtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDI1cHg7XG4gICAgICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWxpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAuYXZhdGFye1xuICAgICAgICBoZWlnaHQ6IDYwcHg7XG4gICAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTBlMGUwO1xuICAgICAgICBwYWRkaW5nOiAxNXB4O1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgaW1ne1xuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbi5hY2NlcHQtZGF0ZSB7XG4gICAgcGFkZGluZzogNXB4IDBweDtcbn0iXX0= */\";","export default \"<ion-header class=\\\"ion-no-border\\\">\\n  <ion-toolbar class=\\\"ion-no-padding\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n          <ion-back-button  defaultHref=\\\"home/tabs/profile-menu\\\"></ion-back-button>\\n      </ion-buttons>\\n      <ion-title>Referrals</ion-title>    \\n  </ion-toolbar>\\n\\n  <div class=\\\"desc\\\">\\n    Earn up to $240 per month with PetCloud if you bring on 10 new Pet Owners who book based on an average booking price of $300.\\n  </div>\\n\\n  <ion-segment scrollable [(ngModel)]=\\\"selectedSegment\\\" color=\\\"theme\\\">\\n    <ion-segment-button class=\\\"ion-text-capitalize\\\" value=\\\"pending\\\">Pending</ion-segment-button>\\n    <ion-segment-button class=\\\"ion-text-capitalize\\\" value=\\\"accepted\\\">Accepted</ion-segment-button>\\n</ion-segment>\\n\\n</ion-header>\\n\\n<ion-content>\\n\\n  <div class=\\\"main-content\\\" [ngSwitch]=\\\"selectedSegment\\\">\\n    <div *ngSwitchCase=\\\"'pending'\\\">\\n\\n      <ng-container *ngIf=\\\"!referrals?.invited_friend.length && isAPILoaded\\\"> \\n          <ion-card>\\n            <ion-card-header>\\n                  You have no Pending Referrals\\n            </ion-card-header>\\n          </ion-card>\\n      </ng-container>\\n\\n      <ng-container *ngIf=\\\"referrals?.invited_friend.length  && isAPILoaded\\\">\\n        <div class=\\\"referrals-item\\\" *ngFor=\\\"let inviteFrnd of referrals?.invited_friend\\\">\\n          <div class=\\\"avatar\\\">\\n             <img src=\\\"../../assets/icon/user.png\\\">\\n          </div>\\n          <div class=\\\"content\\\">\\n            <div class=\\\"titles\\\">\\n              <h2>{{inviteFrnd?.referred_email}}</h2>\\n              <h3>Need to finish up signup</h3>\\n            </div>\\n            <div class=\\\"action-conatiner\\\">\\n              <h3>{{inviteFrnd?.referred_date}}</h3>\\n              <div class=\\\"action\\\">\\n                <ion-button (click)=\\\"resendInvite(inviteFrnd.referred_email)\\\">Resend</ion-button>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </ng-container>\\n    \\n    </div>\\n  \\n    <div *ngSwitchCase=\\\"'accepted'\\\">\\n\\n      <ng-container *ngIf=\\\"!referrals?.referred_earning.length  && isAPILoaded\\\"> \\n        <ion-card>\\n          <ion-card-header>\\n                You have no Pending Referrals\\n          </ion-card-header>\\n        </ion-card>\\n    </ng-container>\\n\\n      <ng-container *ngIf=\\\"referrals?.referred_earning.length  && isAPILoaded\\\">\\n        <div class=\\\"referrals-item\\\" *ngFor=\\\"let referedEarning of referrals?.referred_earning\\\">\\n          <div class=\\\"avatar\\\">\\n             <img src=\\\"../../assets/icon/user.png\\\">\\n          </div>\\n          <div class=\\\"content\\\">\\n            <div class=\\\"titles\\\">\\n              <h2>{{referedEarning?.email}}</h2>\\n              <h3 class=\\\"accept-date\\\">{{referedEarning?.date}}</h3>\\n            </div>\\n            <div class=\\\"action-conatiner\\\">\\n              <h3>$ {{referedEarning?.amount}} | {{referedEarning?.description}}</h3>\\n            </div>\\n          </div>\\n        </div>\\n\\n      </ng-container>\\n  \\n    </div>\\n  </div>\\n \\n\\n\\n</ion-content>\\n\";"]}