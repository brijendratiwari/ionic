{"version":3,"sources":["webpack:///src/app/recent-job-listing/recent-job-listing.module.ts","webpack:///src/app/recent-job-listing/recent-job-listing.page.ts","webpack:///src/app/recent-job-listing/recent-job-listing.page.scss","webpack:///src/app/recent-job-listing/recent-job-listing.page.html"],"names":["routes","path","component","RecentJobListingPage","RecentJobListingPageModule","NgModule","imports","CommonModule","FormsModule","IonicModule","RouterModule","declarations","storage","router","api","navCtrl","recentSitterandJobPostingParams","latitude","longitude","distance","offset","recentJobs","moreDatarecentJobs","count","getInfo","get","PetcloudApiService","then","res","recentJobPost","recentJobPosted","pipe","finalize","subscribe","success","err","status","clear","showToast","logoutmsg","navigateRoot","infiniteScroll","parseInt","length","push","target","complete","autoLogout","Storage","Router","NavController","Component","selector","template"],"mappings":"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","file":"src_app_recent-job-listing_recent-job-listing_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RecentJobListingPage } from './recent-job-listing.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RecentJobListingPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [RecentJobListingPage]\n})\nexport class RecentJobListingPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { PetcloudApiService } from '../api/petcloud-api.service';\nimport { NavController } from '@ionic/angular';\nimport { User } from '../model/user';\nimport { Router } from '@angular/router';\nimport { finalize } from 'rxjs/operators';\nimport { Storage } from '@ionic/storage'\n\n\n@Component({\n  selector: 'app-recent-job-listing',\n  templateUrl: './recent-job-listing.page.html',\n  styleUrls: ['./recent-job-listing.page.scss'],\n})\nexport class RecentJobListingPage implements OnInit {\n\n  public recentSitterandJobPostingParams: any = { latitude: \"\", longitude: \"\", distance: \"\", offset: \"\" };\n  //Response\n  public recentJobs: any = []\n  public moreDatarecentJobs: any = [];\n  //Initilize variable count and offset to get more data from Server form loadData Method\n  public count: any = 0;\n  public offset: any = 6;\n\n  constructor(protected storage: Storage,\n    public router: Router, public api: PetcloudApiService,\n    public navCtrl: NavController) { }\n\n  ngOnInit() {\n    this.getInfo();\n  }\n\n  getInfo() {\n    this.storage.get(PetcloudApiService.USER)\n      .then((res: User) => {\n        this.recentSitterandJobPostingParams.latitude = res.latitude;\n        this.recentSitterandJobPostingParams.longitude = res.longitude;\n        this.recentSitterandJobPostingParams.distance = \"60030\";\n        this.recentSitterandJobPostingParams.offset = \"0\";\n        this.recentJobPost();\n      });\n  }\n\n  ionViewDidEnter() {\n    this.storage.get(PetcloudApiService.USER)\n      .then((res: User) => {\n        this.recentSitterandJobPostingParams.latitude = res.latitude;\n        this.recentSitterandJobPostingParams.longitude = res.longitude;\n        this.recentSitterandJobPostingParams.distance = '60030';\n\n        this.recentJobPost();\n      });\n  }\n\n\n\n\n  /**\n  * Get Recent Near By Job Post\n  * @param distance is static value passed as 30\n  */\n  public recentJobPost() {\n    this.recentSitterandJobPostingParams.offset = '0';\n    this.api.recentJobPosted(this.recentSitterandJobPostingParams).pipe(finalize(() => {\n    })).subscribe((res: any) => {\n      if (res.success) {\n        this.recentJobs = res;\n      }\n    }, err => {\n      if (err.status == 401) {\n        this.storage.clear();\n        this.api.showToast(this.api.logoutmsg, 2000, 'bottom');\n        this.navCtrl.navigateRoot('/get-started');\n    }else{\n        this.api.showToast(\"Try Again\",2000,\"bottom\")\n    }\n    })\n  }\n\n  /**\n * Load Data Pagination Method..\n */\n  loadData(infiniteScroll) {\n    this.count = parseInt(this.count) + 1;\n    this.recentSitterandJobPostingParams.offset = this.count * this.offset;\n    this.api.recentJobPosted(this.recentSitterandJobPostingParams).pipe(finalize(() => {\n    })).subscribe((res: any) => {\n      if (res.success) {\n        this.moreDatarecentJobs = res;\n        if (this.moreDatarecentJobs.length > 0) {\n          this.recentJobs.push(this.moreDatarecentJobs);\n        } else {\n          infiniteScroll.target.complete();\n        }\n        this.count = this.count++;\n      }\n    }, err => {\n      this.api.autoLogout(err,this.recentSitterandJobPostingParams)\n      infiniteScroll.target.complete();\n    })\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyZWNlbnQtam9iLWxpc3RpbmcucGFnZS5zY3NzIn0= */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Job Listing</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-grid>\\n    <ion-row class=\\\"ion-padding-bottom\\\">\\n      <ion-col>\\n\\n        <ion-row>\\n          <ion-col size=\\\"6\\\" *ngFor=\\\"let recentJob of recentJobs?.jobs?.data\\\">\\n            <ion-card class=\\\"card-style-1\\\">\\n              <ion-card-header class=\\\"ion-no-padding\\\">\\n                <ion-img src=\\\"{{recentJob?.imagename}}\\\">\\n                </ion-img>\\n                <!-- <div class=\\\"liked\\\">\\n                  <ion-img type=\\\"image/svg+xml\\\"\\n                    [src]=\\\"recentJob?.isFavourite_flag == 1 ? 'assets/icon/heartfill.svg': 'assets/icon/heartwhitebold.svg'\\\"\\n                    class=\\\"custom-icon\\\"></ion-img>\\n                </div> -->\\n              </ion-card-header>\\n              <ion-card-content class=\\\"ion-text-start\\\" [routerLink]=\\\"['/pet-sitter-detail',recentJob?.id]\\\">\\n                <ion-card-subtitle>{{recentJob?.address}}</ion-card-subtitle>\\n                <ion-card-title>{{recentJob?.title}}</ion-card-title>\\n                <p class=\\\"date\\\">{{recentJob?.start_date | date : 'dd-MMM'}} -\\n                  {{recentJob?.end_date | date : 'dd-MMM'}}</p>\\n                <p class=\\\"amount\\\">{{recentJob?.minPrice | currency : 'USD' : 'symbol' : '1.2-2'}}</p>\\n              </ion-card-content>\\n            </ion-card>\\n          </ion-col>\\n        </ion-row>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n      <ion-infinite-scroll-content\\n        loadingSpinner=\\\"bubbles\\\"\\n        loadingText=\\\"Loading more data...\\\">\\n  </ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n\\n\\n\\n</ion-content>\";"]}