{"version":3,"sources":["webpack:///src/app/messages/messages.module.ts","webpack:///src/app/messages/messages.page.ts","webpack:///src/app/messages/messages.page.scss","webpack:///src/app/messages/messages.page.html"],"names":["routes","path","component","MessagesPage","children","loadChildren","then","m","MessagesListPageModule","JobApplicationTabPageModule","redirectTo","pathMatch","MessagesPageModule","NgModule","imports","CommonModule","FormsModule","IonicModule","ReactiveFormsModule","RouterModule","declarations","api","modalCtrl","platform","loading","router","storage","navcntl","route","navCntl","mEvents","_routerMsgPageSub","Subscription","selectedMessengingSegment","userType","menuType","isJobListingCss","isMessageListingCss","add","events","pipe","filter","event","NavigationEnd","subscribe","url","get","PetcloudApiService","res","getInfo","data","console","log","backButtonEvent","unsubscribe","pageName","navigate","user","isVerificationPendingModel","err","backButton","dismissModelorAlert","navigateRoot","ModalController","Platform","LoadingController","Router","Storage","NavController","ActivatedRoute","Events","ViewChild","read","Component","selector","template"],"mappings":"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","file":"src_app_messages_messages_module_ts-es5.js","sourcesContent":["import {NgModule, CUSTOM_ELEMENTS_SCHEMA} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {Routes, RouterModule} from '@angular/router';\nimport {IonicModule} from '@ionic/angular';\nimport {MessagesPage} from './messages.page';\n\n\nconst routes: Routes = [   {\n    path: '',\n    component: MessagesPage,\n    children: [\n      {\n        path: 'messages-list',\n        loadChildren: () => import('../messages-list/messages-list.module').then(m => m.MessagesListPageModule)\n        // loadChildren: '../messages-list/messages-list.module#MessagesListPageModule'\n      \n      },\n      {\n        path: 'job-application-tab',\n        loadChildren: () => import('../job-application-tab/job-application-tab.module').then(m => m.JobApplicationTabPageModule)\n        // loadChildren: '../job-application-tab/job-application-tab.module#JobApplicationTabPageModule'\n      },{\n        path: '',\n        redirectTo: 'messages-list',\n        pathMatch: 'full'\n    }\n    ]}];\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        ReactiveFormsModule,\n        RouterModule.forChild(routes)\n    ],\n    declarations: [MessagesPage],\n})\nexport class MessagesPageModule {\n}\n\n","import { Component, OnInit, OnDestroy, ViewChild, Inject } from \"@angular/core\";\nimport { PetcloudApiService } from \"../api/petcloud-api.service\";\nimport {\n  ModalController,\n  NavController,\n  Platform,\n  LoadingController,\n  IonTabs,\n} from \"@ionic/angular\";\nimport { Router, ActivatedRoute, NavigationEnd } from \"@angular/router\";\nimport { Storage } from \"@ionic/storage\";\nimport { filter } from \"rxjs/operators\";\nimport { User } from \"../model/user\";\nimport { Subscription } from 'rxjs';\nimport { Events } from \"../events\";\n\n@Component({\n  selector: \"app-messages\",\n  templateUrl: \"./messages.page.html\",\n  styleUrls: [\"./messages.page.scss\"],\n})\nexport class MessagesPage implements OnInit {\n\n  private _routerMsgPageSub = new Subscription();\n  public selectedMessengingSegment: any = \"\";\n  userType: any = \"\";\n  menuType: any = \"sitter\"\n  @ViewChild('messengingTabs',{read:true}) tabs: IonTabs;\n  isJobListingCss: boolean = false;\n  isMessageListingCss: boolean = true\n\n  constructor(\n    public api: PetcloudApiService,\n    public modalCtrl: ModalController,\n    public platform: Platform,\n    public loading: LoadingController,\n    private router: Router,\n    protected storage: Storage,\n    public navcntl: NavController,\n    public route: ActivatedRoute,\n    public navCntl: NavController,\n    public mEvents:Events,\n  ) {\n\n    this._routerMsgPageSub.add(\n      this.router.events\n      .pipe(filter((event) => event instanceof NavigationEnd))\n    .subscribe((event: any) => {\n \n        if (event.url == \"/home/tabs/messages\") {\n        \n          this.storage.get(PetcloudApiService.USER).then((res: User) => {\n            if (res != null) {\n              if (event.url == \"/home/tabs/messages\") {\n                this.isMessageListingCss = true;\n                this.isJobListingCss = false;\n                this.getInfo();\n              }else{\n                this.isJobListingCss = true;\n                this.isMessageListingCss = false;\n              }\n            }\n          });\n\n\n          this.mEvents.subscribe(\"menuName\", (data) => {\n            console.log(\"menu name\", data.menuType);\n              this.menuType = data.menuType;\n          })  \n        }\n      })\n    ) \n    this.backButtonEvent();\n  }\n\n  ngOnInit() {\n  }\n\n\n  ngOnDestroy() {\n    this._routerMsgPageSub.unsubscribe();\n  }\n\n\n  navigateTo(pageName) {\n    if (pageName == \"messages-list\") {\n      this.isMessageListingCss = true;\n      this.isJobListingCss = false;\n    } else {\n      this.isJobListingCss = true;\n      this.isMessageListingCss = false;\n    }\n    this.router.navigate(['/home/tabs/messages/' + pageName])\n  }\n\n  getInfo() {\n    this.storage.get(PetcloudApiService.USER).then(\n      async (user: User) => {\n        if (user != null) {\n           this.api.isVerificationPendingModel();\n        }\n\n      },\n      (err) => {\n        \n      }\n    );\n  }\n\n  // active hardware back button\n  backButtonEvent() {\n    this.platform.backButton.subscribe(async () => {\n      this.api.dismissModelorAlert();\n      if (this.router.url === \"/home/tabs/messages\" || this.router.url == \"/home/tabs/messages/messages-list\") {\n        this.navCntl.navigateRoot(\"/home/tabs/sitter-listing\")\n      }\n    });\n  }\n}\n","export default \"ion-header ion-title .subtitle {\\n  display: block;\\n  font-size: 12px;\\n  color: #888888;\\n  letter-spacing: 0;\\n}\\nion-header ion-toolbar {\\n  padding-top: 0px;\\n}\\nion-tabs ion-tab-button {\\n  --color: #4a4a4a;\\n  --color-selected: #4a4a4a;\\n}\\n.selected-tab {\\n  color: #fe4164;\\n  font-size: 14px;\\n  border-bottom: 2px solid #fe4164;\\n  background-color: white;\\n  display: block;\\n  width: 100%;\\n  max-width: 100%;\\n}\\n.unselected-tab {\\n  font-size: 14px;\\n  background-color: white;\\n  display: block;\\n  width: 100%;\\n  max-width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lc3NhZ2VzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFUTtFQUNJLGNBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtFQUNBLGlCQUFBO0FBRFo7QUFJSTtFQUNJLGdCQUFBO0FBRlI7QUFPSTtFQUNFLGdCQUFBO0VBQ0EseUJBQUE7QUFKTjtBQVNBO0VBQ0ksY0FBQTtFQUNBLGVBQUE7RUFDQSxnQ0FBQTtFQUNBLHVCQUFBO0VBQ0EsY0FBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0FBTko7QUFTQTtFQUNFLGVBQUE7RUFDQSx1QkFBQTtFQUNBLGNBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtBQU5GIiwiZmlsZSI6Im1lc3NhZ2VzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1oZWFkZXJ7XG4gICAgaW9uLXRpdGxle1xuICAgICAgICAuc3VidGl0bGV7XG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICAgIGNvbG9yOiAjODg4ODg4O1xuICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW9uLXRvb2xiYXIge1xuICAgICAgICBwYWRkaW5nLXRvcDogMHB4O1xuICAgIH1cbn1cblxuaW9uLXRhYnMge1xuICAgIGlvbi10YWItYnV0dG9uIHtcbiAgICAgIC0tY29sb3I6ICM0YTRhNGE7XG4gICAgICAtLWNvbG9yLXNlbGVjdGVkOiAjNGE0YTRhO1xuXG4gIH1cbn0gIFxuXG4uc2VsZWN0ZWQtdGFie1xuICAgIGNvbG9yOiAjZmU0MTY0O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgI2ZlNDE2NDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICB3aWR0aDogMTAwJTtcbiAgICBtYXgtd2lkdGg6IDEwMCU7XG59XG5cbi51bnNlbGVjdGVkLXRhYntcbiAgZm9udC1zaXplOiAxNHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXgtd2lkdGg6IDEwMCU7XG59XG5cbiJdfQ== */\";","export default \"<ion-router-outlet>\\n  <ion-tabs tabsHighlight=\\\"true\\\" #messengingTabs>\\n    <ion-header [hidden]=\\\"menuType == 'owner'\\\" style=\\\"top: 0px;\\\" class=\\\"ion-no-border\\\" no-shadow>\\n      <ion-toolbar>\\n        <div class=\\\"tab-wrapper\\\">\\n          <ion-tab-bar [ngStyle]=\\\"{ 'display' : (menuType == 'sitter') ? 'flex' : 'none' }\\\" slot=\\\"top\\\">\\n            <ion-tab-button [ngClass]=\\\"isMessageListingCss == true ? 'selected-tab' : 'unselected-tab'\\\"\\n              (click)=\\\"navigateTo('messages-list')\\\">\\n              <ion-label class=\\\"tab-title\\\">Messages {{userType}}</ion-label>\\n            </ion-tab-button>\\n  \\n            <ion-tab-button [ngClass]=\\\"isJobListingCss == true ? 'selected-tab' : 'unselected-tab'\\\"\\n              (click)=\\\"navigateTo('job-application-tab')\\\">\\n              <ion-label class=\\\"tab-title\\\">Job Applications</ion-label>\\n            </ion-tab-button>\\n           </ion-tab-bar>\\n        </div>\\n      </ion-toolbar>\\n    </ion-header>\\n  </ion-tabs>\\n</ion-router-outlet>\";"]}