{"version":3,"sources":["webpack:///src/app/profile/profile-photo-upload/profile-photo-upload.module.ts","webpack:///src/app/profile/profile-photo-upload/profile-photo-upload.page.ts","webpack:///src/app/profile/profile-photo-upload/profile-photo-upload.page.scss","webpack:///src/app/profile/profile-photo-upload/profile-photo-upload.page.html"],"names":["routes","path","component","ProfilePhotoUploadPage","ProfilePhotoUploadPageModule","NgModule","imports","CommonModule","FormsModule","IonicModule","RouterModule","providers","Camera","File","FileTransfer","WebView","declarations","storage","navCtrl","webview","platform","actionSheetCtrl","router","route","camera","file","CameraAPI","api","lastImage","todayDate","Date","selectedProfileImage","isImage","backButton","snapshot","paramMap","get","getUserProfilePhoto","checkVerification","hideLoader","PetcloudApiService","then","res","userData","imagename","myImageUrl","prevImageURL","err","console","log","img","converted","convertFileSrc","ready","create","header","buttons","text","handler","photoOption","PictureSourceType","CAMERA","checkPhotoLibraryPermission","status","PHOTOLIBRARY","actionSheet","present","params","getPicture","base64String","imageUpload","error","showToast","undefined","isPhoneVerify","isEmailVerify","navigateByUrl","skipLocationChange","navigate","backBtn","fileParams","data","name","showLoader","userImageUpload","pipe","finalize","subscribe","success","uploadUrl","set","autoLogout","pop","verificationResponse","emailVerify","phoneVerify","verify_phoneflag","Storage","NavController","Platform","ActionSheetController","Router","ActivatedRoute","CameraService","Component","selector","template"],"mappings":"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","file":"src_app_profile_profile-photo-upload_profile-photo-upload_module_ts-es5.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\nimport {Routes, RouterModule} from '@angular/router';\nimport {IonicModule} from '@ionic/angular';\nimport {ProfilePhotoUploadPage} from './profile-photo-upload.page';\n\n// native plugins\nimport {Camera} from '@ionic-native/camera/ngx';\nimport {File} from '@ionic-native/file/ngx';\nimport {FileTransfer} from '@ionic-native/file-transfer/ngx';\nimport {WebView} from '@ionic-native/ionic-webview/ngx';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: ProfilePhotoUploadPage\n    }\n];\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        RouterModule.forChild(routes)\n    ],\n    providers: [\n        Camera,\n        File,\n        FileTransfer,\n        WebView,\n    ],\n    declarations: [ProfilePhotoUploadPage]\n})\nexport class ProfilePhotoUploadPageModule {\n}\n","import { Component, OnInit } from '@angular/core';\nimport { PetcloudApiService } from './../../api/petcloud-api.service';\nimport { ActionSheetController } from '@ionic/angular';\nimport { NavController, Platform } from '@ionic/angular';\n\n// native plugins\nimport { File } from '@ionic-native/file/ngx';\nimport { WebView } from '@ionic-native/ionic-webview/ngx';\nimport { Storage } from '@ionic/storage';\n\n// import model file\nimport { User } from '../../model/user';\nimport { finalize } from 'rxjs/operators';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { CameraService } from \"../../camera-service.service\";\nimport { Camera, CameraOptions} from \"@ionic-native/camera/ngx\";\n\n@Component({\n    selector: 'app-profile-photo-upload',\n    templateUrl: './profile-photo-upload.page.html',\n    styleUrls: ['./profile-photo-upload.page.scss'],\n})\nexport class ProfilePhotoUploadPage implements OnInit {\n\n    lastImage: string = null;\n    public todayDate = new Date();\n    public selectedProfileImage = 'assets/img/sitter1.png';\n    myImageUrl: any; \n    prevImageURL: any;\n    isPhoneVerify: boolean;\n    isEmailVerify: boolean;\n    verificationResponse: any;\n    uploadUrl: any; // Server Response;\n    isImage: boolean = false;\n    public userData: User;\n    public backButton: any = \"\";\n\n\n    constructor(protected storage: Storage, protected navCtrl: NavController,\n        private webview: WebView, public platform: Platform, public actionSheetCtrl: ActionSheetController,\n        public router: Router,public route: ActivatedRoute,\n        public camera:Camera,\n        private file: File, private CameraAPI: CameraService, public api: PetcloudApiService) {\n\n            this.backButton = this.route.snapshot.paramMap.get(\"backBtn\");\n            \n        this.getUserProfilePhoto();\n    }\n\n    ngOnInit() {\n        this.checkVerification()\n    }\n\n    ionViewWillLeave() {\n        this.api.hideLoader();\n    }\n\n    ionViewDidLeave() {\n        this.api.hideLoader();\n    }\n\n    public getUserProfilePhoto() {\n\n        this.storage.get(PetcloudApiService.USER)\n        .then((res: User) => {\n            this.userData = res;\n\n                if (this.userData .imagename !== '' || this.userData .imagename !== null) {\n                    this.isImage = false;\n                    this.myImageUrl =  this.userData.imagename;\n                    this.prevImageURL =  this.userData .imagename;\n                } else {\n                    this.isImage = true;\n                }\n            }, (err: any) => {\n                console.log('user not found!');\n            });\n    }\n\n    // Always get the accurate path to your apps folder\n    public pathForImage(img) {\n        if (img === null) {\n            return '';\n        } else {\n            const converted = this.webview.convertFileSrc(img);\n            return converted;\n        }\n    }\n\n    async showActionSheet() {\n        await this.platform.ready();\n        const actionSheet = await this.actionSheetCtrl.create({\n            header: 'Select Photo From',\n            buttons: [{\n                text: 'Camera',\n                handler: () => {\n                    this.photoOption(this.camera.PictureSourceType.CAMERA);\n                }\n            }, {\n                text: 'Gallery',\n                handler: async () => {\n                    const status = await this.CameraAPI.checkPhotoLibraryPermission();\n                    if(status) {\n                      this.photoOption(this.camera.PictureSourceType.PHOTOLIBRARY);\n                    }\n                }\n            }, {\n                text: 'Cancel'\n            }]\n        });\n        await actionSheet.present();\n    }\n\n    photoOption(params) {\n\n        this.CameraAPI.getPicture(params).then((base64String:any)=>{\n            this.myImageUrl = 'data:image/jpeg;base64,' + base64String;\n            this.imageUpload();\n          },err=>{\n            console.error(\"err\", err)\n          })\n        \n    }\n\n    imageUpload() {\n        if(this.myImageUrl == \"https://cdn.petcloud.com.au/uploads/user/\"){\n            this.api.showToast(\"please upload profile pic\",\"2000\",\"bottom\")\n        }\n\n        else if (this.selectedProfileImage != \"\" && this.myImageUrl == undefined && this.isImage) {\n            if (this.isPhoneVerify && this.isEmailVerify) {\n                this.router.navigateByUrl('/home/tabs/profile-menu', { skipLocationChange: true });\n            } else {\n         \n                this.router.navigate([\n                    \"/profile-photo-upload\",\n                    { backBtn: true },\n                  ]);\n                \n            }\n        }\n        else {\n            const fileParams = { data: this.myImageUrl, name: \"Imagename.jpg\", };\n            // Same Image from Storage Conditon..\n            if (fileParams.data == this.prevImageURL) { \n                if (this.isPhoneVerify && this.isEmailVerify) {\n                    this.router.navigateByUrl('/home/tabs/profile-menu', { skipLocationChange: true });\n                } else if (this.isEmailVerify == false || this.isPhoneVerify == false) {\n                    this.router.navigate(['/profile-email-verify', { backBtn: true }])\n                } else if (this.isEmailVerify == undefined || this.isPhoneVerify == undefined) {\n                    this.router.navigate(['/profile-email-verify', { backBtn: true }])\n                }\n            } else {\n                \n                this.api.showLoader();\n                this.api.userImageUpload(fileParams).pipe(\n                    finalize(() => {\n                        this.api.hideLoader();\n                    }))\n                    .subscribe((res: any) => {\n                        if (res.success) {\n                            this.uploadUrl = res.uploadUrl;\n                           \n                            // Update Image..\n                            this.storage.get(PetcloudApiService.USER)\n                                .then((userData: User) => {\n                                    this.storage.set(PetcloudApiService.USER, userData);\n                                });\n                            this.api.showToast('Photo Uploaded.', 2000, 'bottom');\n                            if (this.isPhoneVerify && this.isEmailVerify) {\n                                this.router.navigateByUrl('/home/tabs/profile-menu');\n                            } else if (this.isEmailVerify == false || this.isPhoneVerify == false) {\n                                this.router.navigate(['/profile-email-verify', { backBtn: true }])\n                            } else if (this.isEmailVerify == undefined || this.isPhoneVerify == undefined) {\n                                this.router.navigate(['/profile-email-verify', { backBtn: true }])\n                            }else{\n                                this.router.navigateByUrl('/home/tabs/profile-menu');\n                            }\n                        } else {\n                            this.api.showToast('Filed to add photo.', 2000, 'bottom');\n                        }\n                    }, (err: any) => {\n                        this.api.autoLogout(err,fileParams)\n                    });\n            }\n        }\n\n\n    }\n\n    backButtonNavigate(){\n        if(this.backButton){\n            this.router.navigateByUrl('/home/tabs/sitter-listing')\n        }else{\n            this.navCtrl.pop();\n        }\n    }\n\n\n    private checkVerification() {\n        this.api.checkVerification().pipe(finalize(() => {\n            // this.api.showToast('something went wrong! please Try again.', 2000, 'bottom');\n        })).subscribe((res: any) => {\n            this.verificationResponse = res;\n            if (res.emailVerify.status == \"1\") {\n                this.isEmailVerify = true\n            } else if (res.emailVerify.status != \"0\") {\n                this.isEmailVerify = false\n            }\n            if (res.phoneVerify.verify_phoneflag == \"Y\") {\n                this.isPhoneVerify = true\n            } else if (res.phoneVerify.verify_phoneflag != \"N\") {\n                this.isPhoneVerify == false;\n            }\n\n        }, err => {\n            this.api.autoLogout(err,\"\");\n        })\n    }\n}\n","export default \".profileimg {\\n  width: 150px;\\n  height: 150px;\\n  display: block;\\n  margin: 0 auto;\\n  border-radius: 50%;\\n  border: 1px solid #c2c2c2;\\n}\\n.profileimg ion-avatar {\\n  width: 150px;\\n  height: 150px;\\n  margin: 0 auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2ZpbGUtcGhvdG8tdXBsb2FkLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQUE7RUFDQSxhQUFBO0VBQ0EsY0FBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtFQUNBLHlCQUFBO0FBQ0o7QUFBSTtFQUNFLFlBQUE7RUFDQSxhQUFBO0VBQ0EsY0FBQTtBQUVOIiwiZmlsZSI6InByb2ZpbGUtcGhvdG8tdXBsb2FkLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wcm9maWxlaW1nIHtcbiAgICB3aWR0aDogMTUwcHg7XG4gICAgaGVpZ2h0OiAxNTBweDtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2MyYzJjMjtcbiAgICBpb24tYXZhdGFye1xuICAgICAgd2lkdGg6IDE1MHB4O1xuICAgICAgaGVpZ2h0OiAxNTBweDtcbiAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIH1cbn1cbiJdfQ== */\";","export default \"<ion-header>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button (click)=\\\"backButtonNavigate()\\\" defaultHref=\\\"home\\\"   ></ion-back-button>\\n        </ion-buttons>\\n        <ion-title>Upload Photo</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content>\\n    <ion-grid>\\n        <ion-row class=\\\"ion-justify-content-center\\\">\\n            <ion-col size=12 class=\\\"ion-text-justify\\\">\\n                <div class=\\\"profileimg\\\">\\n                    <ion-avatar>\\n                        <ion-img *ngIf=\\\"myImageUrl != ''\\\" \\n                        [src]=\\\"myImageUrl\\\"></ion-img>\\n                    </ion-avatar>\\n                </div>\\n            </ion-col>\\n            <ion-col>\\n                <div class=\\\"ion-text-center ion-padding-top\\\">\\n                    <ion-button class=\\\"text-capitalize fls-0 fs-16\\\" size=\\\"large\\\" color=\\\"theme\\\" (click)=\\\"showActionSheet()\\\">Upload Image</ion-button>\\n                </div>\\n                <div class=\\\"ion-text-center\\\">\\n                    <small>This must be a clear photo of your face. <br>Not a picture of a Pet or\\n                        your Business Logo\\n                    </small>\\n                </div>\\n            </ion-col>\\n        </ion-row>\\n    </ion-grid>\\n</ion-content>\\n\\n<ion-footer>\\n    <ion-button class=\\\"text-capitalize fls-0 fs-18 footer-btn\\\" \\n        expand=\\\"full\\\" color=\\\"theme\\\" \\n        (click)=\\\"imageUpload()\\\"\\n    >\\n        Next\\n    </ion-button>\\n</ion-footer>\\n\";"]}