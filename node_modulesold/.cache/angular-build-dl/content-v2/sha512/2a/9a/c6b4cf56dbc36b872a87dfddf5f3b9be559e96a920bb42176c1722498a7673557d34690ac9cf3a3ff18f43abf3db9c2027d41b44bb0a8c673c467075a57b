(self["webpackChunkpetcloud"] = self["webpackChunkpetcloud"] || []).push([["src_app_reset-password_reset-password_module_ts"],{

/***/ 44371:
/*!*********************************************************!*\
  !*** ./src/app/reset-password/reset-password.module.ts ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ResetPasswordPageModule": function() { return /* binding */ ResetPasswordPageModule; }
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ 64762);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 37716);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ 38583);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ 3679);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ 39895);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ 80476);
/* harmony import */ var _reset_password_page__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reset-password.page */ 68946);







const routes = [
    {
        path: '',
        component: _reset_password_page__WEBPACK_IMPORTED_MODULE_0__.ResetPasswordPage
    }
];
let ResetPasswordPageModule = class ResetPasswordPageModule {
};
ResetPasswordPageModule = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.NgModule)({
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_3__.CommonModule,
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__.FormsModule,
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__.ReactiveFormsModule,
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__.IonicModule,
            _angular_router__WEBPACK_IMPORTED_MODULE_6__.RouterModule.forChild(routes)
        ],
        declarations: [_reset_password_page__WEBPACK_IMPORTED_MODULE_0__.ResetPasswordPage]
    })
], ResetPasswordPageModule);



/***/ }),

/***/ 68946:
/*!*******************************************************!*\
  !*** ./src/app/reset-password/reset-password.page.ts ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ResetPasswordPage": function() { return /* binding */ ResetPasswordPage; }
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! tslib */ 64762);
/* harmony import */ var _raw_loader_reset_password_page_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !raw-loader!./reset-password.page.html */ 30170);
/* harmony import */ var _reset_password_page_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reset-password.page.scss */ 71541);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ 37716);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ 3679);
/* harmony import */ var _api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api/petcloud-api.service */ 78975);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ 39895);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic/angular */ 80476);
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic/storage */ 38605);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ 68939);











let ResetPasswordPage = class ResetPasswordPage {
    constructor(api, formBuilder, router, loader, sideMenu, storage, navCtrl) {
        this.api = api;
        this.formBuilder = formBuilder;
        this.router = router;
        this.loader = loader;
        this.sideMenu = sideMenu;
        this.storage = storage;
        this.navCtrl = navCtrl;
        // disable side menu on reset password page
        this.sideMenu.enable(false);
    }
    ngOnInit() {
        this.resetForm = this.formBuilder.group({
            email: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.email]]
        });
    }
    resetPassword() {
        this.api.showLoader();
        this.resetData = this.resetForm.value;
        this.api.resetPassword(this.resetData).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.finalize)(() => {
            // hide loader in success
            this.api.hideLoader();
        })).subscribe((res) => {
            if (res.success) {
                this.api.showAlert('Reset Password', 'An email has been sent to <b>' + this.resetData.email + '</b>. Click on the link in the email to reset your password', [
                    {
                        text: 'OK',
                        handler: () => {
                            this.router.navigateByUrl('/login');
                        }
                    }
                ]);
            }
            else {
                this.api.showToast('Link is not send to your Email! Try again.', 2000, 'bottom');
            }
        }, (err) => {
            this.api.showToast('something went wrong! please Try again.', 2000, 'bottom');
            this.api.autoLogout(err, this.resetData);
        });
    }
};
ResetPasswordPage.ctorParameters = () => [
    { type: _api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__.PetcloudApiService },
    { type: _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormBuilder },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_5__.Router },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_6__.LoadingController },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_6__.MenuController },
    { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_7__.Storage },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_6__.NavController }
];
ResetPasswordPage = (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_9__.Component)({
        selector: 'app-reset-password',
        template: _raw_loader_reset_password_page_html__WEBPACK_IMPORTED_MODULE_0__.default,
        styles: [_reset_password_page_scss__WEBPACK_IMPORTED_MODULE_1__.default]
    })
], ResetPasswordPage);



/***/ }),

/***/ 71541:
/*!*********************************************************!*\
  !*** ./src/app/reset-password/reset-password.page.scss ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("ion-label {\n  font-weight: 400;\n  font-size: 14px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc2V0LXBhc3N3b3JkLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFBO0VBQ0EsZUFBQTtBQUNKIiwiZmlsZSI6InJlc2V0LXBhc3N3b3JkLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1sYWJlbCB7XG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICBmb250LXNpemU6IDE0cHg7XG59Il19 */");

/***/ }),

/***/ 30170:
/*!***********************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/reset-password/reset-password.page.html ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header class=\"ion-no-border\">\n  <ion-toolbar mode=\"md\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"/login\"></ion-back-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <ion-grid class=\"login\">\n    <ion-row class=\"ion-margin-vertical ion-padding-bottom\">\n      <ion-col>\n        <h1 class=\"ion-text-start text-theme fw-400\">Enter your registered email address</h1>\n      </ion-col>\n    </ion-row>\n    <ion-row class=\"ion-margin-vertical\">\n      <ion-col>\n        <!-- <p class=\"resetinfo\">Enter your email address. A link will be sent to your email address so that you can reset\n          your password.</p> -->\n        <form [formGroup]=\"resetForm\">\n          <div>\n            <ion-label position=\"stacked\" class=\"ion-text-uppercase text-grey-1\">Email address</ion-label>\n            <ion-input id=\"email\" class=\"custom-input\" inputmode=\"email\" formControlName=\"email\" placeholder=\"someone@example.com\">\n            </ion-input>\n          </div>\n          <ion-text lines=\"none\" class=\"animated fadeInUp\"\n          *ngIf=\"(resetForm.get('email').hasError('required') && (resetForm.get('email').dirty || resetForm.get('email').touched)\n           || resetForm.get('email').hasError('email'))\"\n           >\n          <p class=\"error\"\n            *ngIf=\"(resetForm.get('email').hasError('required') && (resetForm.get('email').dirty || resetForm.get('email').touched))\"\n          >\n            Enter email address.\n          </p>\n          <p class=\"error\"\n            *ngIf=\"((resetForm.get('email').dirty || resetForm.get('email').touched) && resetForm.get('email').hasError('email'))\"\n          >\n            Enter correct email address format.\n          </p>\n        </ion-text>\n          <div class=\"btn-wrapper\">\n            <ion-button expand=\"full\" color=\"theme\" [disabled]=\"!resetForm.valid\" (click)=\"resetPassword()\">\n              Send reset link\n            </ion-button>\n          </div>\n        </form>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n  <!-- <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\" class=\"ion-padding-bottom\">\n    <ion-fab-button color=\"white\" (click)=\"resetPassword()\"\n      [disabled]=\"!resetForm.valid\">\n      <ion-icon name=\"arrow-forward\"></ion-icon>\n    </ion-fab-button>\n  </ion-fab> -->\n</ion-content>");

/***/ })

}]);
//# sourceMappingURL=src_app_reset-password_reset-password_module_ts-es2015.js.map