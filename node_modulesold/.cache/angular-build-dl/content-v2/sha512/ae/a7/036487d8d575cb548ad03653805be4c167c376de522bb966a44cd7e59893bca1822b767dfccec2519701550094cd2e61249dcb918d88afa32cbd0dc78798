{"version":3,"sources":["webpack:///src/app/location-map/location-map.module.ts","webpack:///src/app/location-map/location-map.page.ts","webpack:///src/app/location-map/location-map.page.scss","webpack:///src/app/location-map/location-map.page.html"],"names":["routes","path","component","LocationMapPage","LocationMapPageModule","NgModule","imports","CommonModule","FormsModule","IonicModule","RouterModule","declarations","route","api","locationName","params","subscribe","undefined","loadMap","lat","lng","map","_panes","markerPane","remove","long","showLoader","setTimeout","hideLoader","Map","setView","tileLayer","maxZoom","minZoom","attribution","addTo","marker","openPopup","ActivatedRoute","PetcloudApiService","Component","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASA,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE,gDAAAC;AAFb,OADqB,CAAvB;;UAgBaC,sBAAqB;AAAA;AAAA,Q;;AAArBA,4BAAqB,uDATjC,+CAAAC,QAAA,EAAS;AACRC,eAAO,EAAE,CACP,6CAAAC,YADO,EAEP,4CAAAC,WAFO,EAGP,4CAAAC,WAHO,EAIP,6CAAAC,YAAA,UAAsBV,MAAtB,CAJO,CADD;AAORW,oBAAY,EAAE,CAAC,gDAAAR,eAAD;AAPN,OAAT,CASiC,GAArBC,sBAAqB,CAArB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCZAD,gBAAe;AAI1B,iCAAmBS,KAAnB,EAAiDC,GAAjD,EAA0E;AAAA;;AAAvD,eAAAD,KAAA,GAAAA,KAAA;AAA8B,eAAAC,GAAA,GAAAA,GAAA;AAF1C,eAAAC,YAAA,GAAoB,EAApB;AAEqE;;AAJlD;AAAA;AAAA,iBAM1B,oBAAW;AAAA;;AACT,iBAAKF,KAAL,CAAWG,MAAX,CAAkBC,SAAlB,CAA4B,UAAOD,MAAP;AAAA,qBAAkB;AAAA;AAAA;AAAA;AAAA;AAC5C,6BAAKD,YAAL,GAAoBC,MAAM,CAACD,YAA3B;;AACA,4BAAI,KAAKA,YAAL,IAAqBG,SAAzB,EAAoC;AAClC,+BAAKH,YAAL,GAAoB,EAApB;AACD;;AAJ2C;AAK5C,+BAAM,KAAKI,OAAL,CAAaH,MAAM,CAACI,GAApB,EAAyBJ,MAAM,CAACK,GAAhC,CAAN;;AAL4C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAlB;AAAA,aAA5B;AAOD;AAdyB;AAAA;AAAA,iBAgB1B,2BAAkB;AAChB,gBAAI,KAAKC,GAAT,EAAc;AACZ,mBAAKA,GAAL,CAASC,MAAT,CAAgBC,UAAhB,CAA2BC,MAA3B;;AACA,mBAAKH,GAAL,CAASG,MAAT;AACD;AACF;AAED;;;;AAvB0B;AAAA;AAAA,iBA0BpB,iBAAQL,GAAR,EAAaM,KAAb,EAAmB;;;;;;;;AACvB,2BAAKZ,GAAL,CAASa,UAAT;AACAC,gCAAU,CAAC,YAAM;AACf,8BAAI,CAACd,GAAL,CAASe,UAAT;;AACA,8BAAI,CAACP,GAAL,GAAW,IAAI,qCAAAQ,GAAJ,CAAQ,KAAR,EAAeC,OAAf,CAAuB,CAACX,GAAD,EAAMM,KAAN,CAAvB,EAAoC,EAApC,CAAX;AACA,iEAAAM,SAAA,EAAU,oDAAV,EAAgE;AAC9DC,iCAAO,EAAE,EADqD;AAE9DC,iCAAO,EAAE,EAFqD;AAG9DC,qCAAW,EACT;AAJ4D,yBAAhE,EAKGC,KALH,CAKS,MAAI,CAACd,GALd;AAOA,iEAAAe,MAAA,EAAO,CAACjB,GAAD,EAAMM,KAAN,CAAP,EACGU,KADH,CACS,MAAI,CAACd,GADd,EAEGgB,SAFH;AAGD,uBAbS,EAaP,IAbO,CAAV;;;;;;;;;AAcD;AA1CyB;;AAAA;AAAA,S;;;;gBATlB,6CAAAC;;gBACD,uDAAAC;;;;AAQIpC,sBAAe,uDAL3B,+CAAAqC,SAAA,EAAU;AACTC,gBAAQ,EAAE,kBADD;AAETC,gBAAQ,EAAR,0EAFS;;AAAA,OAAV,CAK2B,GAAfvC,gBAAe,CAAf;;;;;;;;;;;;;;;ACbb;;;AAAA,uCAAe,+TAAf;;;;;;;;;;;;;;;ACAA;;;AAAA,uCAAe,gVAAf","file":"src_app_location-map_location-map_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LocationMapPage } from './location-map.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LocationMapPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [LocationMapPage]\n})\nexport class LocationMapPageModule {}\n","import {\n  Component,\n  OnInit,\n} from \"@angular/core\";\nimport {  ActivatedRoute } from \"@angular/router\";\nimport { PetcloudApiService } from \"../api/petcloud-api.service\";\nimport { Map, tileLayer, marker, icon } from 'leaflet';\ndeclare var google: any;\n@Component({\n  selector: \"app-location-map\",\n  templateUrl: \"./location-map.page.html\",\n  styleUrls: [\"./location-map.page.scss\"],\n})\nexport class LocationMapPage implements OnInit {\n  map;\n  public locationName: any = \"\";\n\n  constructor(public route: ActivatedRoute, public api: PetcloudApiService) {}\n\n  ngOnInit() {\n    this.route.params.subscribe(async (params) => {\n      this.locationName = params.locationName;\n      if (this.locationName == undefined) {\n        this.locationName = \"\";\n      }\n      await this.loadMap(params.lat, params.lng);\n    });\n  }\n\n  ionViewDidLeave() {\n    if (this.map) {\n      this.map._panes.markerPane.remove();\n      this.map.remove();\n    }\n  }\n\n  /**\n   * Load Google Map\n   */\n  async loadMap(lat, long) {\n    this.api.showLoader();\n    setTimeout(() => {\n      this.api.hideLoader();\n      this.map = new Map(\"map\").setView([lat, long], 15);\n      tileLayer(\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\", {\n        maxZoom: 18,\n        minZoom: 10,\n        attribution:\n          '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n      }).addTo(this.map);\n\n      marker([lat, long])\n        .addTo(this.map)\n        .openPopup();\n    }, 5000);\n  }\n}\n","export default \".map {\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvY2F0aW9uLW1hcC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFBO0FBQ0oiLCJmaWxlIjoibG9jYXRpb24tbWFwLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9Il19 */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\">\\n          <ion-back-button defaultHref=\\\"/availability\\\"></ion-back-button>\\n      </ion-buttons>\\n      <ion-title>{{locationName}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  \\n  <div id=\\\"map\\\" style=\\\"height:100%;\\\"></div>\\n\\n</ion-content>\\n\";"]}