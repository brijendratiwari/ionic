{"version":3,"sources":["./src/app/availability-settings/availability-settings.page.ts","./src/app/availability-settings/availability-settings.page.scss","./src/app/availability-settings/availability-settings.page.html"],"names":[],"mappings":"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","file":"default-src_app_availability-settings_availability-settings_page_ts-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ModalController, NavParams } from '@ionic/angular';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { PetcloudApiService } from \"../api/petcloud-api.service\";\n@Component({\n  selector: 'app-availability-settings',\n  templateUrl: './availability-settings.page.html',\n  styleUrls: ['./availability-settings.page.scss'],\n})\nexport class AvailabilitySettingsPage implements OnInit {\n  settingForm: FormGroup;\n  selectedMonth: any;\n  settingsData: any = '';\n  checkedItems: any = [];\n  days: any = [\n    { label: \"Monday\", value: '1', checked: false },\n    { label: \"Tuesday\", value: '2', checked: false },\n    { label: \"Wednesday\", value: '3', checked: false },\n    { label: \"Thursday\", value: '4', checked: false },\n    { label: \"Friday\", value: '5', checked: false },\n    { label: \"Saturday\", value: '6', checked: false },\n    { label: \"Sunday\", value: '7', checked: false },\n  ]\n  constructor(\n    public modal: ModalController,\n    public formBuilder: FormBuilder,\n    public navParams: NavParams,\n    public api: PetcloudApiService,) {\n    this.settingForm = this.formBuilder.group({\n      enquiriesValues: ['', [Validators.required]],\n      daysValues: [],\n      break: [false],\n      regulars: [false]\n    });\n    this.selectedMonth = this.navParams.get('selectedMonth');\n\n    // console.log(this.selectedMonth)\n  }\n\n  ngOnInit() {\n    this.getDataAvailabilitySettings();\n  }\n  get f() {\n    return this.settingForm.controls;\n  }\n  dismissModal() {\n    this.modal.dismiss();\n  }\n  save() {\n    if (!this.settingForm.valid) {\n      this.settingForm.markAllAsTouched();\n      return;\n    }\n    var data = this.settingForm.value;\n    data.selectedMonth = this.selectedMonth;\n    if (this.settingForm.value.break) {\n      data.away_mode = \"yes\"\n    } else {\n      data.away_mode = \"no\"\n    }\n    if (this.settingForm.value.regulars) {\n      data.repeat_customer = \"yes\"\n    } else {\n      data.repeat_customer = \"no\"\n    }\n    this.api.showLoader();\n    this.api.calenderSettting(data).subscribe(\n      (res: any) => {\n        if (res.success) {\n          this.api.showToast(res.success, 2000, 'bottom');\n          this.dismissModal();\n        } else {\n          this.api.showToast('Please,try again!', 2000, 'bottom');\n        }\n        this.api.hideLoader();\n      },\n      (err: any) => {\n        this.api.hideLoader();\n        this.api.autoLogout(err, data);\n      }\n    );\n  }\n  onChange(item) {\n    if (this.checkedItems.includes(item)) {\n      this.checkedItems = this.checkedItems.filter((value) => value != item);\n    } else {\n      this.checkedItems.push(item)\n      // }\n      // console.log(this.checkedItems.toString())\n      this.settingForm.get(\"daysValues\").setValue(this.checkedItems);\n    }\n  }\n  getDataAvailabilitySettings() {\n    this.api.getAvailabilitySettingsData().subscribe(\n      (res: any) => {\n        if (res.success) {\n          this.settingsData = res;\n          if (this.settingsData.away_mode == 'yes') {\n            this.settingForm.get(\"break\").setValue(true);\n          } else {\n            this.settingForm.get(\"break\").setValue(false);\n          }\n          if (this.settingsData.repeat_customer == 'yes') {\n            this.settingForm.get(\"regulars\").setValue(true);\n          } else {\n            this.settingForm.get(\"regulars\").setValue(false);\n          }\n          this.settingForm.get(\"enquiriesValues\").setValue(res.enquiries);\n          this.settingForm.get(\"daysValues\").setValue(res.operating_days);\n          this.checkedItems = res.operating_days;\n          if (res.operating_days.length > 0) {\n            for (var i = 0; i < res.operating_days.length; i++) {\n              let index = this.days.findIndex((resp) => resp.value == res.operating_days[i]);\n              if (index > -1) {\n                this.days[index].checked = true;\n              }\n            }\n          }\n        } else {\n          this.settingsData = '';\n        }\n      },\n      (err: any) => {\n        this.api.hideLoader();\n      }\n    );\n\n  }\n}\n","export default \".setting-item {\\n  padding: 15px;\\n  clear: both;\\n}\\n\\n.setting-item.days ion-item {\\n  display: flex;\\n  width: 50%;\\n  float: left;\\n}\\n\\n.close-btn {\\n  font-size: 20px;\\n  padding-right: 9px;\\n}\\n\\n.action-btn {\\n  text-align: center;\\n}\\n\\n.action-btn ion-button {\\n  border: 2px solid #fe4164;\\n  --box-shadow: none;\\n  width: 92%;\\n  margin: 0px;\\n  text-transform: unset;\\n  font-size: 14px;\\n  font-weight: 600;\\n  margin-bottom: 23px;\\n  --background: transparent;\\n  color: #fe4164;\\n}\\n\\n.invalid {\\n  padding: 0 19px;\\n  color: red;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF2YWlsYWJpbGl0eS1zZXR0aW5ncy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0VBQ0EsV0FBQTtBQUNKOztBQUNBO0VBQ0ksYUFBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0FBRUo7O0FBQUE7RUFDSSxlQUFBO0VBQ0Esa0JBQUE7QUFHSjs7QUFEQTtFQUNJLGtCQUFBO0FBSUo7O0FBSEk7RUFDSSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7RUFDQSxxQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EseUJBQUE7RUFDQSxjQUFBO0FBS1I7O0FBRkE7RUFDSSxlQUFBO0VBQ0EsVUFBQTtBQUtKIiwiZmlsZSI6ImF2YWlsYWJpbGl0eS1zZXR0aW5ncy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc2V0dGluZy1pdGVtIHtcclxuICAgIHBhZGRpbmc6IDE1cHg7XHJcbiAgICBjbGVhcjogYm90aDtcclxufVxyXG4uc2V0dGluZy1pdGVtLmRheXMgaW9uLWl0ZW0ge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIHdpZHRoOiA1MCU7XHJcbiAgICBmbG9hdDogbGVmdDtcclxufVxyXG4uY2xvc2UtYnRuIHtcclxuICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDlweDtcclxufVxyXG4uYWN0aW9uLWJ0biB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBpb24tYnV0dG9uIHtcclxuICAgICAgICBib3JkZXI6IDJweCBzb2xpZCAjZmU0MTY0O1xyXG4gICAgICAgIC0tYm94LXNoYWRvdzogbm9uZTtcclxuICAgICAgICB3aWR0aDogOTIlO1xyXG4gICAgICAgIG1hcmdpbjogMHB4O1xyXG4gICAgICAgIHRleHQtdHJhbnNmb3JtOiB1bnNldDtcclxuICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAyM3B4O1xyXG4gICAgICAgIC0tYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgY29sb3I6ICNmZTQxNjQ7XHJcbiAgICB9XHJcbn1cclxuLmludmFsaWQge1xyXG4gICAgcGFkZGluZzogMCAxOXB4O1xyXG4gICAgY29sb3I6IHJlZDtcclxufVxyXG4iXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Availability Settings</ion-title>\\n    <ion-buttons slot=\\\"end\\\" class=\\\"close-btn\\\">\\n      <ion-icon name=\\\"close\\\" (click)=\\\"dismissModal()\\\"></ion-icon>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <form [formGroup]=\\\"settingForm\\\">\\n    <div class=\\\"setting-form\\\">\\n      <ion-list lines=\\\"none\\\">\\n        <div class=\\\"setting-item\\\">\\n          <h5>Volume of enquires</h5>\\n          <ion-radio-group [allowEmptySelection]=\\\"true\\\" formControlName=\\\"enquiriesValues\\\">\\n            <ion-item>\\n              <ion-label>Full time - Pets are my life</ion-label>\\n              <ion-radio slot=\\\"end\\\" [value]=\\\"0\\\"></ion-radio>\\n            </ion-item>\\n\\n            <ion-item>\\n              <ion-label>Part time - Week days only</ion-label>\\n              <ion-radio slot=\\\"end\\\" [value]=\\\"1\\\"></ion-radio>\\n            </ion-item>\\n\\n            <ion-item>\\n              <ion-label>Part time - Friday nights & Weekends only </ion-label>\\n              <ion-radio slot=\\\"end\\\" [value]=\\\"2\\\"></ion-radio>\\n            </ion-item>\\n\\n            <ion-item>\\n              <ion-label>Casual - Sparadic</ion-label>\\n              <ion-radio slot=\\\"end\\\" [value]=\\\"3\\\"></ion-radio>\\n            </ion-item>\\n          </ion-radio-group>\\n        </div>\\n        <div\\n          *ngIf=\\\"f['enquiriesValues'].invalid && f['enquiriesValues'].errors && (f['enquiriesValues'].dirty || f['enquiriesValues'].touched)\\\"\\n          class=\\\"invalid\\\">\\n          <div *ngIf=\\\"f['enquiriesValues'].errors['required']\\\"> Enquires is required</div>\\n        </div>\\n        <div class=\\\"setting-item days\\\">\\n          <h5>Operating Days</h5>\\n          <p>Choose which days you want to be open for business and save changes</p>\\n          <ion-item *ngFor=\\\"let day of days\\\">\\n            <ion-label>{{day.label}}</ion-label>\\n            <ion-checkbox (click)=\\\"onChange(day.value)\\\" name=\\\"day\\\" [checked]=\\\"day.checked\\\">\\n            </ion-checkbox>\\n          </ion-item>\\n        </div>\\n        <!-- <div\\n          *ngIf=\\\"f['operating_days'].invalid && f['operating_days'].errors && (f['operating_days'].dirty || f['operating_days'].touched)\\\"\\n          class=\\\"invalid\\\">\\n          <div *ngIf=\\\"f['operating_days'].errors['required']\\\"> Select operating days</div>\\n        </div> -->\\n        <div class=\\\"setting-item\\\">\\n          <h5>Having a Break?</h5>\\n          <p>If you can't respond to messages for a while,switch to Away mode.</p>\\n          <ion-item>\\n            <ion-label>Away</ion-label>\\n            <ion-toggle slot=\\\"start\\\" name=\\\"blueberry\\\"  formControlName=\\\"break\\\"></ion-toggle>\\n          </ion-item>\\n        </div>\\n        <div class=\\\"setting-item\\\">\\n          <h5>Just want your regulars?</h5>\\n          <p>If you have built up enough customers,switch to only be contacted by them.</p>\\n          <ion-item>\\n            <ion-label>Repeat Customers Only</ion-label>\\n            <ion-toggle slot=\\\"start\\\" name=\\\"blueberry\\\" formControlName=\\\"regulars\\\"></ion-toggle>\\n          </ion-item>\\n        </div>\\n      </ion-list>\\n      <div class=\\\"action-btn\\\">\\n        <ion-button class=\\\"save-btn\\\" (click)=\\\"save()\\\">Save</ion-button>\\n      </div>\\n    </div>\\n  </form>\\n</ion-content>\";"],"sourceRoot":"webpack:///"}