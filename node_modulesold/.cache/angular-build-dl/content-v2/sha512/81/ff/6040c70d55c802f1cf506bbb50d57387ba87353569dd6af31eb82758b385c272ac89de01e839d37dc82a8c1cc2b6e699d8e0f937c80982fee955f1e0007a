{"version":3,"sources":["./src/app/messages/messages.module.ts","./src/app/messages/messages.page.ts","./src/app/messages/messages.page.scss","./src/app/messages/messages.page.html"],"names":[],"mappings":"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","file":"src_app_messages_messages_module_ts-es2015.js","sourcesContent":["import {NgModule, CUSTOM_ELEMENTS_SCHEMA} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {Routes, RouterModule} from '@angular/router';\nimport {IonicModule} from '@ionic/angular';\nimport {MessagesPage} from './messages.page';\n\n\nconst routes: Routes = [   {\n    path: '',\n    component: MessagesPage,\n    children: [\n      {\n        path: 'messages-list',\n        loadChildren: () => import('../messages-list/messages-list.module').then(m => m.MessagesListPageModule)\n        // loadChildren: '../messages-list/messages-list.module#MessagesListPageModule'\n      \n      },\n      {\n        path: 'job-application-tab',\n        loadChildren: () => import('../job-application-tab/job-application-tab.module').then(m => m.JobApplicationTabPageModule)\n        // loadChildren: '../job-application-tab/job-application-tab.module#JobApplicationTabPageModule'\n      },{\n        path: '',\n        redirectTo: 'messages-list',\n        pathMatch: 'full'\n    }\n    ]}];\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        ReactiveFormsModule,\n        RouterModule.forChild(routes)\n    ],\n    declarations: [MessagesPage],\n})\nexport class MessagesPageModule {\n}\n\n","import { Component, OnInit, OnDestroy, ViewChild, Inject } from \"@angular/core\";\nimport { PetcloudApiService } from \"../api/petcloud-api.service\";\nimport {\n  ModalController,\n  NavController,\n  Platform,\n  LoadingController,\n  IonTabs,\n} from \"@ionic/angular\";\nimport { Router, ActivatedRoute, NavigationEnd } from \"@angular/router\";\nimport { Storage } from \"@ionic/storage\";\nimport { filter } from \"rxjs/operators\";\nimport { User } from \"../model/user\";\nimport { Subscription } from 'rxjs';\nimport { Events } from \"../events\";\n\n@Component({\n  selector: \"app-messages\",\n  templateUrl: \"./messages.page.html\",\n  styleUrls: [\"./messages.page.scss\"],\n})\nexport class MessagesPage implements OnInit {\n\n  private _routerMsgPageSub = new Subscription();\n  public selectedMessengingSegment: any = \"\";\n  userType: any = \"\";\n  menuType: any = \"sitter\"\n  @ViewChild('messengingTabs',{read:true}) tabs: IonTabs;\n  isJobListingCss: boolean = false;\n  isMessageListingCss: boolean = true\n\n  constructor(\n    public api: PetcloudApiService,\n    public modalCtrl: ModalController,\n    public platform: Platform,\n    public loading: LoadingController,\n    private router: Router,\n    protected storage: Storage,\n    public navcntl: NavController,\n    public route: ActivatedRoute,\n    public navCntl: NavController,\n    public mEvents:Events,\n  ) {\n\n    this._routerMsgPageSub.add(\n      this.router.events\n      .pipe(filter((event) => event instanceof NavigationEnd))\n    .subscribe((event: any) => {\n \n        if (event.url == \"/home/tabs/messages\") {\n        \n          this.storage.get(PetcloudApiService.USER).then((res: User) => {\n            if (res != null) {\n              if (event.url == \"/home/tabs/messages\") {\n                this.isMessageListingCss = true;\n                this.isJobListingCss = false;\n                this.getInfo();\n              }else{\n                this.isJobListingCss = true;\n                this.isMessageListingCss = false;\n              }\n            }\n          });\n\n\n          this.mEvents.subscribe(\"menuName\", (data) => {\n            console.log(\"menu name\", data.menuType);\n              this.menuType = data.menuType;\n          })  \n        }\n      })\n    ) \n    this.backButtonEvent();\n  }\n\n  ngOnInit() {\n  }\n\n\n  ngOnDestroy() {\n    this._routerMsgPageSub.unsubscribe();\n  }\n\n\n  navigateTo(pageName) {\n    if (pageName == \"messages-list\") {\n      this.isMessageListingCss = true;\n      this.isJobListingCss = false;\n    } else {\n      this.isJobListingCss = true;\n      this.isMessageListingCss = false;\n    }\n    this.router.navigate(['/home/tabs/messages/' + pageName])\n  }\n\n  getInfo() {\n    this.storage.get(PetcloudApiService.USER).then(\n      async (user: User) => {\n        if (user != null) {\n           this.api.isVerificationPendingModel();\n        }\n\n      },\n      (err) => {\n        \n      }\n    );\n  }\n\n  // active hardware back button\n  backButtonEvent() {\n    this.platform.backButton.subscribe(async () => {\n      this.api.dismissModelorAlert();\n      if (this.router.url === \"/home/tabs/messages\" || this.router.url == \"/home/tabs/messages/messages-list\") {\n        this.navCntl.navigateRoot(\"/home/tabs/sitter-listing\")\n      }\n    });\n  }\n}\n","export default \"ion-header ion-title .subtitle {\\n  display: block;\\n  font-size: 12px;\\n  color: #888888;\\n  letter-spacing: 0;\\n}\\nion-header ion-toolbar {\\n  padding-top: 0px;\\n}\\nion-tabs ion-tab-button {\\n  --color: #4a4a4a;\\n  --color-selected: #4a4a4a;\\n}\\n.selected-tab {\\n  color: #fe4164;\\n  font-size: 14px;\\n  border-bottom: 2px solid #fe4164;\\n  background-color: white;\\n  display: block;\\n  width: 100%;\\n  max-width: 100%;\\n}\\n.unselected-tab {\\n  font-size: 14px;\\n  background-color: white;\\n  display: block;\\n  width: 100%;\\n  max-width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lc3NhZ2VzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFUTtFQUNJLGNBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtFQUNBLGlCQUFBO0FBRFo7QUFJSTtFQUNJLGdCQUFBO0FBRlI7QUFPSTtFQUNFLGdCQUFBO0VBQ0EseUJBQUE7QUFKTjtBQVNBO0VBQ0ksY0FBQTtFQUNBLGVBQUE7RUFDQSxnQ0FBQTtFQUNBLHVCQUFBO0VBQ0EsY0FBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0FBTko7QUFTQTtFQUNFLGVBQUE7RUFDQSx1QkFBQTtFQUNBLGNBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtBQU5GIiwiZmlsZSI6Im1lc3NhZ2VzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1oZWFkZXJ7XG4gICAgaW9uLXRpdGxle1xuICAgICAgICAuc3VidGl0bGV7XG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICAgIGNvbG9yOiAjODg4ODg4O1xuICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW9uLXRvb2xiYXIge1xuICAgICAgICBwYWRkaW5nLXRvcDogMHB4O1xuICAgIH1cbn1cblxuaW9uLXRhYnMge1xuICAgIGlvbi10YWItYnV0dG9uIHtcbiAgICAgIC0tY29sb3I6ICM0YTRhNGE7XG4gICAgICAtLWNvbG9yLXNlbGVjdGVkOiAjNGE0YTRhO1xuXG4gIH1cbn0gIFxuXG4uc2VsZWN0ZWQtdGFie1xuICAgIGNvbG9yOiAjZmU0MTY0O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgI2ZlNDE2NDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICB3aWR0aDogMTAwJTtcbiAgICBtYXgtd2lkdGg6IDEwMCU7XG59XG5cbi51bnNlbGVjdGVkLXRhYntcbiAgZm9udC1zaXplOiAxNHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXgtd2lkdGg6IDEwMCU7XG59XG5cbiJdfQ== */\";","export default \"<ion-router-outlet>\\n  <ion-tabs tabsHighlight=\\\"true\\\" #messengingTabs>\\n    <ion-header [hidden]=\\\"menuType == 'owner'\\\" style=\\\"top: 0px;\\\" class=\\\"ion-no-border\\\" no-shadow>\\n      <ion-toolbar>\\n        <div class=\\\"tab-wrapper\\\">\\n          <ion-tab-bar [ngStyle]=\\\"{ 'display' : (menuType == 'sitter') ? 'flex' : 'none' }\\\" slot=\\\"top\\\">\\n            <ion-tab-button [ngClass]=\\\"isMessageListingCss == true ? 'selected-tab' : 'unselected-tab'\\\"\\n              (click)=\\\"navigateTo('messages-list')\\\">\\n              <ion-label class=\\\"tab-title\\\">Messages {{userType}}</ion-label>\\n            </ion-tab-button>\\n  \\n            <ion-tab-button [ngClass]=\\\"isJobListingCss == true ? 'selected-tab' : 'unselected-tab'\\\"\\n              (click)=\\\"navigateTo('job-application-tab')\\\">\\n              <ion-label class=\\\"tab-title\\\">Job Applications</ion-label>\\n            </ion-tab-button>\\n           </ion-tab-bar>\\n        </div>\\n      </ion-toolbar>\\n    </ion-header>\\n  </ion-tabs>\\n</ion-router-outlet>\";"],"sourceRoot":"webpack:///"}