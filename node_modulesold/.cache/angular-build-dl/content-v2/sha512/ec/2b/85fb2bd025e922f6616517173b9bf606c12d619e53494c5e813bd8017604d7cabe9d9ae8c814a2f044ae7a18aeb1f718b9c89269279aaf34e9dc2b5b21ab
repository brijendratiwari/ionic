(self["webpackChunkpetcloud"] = self["webpackChunkpetcloud"] || []).push([["src_app_reference_reference_module_ts"],{

/***/ 7696:
/*!***********************************************!*\
  !*** ./src/app/reference/reference.module.ts ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ReferencePageModule": function() { return /* binding */ ReferencePageModule; }
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ 64762);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ 37716);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ 38583);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ 3679);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ 39895);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic/angular */ 80476);
/* harmony import */ var _reference_page__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reference.page */ 91006);
/* harmony import */ var _request_reference_form_request_reference_form_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../request-reference-form/request-reference-form.component */ 99925);








const routes = [
    {
        path: '',
        component: _reference_page__WEBPACK_IMPORTED_MODULE_0__.ReferencePage
    }
];
let ReferencePageModule = class ReferencePageModule {
};
ReferencePageModule = (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.NgModule)({
        entryComponents: [_request_reference_form_request_reference_form_component__WEBPACK_IMPORTED_MODULE_1__.RequestReferenceFormComponent],
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_4__.CommonModule,
            _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule,
            _ionic_angular__WEBPACK_IMPORTED_MODULE_6__.IonicModule,
            _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule,
            _angular_router__WEBPACK_IMPORTED_MODULE_7__.RouterModule.forChild(routes)
        ],
        declarations: [_reference_page__WEBPACK_IMPORTED_MODULE_0__.ReferencePage, _request_reference_form_request_reference_form_component__WEBPACK_IMPORTED_MODULE_1__.RequestReferenceFormComponent]
    })
], ReferencePageModule);



/***/ }),

/***/ 91006:
/*!*********************************************!*\
  !*** ./src/app/reference/reference.page.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ReferencePage": function() { return /* binding */ ReferencePage; }
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tslib */ 64762);
/* harmony import */ var _raw_loader_reference_page_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !raw-loader!./reference.page.html */ 20127);
/* harmony import */ var _reference_page_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reference.page.scss */ 29200);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 37716);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ 80476);
/* harmony import */ var _request_reference_form_request_reference_form_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../request-reference-form/request-reference-form.component */ 99925);






let ReferencePage = class ReferencePage {
    constructor(modalCtrl) {
        this.modalCtrl = modalCtrl;
    }
    ngOnInit() {
    }
    openModal() {
        return (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__awaiter)(this, void 0, void 0, function* () {
            const modal = yield this.modalCtrl.create({
                component: _request_reference_form_request_reference_form_component__WEBPACK_IMPORTED_MODULE_2__.RequestReferenceFormComponent,
                animated: true
            });
            modal.onDidDismiss()
                .then((data) => {
                console.log('filter', data.data);
            });
            return yield modal.present();
        });
    }
};
ReferencePage.ctorParameters = () => [
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__.ModalController }
];
ReferencePage = (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_5__.Component)({
        selector: 'app-reference',
        template: _raw_loader_reference_page_html__WEBPACK_IMPORTED_MODULE_0__.default,
        styles: [_reference_page_scss__WEBPACK_IMPORTED_MODULE_1__.default]
    })
], ReferencePage);



/***/ }),

/***/ 99925:
/*!****************************************************************************!*\
  !*** ./src/app/request-reference-form/request-reference-form.component.ts ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RequestReferenceFormComponent": function() { return /* binding */ RequestReferenceFormComponent; }
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ 64762);
/* harmony import */ var _raw_loader_request_reference_form_component_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !raw-loader!./request-reference-form.component.html */ 51232);
/* harmony import */ var _request_reference_form_component_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./request-reference-form.component.scss */ 98074);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ 37716);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic/angular */ 80476);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ 3679);
/* harmony import */ var _api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api/petcloud-api.service */ 78975);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ 68939);
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic/storage */ 38605);









let RequestReferenceFormComponent = class RequestReferenceFormComponent {
    constructor(modalCtrl, formBuilder, navCtrl, api, storage) {
        this.modalCtrl = modalCtrl;
        this.formBuilder = formBuilder;
        this.navCtrl = navCtrl;
        this.api = api;
        this.storage = storage;
        this.emailArray = [];
        this.submitted = false;
    }
    ngOnInit() {
        this.RequestTestimonialForm = this.formBuilder.group({
            emails: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.email]],
            emailbody: ['Thanks a lot for completing a reference for me on petcloud.com.au. This will improve my profile',
                [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required]]
        });
    }
    dismissModal() {
        this.modalCtrl.dismiss();
    }
    shareFacebook() {
        return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(this, void 0, void 0, function* () {
            this.api.shareViaFb(this.RequestTestimonialForm.value.emailbody, "", 'https://www.petcloud.com.au/reference/create/13950393?fbclid=IwAR14NB2GfcBD1Y8c9rtiCVJLP07pZx1QnveWwdhjcOwbecSO_nN68aSrWAY');
        });
    }
    sendRequestReference() {
        this.submitted = true;
        if (this.RequestTestimonialForm.valid) {
            this.emailArray.push(this.RequestTestimonialForm.value.emails);
            const reqFormArray = { emails: JSON.stringify(this.emailArray), emailbody: this.RequestTestimonialForm.value.emailbody };
            this.api.showLoader();
            this.api.requestReference(reqFormArray).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.finalize)(() => {
                this.api.hideLoader();
            })).subscribe((res) => {
                if (res.success) {
                    this.RequestTestimonialForm.patchValue({
                        emails: ''
                    });
                    this.api.showToast('Email Sent', '2000', 'bottom');
                    // Patch Value is for clearing Email form
                    this.RequestTestimonialForm.patchValue({ emails: '' });
                    this.storage.get(_api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__.PetcloudApiService.USER)
                        .then((userData) => {
                        userData.reference_flag = true;
                        this.api.updateUserProfile(userData)
                            .subscribe((resUserData) => {
                            if (resUserData.success) {
                                this.storage.set(_api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__.PetcloudApiService.USER, resUserData.user);
                                this.storage.get(_api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__.PetcloudApiService.USER)
                                    .then((UpuserData) => {
                                    this.modalCtrl.dismiss();
                                });
                            }
                            else {
                                this.modalCtrl.dismiss();
                                //   this.api.showToast('request refrence status not update! please try again!', 2000, 'bottom');
                            }
                        }, (err) => {
                            this.api.autoLogout(err, reqFormArray);
                        });
                    });
                }
                else {
                    this.RequestTestimonialForm.patchValue({
                        emails: ''
                    });
                    this.api.showToast('Try Again', '2000', 'bottom');
                    this.dismissModal();
                }
            }, err => {
                // this.api.autoLogout(err,userData)
                this.dismissModal();
            });
        }
        else {
            this.RequestTestimonialForm.get('emails').markAsTouched();
            return;
        }
    }
};
RequestReferenceFormComponent.ctorParameters = () => [
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_6__.ModalController },
    { type: _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormBuilder },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_6__.NavController },
    { type: _api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__.PetcloudApiService },
    { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_7__.Storage }
];
RequestReferenceFormComponent = (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_8__.Component)({
        selector: 'app-request-reference-form',
        template: _raw_loader_request_reference_form_component_html__WEBPACK_IMPORTED_MODULE_0__.default,
        styles: [_request_reference_form_component_scss__WEBPACK_IMPORTED_MODULE_1__.default]
    })
], RequestReferenceFormComponent);



/***/ }),

/***/ 29200:
/*!***********************************************!*\
  !*** ./src/app/reference/reference.page.scss ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("ion-card {\n  box-shadow: none;\n}\n\n.req-text {\n  margin: 16px 0px 5px;\n  font-weight: 500;\n  font-size: 15px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZmVyZW5jZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxnQkFBQTtBQUNKOztBQUNBO0VBQ0ksb0JBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7QUFFSiIsImZpbGUiOiJyZWZlcmVuY2UucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNhcmQge1xuICAgIGJveC1zaGFkb3c6IG5vbmU7XG59XG4ucmVxLXRleHQge1xuICAgIG1hcmdpbjogMTZweCAwcHggNXB4O1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgZm9udC1zaXplOiAxNXB4O1xufSJdfQ== */");

/***/ }),

/***/ 98074:
/*!******************************************************************************!*\
  !*** ./src/app/request-reference-form/request-reference-form.component.scss ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("ion-grid, ion-row, ion-col {\n  padding: 0px;\n  margin: 0px;\n}\n\nion-item {\n  --padding-start: 0px;\n  font-size: 15px;\n  --min-height: 40px;\n  --inner-padding-end: 0px;\n}\n\nion-item ion-textarea {\n  border: 1px solid #dedede;\n  padding-left: 10px;\n  padding-right: 10px;\n  margin-top: 16px;\n}\n\nion-item ion-label {\n  white-space: normal;\n}\n\n.sbt-btn {\n  --box-shadow: none;\n  --border-radius: 4px;\n  margin: 0px;\n  white-space: normal;\n  width: 48%;\n  width: 100%;\n  margin-bottom: 10px;\n}\n\n.btn-wrapper {\n  display: flex;\n  margin-top: 20px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlcXVlc3QtcmVmZXJlbmNlLWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFBO0VBQ0EsV0FBQTtBQUNGOztBQUVBO0VBQ0Usb0JBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSx3QkFBQTtBQUNGOztBQUFFO0VBQ0kseUJBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7QUFFTjs7QUFBRTtFQUNJLG1CQUFBO0FBRU47O0FBQ0E7RUFDRSxrQkFBQTtFQUNBLG9CQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7RUFDQSxtQkFBQTtBQUVGOztBQUFBO0VBQ0UsYUFBQTtFQUNBLGdCQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0FBR0YiLCJmaWxlIjoicmVxdWVzdC1yZWZlcmVuY2UtZm9ybS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1ncmlkLCBpb24tcm93LCBpb24tY29sIHtcbiAgcGFkZGluZzogMHB4O1xuICBtYXJnaW46IDBweDtcbn1cblxuaW9uLWl0ZW0ge1xuICAtLXBhZGRpbmctc3RhcnQ6IDBweDtcbiAgZm9udC1zaXplOiAxNXB4O1xuICAtLW1pbi1oZWlnaHQ6IDQwcHg7XG4gIC0taW5uZXItcGFkZGluZy1lbmQ6IDBweDtcbiAgaW9uLXRleHRhcmVhIHtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZWRlZGU7XG4gICAgICBwYWRkaW5nLWxlZnQ6IDEwcHg7XG4gICAgICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xuICAgICAgbWFyZ2luLXRvcDogMTZweDtcbiAgfVxuICBpb24tbGFiZWwge1xuICAgICAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcbiAgfVxufVxuLnNidC1idG4ge1xuICAtLWJveC1zaGFkb3c6IG5vbmU7XG4gIC0tYm9yZGVyLXJhZGl1czogNHB4O1xuICBtYXJnaW46IDBweDtcbiAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcbiAgd2lkdGg6IDQ4JTtcbiAgd2lkdGg6IDEwMCU7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG4uYnRuLXdyYXBwZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBtYXJnaW4tdG9wOiAyMHB4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn0iXX0= */");

/***/ }),

/***/ 20127:
/*!*************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/reference/reference.page.html ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"home/tabs/profile-menu\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>Reference</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <ion-card color=\"note\">\n    <ion-card-header>\n      <ion-card-title>Add Credibility to your profile.</ion-card-title>\n    </ion-card-header>\n\n    <ion-card-content>References from friends, family,\n      & former clients builds up a positive online reputation.\n      Not only that, it will increase you chances of Pet Owners (who have never met you),\n      wanting to book you (instead of other Sitters) after reading positive experiences.\n\n    <!-- <ion-item lines=\"none\"> -->\n      <p class=\"req-text\">\n        Request references from anyone you have previously done pet sitting for:\n      </p>\n    <!-- </ion-item> -->\n  </ion-card-content>\n  </ion-card>\n\n  \n</ion-content>\n<ion-footer class=\"ion-no-border\">\n  <ion-button  \n    class=\"text-capitalize fls-0 fs-18 footer-btn\"\n    expand=\"full\"\n    color=\"theme\"\n    (click)=\"openModal()\"\n  >\n    Request Reference\n  </ion-button>\n</ion-footer>");

/***/ }),

/***/ 51232:
/*!********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/request-reference-form/request-reference-form.component.html ***!
  \********************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header>\n  <ion-toolbar>\n    <ion-title>Request Reference</ion-title>\n      <ion-buttons slot=\"end\">\n          <ion-button (click)=\"dismissModal()\">\n              <ion-icon name=\"close\"></ion-icon>\n          </ion-button>\n      </ion-buttons>\n      <ion-title></ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <form [formGroup]=\"RequestTestimonialForm\" class=\"reqrefform\">\n    <ion-grid class=\"form-content\">\n      <ion-row>\n        <ion-col>\n          <ion-list>\n           <ion-item>\n              <ion-label position=\"stacked\" class=\"ion-text-uppercase text-grey-1\">Email To</ion-label>\n              <ion-input type=\"email\" formControlName=\"emails\" placeholder=\"name@domain.com\"></ion-input>\n            </ion-item>\n            <ion-text\n              lines=\"none\"\n              class=\"animated fadeInUp error\"\n              *ngIf=\"(RequestTestimonialForm.get('emails').hasError('required') && RequestTestimonialForm.get('emails').touched && submitted  || RequestTestimonialForm.get('emails').hasError('email'))\"\n            >\n              Enter correct email address format.\n            </ion-text>          \n            <ion-item lines=\"none\">\n              <ion-label position=\"stacked\">Request Text*</ion-label>\n              <ion-textarea rows=\"4\" \n                formControlName=\"emailbody\" \n                value=\"Thanks a lot for completing a reference for me on petcloud.com.au. This will improve my profile!\"\n              >\n              </ion-textarea>\n            </ion-item>\n            <ion-text lines=\"none\" class=\"animated fadeInUp error\"\n              *ngIf=\"RequestTestimonialForm.get('emailbody').hasError('required') && (RequestTestimonialForm.get('emailbody').touched || RequestTestimonialForm.get('emailbody').dirty)\" >            \n                Please Enter Message\n            </ion-text>\n            <ion-text lines=\"none\" class=\"animated fadeInUp error\"\n              *ngIf=\"RequestTestimonialForm.get('emailbody').hasError('minlength') && (RequestTestimonialForm.get('emailbody').touched || RequestTestimonialForm.get('emailbody').dirty)\"\n            >\n              Minimum 6 character is required\n            </ion-text>\n          </ion-list>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n    <div class=\"btn-wrapper\">\n      <ion-button class=\"text-capitalize sbt-btn\" \n        (click)=\"sendRequestReference()\" color=\"theme\"\n      >Submit</ion-button>\n      <ion-button class=\"text-capitalize sbt-btn\" \n        color=\"facebook\" (click)=\"shareFacebook()\"\n      >\n        <ion-icon slot=\"start\" name=\"logo-facebook\"></ion-icon>\n        Request Via Facebook\n      </ion-button>\n    </div>\n  </form>\n</ion-content>\n");

/***/ })

}]);
//# sourceMappingURL=src_app_reference_reference_module_ts-es2015.js.map