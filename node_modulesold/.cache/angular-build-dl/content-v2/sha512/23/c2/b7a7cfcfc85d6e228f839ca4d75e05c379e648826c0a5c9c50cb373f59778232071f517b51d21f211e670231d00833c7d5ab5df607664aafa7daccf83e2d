(function () {
  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  (self["webpackChunkpetcloud"] = self["webpackChunkpetcloud"] || []).push([["src_app_account-setting_account-setting_module_ts"], {
    /***/
    94936:
    /*!***********************************************************!*\
      !*** ./src/app/account-setting/account-setting.module.ts ***!
      \***********************************************************/

    /***/
    function _(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
      "use strict";

      __webpack_require__.r(__webpack_exports__);
      /* harmony export */


      __webpack_require__.d(__webpack_exports__, {
        /* harmony export */
        "AccountSettingPageModule": function AccountSettingPageModule() {
          return (
            /* binding */
            _AccountSettingPageModule
          );
        }
        /* harmony export */

      });
      /* harmony import */


      var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
      /*! tslib */
      64762);
      /* harmony import */


      var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
      /*! @angular/core */
      37716);
      /* harmony import */


      var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
      /*! @angular/common */
      38583);
      /* harmony import */


      var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
      /*! @angular/forms */
      3679);
      /* harmony import */


      var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(
      /*! @angular/router */
      39895);
      /* harmony import */


      var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
      /*! @ionic/angular */
      80476);
      /* harmony import */


      var _account_setting_page__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
      /*! ./account-setting.page */
      13660);

      var routes = [{
        path: '',
        component: _account_setting_page__WEBPACK_IMPORTED_MODULE_0__.AccountSettingPage
      }];

      var _AccountSettingPageModule = /*#__PURE__*/_createClass(function AccountSettingPageModule() {
        _classCallCheck(this, AccountSettingPageModule);
      });

      _AccountSettingPageModule = (0, tslib__WEBPACK_IMPORTED_MODULE_1__.__decorate)([(0, _angular_core__WEBPACK_IMPORTED_MODULE_2__.NgModule)({
        imports: [_angular_common__WEBPACK_IMPORTED_MODULE_3__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_4__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_4__.ReactiveFormsModule, _ionic_angular__WEBPACK_IMPORTED_MODULE_5__.IonicModule, _angular_router__WEBPACK_IMPORTED_MODULE_6__.RouterModule.forChild(routes)],
        declarations: [_account_setting_page__WEBPACK_IMPORTED_MODULE_0__.AccountSettingPage]
      })], _AccountSettingPageModule);
      /***/
    },

    /***/
    13660:
    /*!*********************************************************!*\
      !*** ./src/app/account-setting/account-setting.page.ts ***!
      \*********************************************************/

    /***/
    function _(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
      "use strict";

      __webpack_require__.r(__webpack_exports__);
      /* harmony export */


      __webpack_require__.d(__webpack_exports__, {
        /* harmony export */
        "AccountSettingPage": function AccountSettingPage() {
          return (
            /* binding */
            _AccountSettingPage
          );
        }
        /* harmony export */

      });
      /* harmony import */


      var tslib__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(
      /*! tslib */
      64762);
      /* harmony import */


      var _raw_loader_account_setting_page_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
      /*! !raw-loader!./account-setting.page.html */
      76886);
      /* harmony import */


      var _account_setting_page_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
      /*! ./account-setting.page.scss */
      34180);
      /* harmony import */


      var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(
      /*! @angular/core */
      37716);
      /* harmony import */


      var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
      /*! @angular/forms */
      3679);
      /* harmony import */


      var _api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
      /*! ../api/petcloud-api.service */
      78975);
      /* harmony import */


      var _ionic_storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
      /*! @ionic/storage */
      38605);
      /* harmony import */


      var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
      /*! rxjs/operators */
      68939);
      /* harmony import */


      var _ionic_angular__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(
      /*! @ionic/angular */
      80476);

      var _AccountSettingPage = /*#__PURE__*/function () {
        function AccountSettingPage(formBuilder, storage, api, navcntl) {
          _classCallCheck(this, AccountSettingPage);

          this.formBuilder = formBuilder;
          this.storage = storage;
          this.api = api;
          this.navcntl = navcntl;
          this.selectedSegment = 'cp';
          this.cpData = {
            ChangePasswordForm: {
              currentPassword: '',
              newPassword: '',
              newPasswordConfirm: ''
            }
          };
          this.cancelAccountData = {
            reason: "",
            feedback: "",
            unsubscribe: ""
          };
        }

        _createClass(AccountSettingPage, [{
          key: "ionViewDidEnter",
          value: function ionViewDidEnter() {}
        }, {
          key: "ngOnInit",
          value: function ngOnInit() {
            this.changePasswordForm = this.formBuilder.group({
              currentPassword: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required]],
              newPassword: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.minLength(6)]],
              newPasswordConfirm: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required]]
            });
            this.CancelForm = this.formBuilder.group({
              reason: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required]],
              feedback: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required]],
              unsubscribe: [true]
            });
          }
        }, {
          key: "passwordConfirm",
          value: function passwordConfirm() {
            if (this.changePasswordForm.get('newPassword').value !== this.changePasswordForm.get('newPasswordConfirm').value) {
              this.changePasswordForm.controls['newPasswordConfirm'].setErrors({
                'incorrect': true
              });
              return true;
            } else {
              return false;
            }
          }
        }, {
          key: "changeUserPassword",
          value: function changeUserPassword() {
            var _this = this;

            // show loading
            this.api.showLoader();
            this.cpData.ChangePasswordForm.currentPassword = this.changePasswordForm.value.currentPassword;
            this.cpData.ChangePasswordForm.newPassword = this.changePasswordForm.value.newPassword;
            this.cpData.ChangePasswordForm.newPasswordConfirm = this.changePasswordForm.value.newPasswordConfirm;
            this.api.changePassword(this.cpData).pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.finalize)(function () {
              // hide loader in success
              _this.api.hideLoader();
            })).subscribe(function (res) {
              if (res.success) {
                _this.api.showToast('Password Changed Successfully', 2000, 'bottom');
              } else {
                _this.api.showToast('Password not changed,try again!', 2000, 'bottom');
              }
            }, function (err) {
              // hide loader in error
              _this.api.autoLogout(err, _this.cpData);
            });
          }
        }, {
          key: "cancelAccount",
          value: function cancelAccount() {
            var _this2 = this;

            if (this.CancelForm.value.unsubscribe == "") {
              this.CancelForm.value.unsubscribe = false;
            }

            this.api.showLoader(); // Send Cancel Account Data Form to Server

            this.cancelAccountData.feedback = this.CancelForm.value.feedback;
            this.cancelAccountData.reason = this.CancelForm.value.reason;
            this.cancelAccountData.unsubscribe = this.CancelForm.value.unsubscribe;
            this.api.cancelAccount(this.cancelAccountData).pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.finalize)(function () {
              _this2.api.hideLoader();
            })).subscribe(function (res) {
              if (res.success) {
                _this2.navcntl.navigateRoot('/login');

                _this2.api.showToast('Account Cancelled Successfully', 2000, 'bottom');
              } else {
                _this2.api.showToast('Account Not Cancelled!', 2000, 'bottom');
              }
            }, function (err) {
              _this2.api.autoLogout(err, _this2.cancelAccountData);
            });
          }
        }]);

        return AccountSettingPage;
      }();

      _AccountSettingPage.ctorParameters = function () {
        return [{
          type: _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormBuilder
        }, {
          type: _ionic_storage__WEBPACK_IMPORTED_MODULE_5__.Storage
        }, {
          type: _api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__.PetcloudApiService
        }, {
          type: _ionic_angular__WEBPACK_IMPORTED_MODULE_6__.NavController
        }];
      };

      _AccountSettingPage = (0, tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([(0, _angular_core__WEBPACK_IMPORTED_MODULE_8__.Component)({
        selector: 'app-account-setting',
        template: _raw_loader_account_setting_page_html__WEBPACK_IMPORTED_MODULE_0__["default"],
        styles: [_account_setting_page_scss__WEBPACK_IMPORTED_MODULE_1__["default"]]
      })], _AccountSettingPage);
      /***/
    },

    /***/
    34180:
    /*!***********************************************************!*\
      !*** ./src/app/account-setting/account-setting.page.scss ***!
      \***********************************************************/

    /***/
    function _(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
      "use strict";

      __webpack_require__.r(__webpack_exports__);
      /* harmony default export */


      __webpack_exports__["default"] = ".select-text {\n  white-space: pre-line !important;\n}\n\n.input-form {\n  box-shadow: 0 0 8px 0 rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n  padding: 16px 0px 0px;\n  overflow: hidden;\n  margin: 16px;\n}\n\n.footer-btn {\n  --border-radius: 0px 0px 8px 8px;\n  height: 50px;\n  --padding-bottom: 0px;\n  width: 100%;\n  margin-top: 14px;\n  --box-shadow: none;\n}\n\n.error {\n  margin-left: 10px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnQtc2V0dGluZy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQ0FBQTtBQUNGOztBQUNBO0VBQ0Usd0NBQUE7RUFDQSxrQkFBQTtFQUNBLHFCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxZQUFBO0FBRUY7O0FBQUE7RUFDRSxnQ0FBQTtFQUNBLFlBQUE7RUFDQSxxQkFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0FBR0Y7O0FBREE7RUFDRSxpQkFBQTtBQUlGIiwiZmlsZSI6ImFjY291bnQtc2V0dGluZy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc2VsZWN0LXRleHQge1xuICB3aGl0ZS1zcGFjZTogcHJlLWxpbmUgIWltcG9ydGFudDtcbn1cbi5pbnB1dC1mb3JtIHtcbiAgYm94LXNoYWRvdzogMCAwIDhweCAwIHJnYigwIDAgMCAvIDIwJSk7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgcGFkZGluZzogMTZweCAwcHggMHB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBtYXJnaW46IDE2cHg7XG59XG4uZm9vdGVyLWJ0biB7XG4gIC0tYm9yZGVyLXJhZGl1czogMHB4IDBweCA4cHggOHB4O1xuICBoZWlnaHQ6IDUwcHg7XG4gIC0tcGFkZGluZy1ib3R0b206IDBweDtcbiAgd2lkdGg6IDEwMCU7XG4gIG1hcmdpbi10b3A6IDE0cHg7XG4gIC0tYm94LXNoYWRvdzogbm9uZTtcbn1cbi5lcnJvciB7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xufSJdfQ== */";
      /***/
    },

    /***/
    76886:
    /*!*************************************************************************************************!*\
      !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/account-setting/account-setting.page.html ***!
      \*************************************************************************************************/

    /***/
    function _(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
      "use strict";

      __webpack_require__.r(__webpack_exports__);
      /* harmony default export */


      __webpack_exports__["default"] = "<ion-header>\n    <ion-toolbar>\n        <ion-buttons slot=\"start\">\n            <ion-back-button  defaultHref=\"home/tabs/profile-menu\"></ion-back-button>\n        </ion-buttons>\n        <ion-title>Account Setting</ion-title>\n    </ion-toolbar>\n</ion-header>\n\n<ion-content>\n    <ion-segment scrollable [(ngModel)]=\"selectedSegment\" color=\"theme\">\n        <ion-segment-button class=\"ion-text-capitalize\" value=\"cp\">Change Password</ion-segment-button>\n        <ion-segment-button class=\"ion-text-capitalize\" value=\"cncl_account\">Cancel Account</ion-segment-button>\n    </ion-segment>\n    <div [ngSwitch]=\"selectedSegment\">\n        <div class=\"input-form\" *ngSwitchCase=\"'cp'\">\n            <form padding [formGroup]=\"changePasswordForm\">\n                <ion-item>\n                    <ion-label position=\"stacked\">Current Password</ion-label>\n                    <ion-input type=\"password\" formControlName=\"currentPassword\"\n                        placeholder=\"Password\"></ion-input>\n                </ion-item>\n                <ion-text lines=\"none\" class=\"animated fadeInUp error\"\n                    *ngIf=\"changePasswordForm.get('currentPassword').hasError('required') && (changePasswordForm.get('currentPassword').touched || changePasswordForm.get('currentPassword').dirty)\"\n                >\n                    Please enter current password\n                </ion-text>\n                <ion-text lines=\"none\" class=\"animated fadeInUp error\"\n                    *ngIf=\"changePasswordForm.get('currentPassword').hasError('minlength') && (changePasswordForm.get('currentPassword').touched || changePasswordForm.get('currentPassword').dirty)\"\n                >\n                    Minimum 6 character long current password is required\n                </ion-text>\n                <ion-item>\n                    <ion-label position=\"stacked\">New Password</ion-label>\n                    <ion-input type=\"password\" formControlName=\"newPassword\"\n                        placeholder=\"New Password\"></ion-input>\n                </ion-item>\n                <ion-text lines=\"none\" class=\"animated fadeInUp error\"\n                    *ngIf=\"changePasswordForm.get('newPassword').hasError('required') && (changePasswordForm.get('newPassword').touched || changePasswordForm.get('newPassword').dirty)\"\n                >\n                    Please enter new password\n                </ion-text>\n                <ion-text lines=\"none\" class=\"animated fadeInUp error\"\n                    *ngIf=\"changePasswordForm.get('newPassword').hasError('minlength') && (changePasswordForm.get('newPassword').touched || changePasswordForm.get('newPassword').dirty)\"\n                >\n                    Minimum 6 character long new password is required\n                </ion-text>\n                <ion-item>\n                    <ion-label position=\"stacked\">Confirm New password</ion-label>\n                    <ion-input type=\"password\" formControlName=\"newPasswordConfirm\"\n                        placeholder=\"Password\"></ion-input>\n                </ion-item>\n                <ion-text lines=\"none\" class=\"animated fadeInUp error\"\n                    *ngIf=\"changePasswordForm.get('newPasswordConfirm').hasError('required') && (changePasswordForm.get('newPasswordConfirm').touched || changePasswordForm.get('newPasswordConfirm').dirty)\"\n                >\n                    Please enter confirm new password\n                </ion-text>\n                <ion-text lines=\"none\" class=\"animated fadeInUp error\"\n                    *ngIf=\"changePasswordForm.get('newPasswordConfirm').hasError('minlength') && (changePasswordForm.get('newPasswordConfirm').touched || changePasswordForm.get('newPasswordConfirm').dirty)\"\n                >\n                    Minimum 6 character long confirm new password is required\n                </ion-text>\n                <ion-text lines=\"none\" class=\"animated fadeInUp error\"\n                    *ngIf=\"passwordConfirm() && changePasswordForm.get('newPasswordConfirm').value != ''\">\n                    Password doesn't matched!\n                </ion-text>\n                <ion-button class=\"footer-btn\" color=\"theme\" [disabled]=\"!changePasswordForm.valid\"\n                    (click)=\"changeUserPassword()\">\n                    Save\n                </ion-button>\n            </form>\n        </div>\n        <div class=\"input-form\" *ngSwitchCase=\"'cncl_account'\">\n            <form [formGroup]=\"CancelForm\" padding>\n                <ion-list>\n                    <ion-item>\n                        <ion-label position=\"stacked\">Reason</ion-label>\n                        <ion-select class=\"fs-14 ion-text-wrap\" interface=\"action-sheet\" formControlName=\"reason\"\n                            placeholder=\"Select One\">\n                            <ion-select-option value=\"kennelFound\">I Found a Kennel\n                            </ion-select-option>\n                            <ion-select-option value=\"sitterFound\">I found a Professional Sitter\n                            </ion-select-option>\n                            <ion-select-option value=\"familyFriendFound\">I found a friend or Family Member\n                            </ion-select-option>\n                            <ion-select-option value=\"plansChanged\">My plans changed and I no longer needed a sitter\n                            </ion-select-option>\n                            <ion-select-option value=\"externalBooking\">I booked with a PetCloud sitter,but not through\n                                the site\n                            </ion-select-option>\n                            <ion-select-option value=\"minderUnavailable\">The minder was not\n                                available for my dates\n                            </ion-select-option>\n                            <ion-select-option value=\"poorMinderSpace\">The minder and their\n                                house or experience was not as described in their profile\n                            </ion-select-option>\n                            <ion-select-option value=\"badPetRelations\">The minder's pet didn't get along with my pet\n                            </ion-select-option>\n                            <ion-select-option class=\"fs-14 ion-text-wrap\" value=\"tooSlow\">The minder was just too slow\n                            </ion-select-option>\n                            <ion-select-option value=\"other\">Other</ion-select-option>\n                        </ion-select>\n                    </ion-item>\n                </ion-list>\n\n                <ion-text lines=\"none\" class=\"animated fadeInUp error\" *ngIf=\"CancelForm.get('reason').hasError('required') &&\n                (CancelForm.get('reason').touched || CancelForm.get('reason').dirty)\">\n                    Please select reason.\n                </ion-text>\n\n                <ion-item>\n                    <ion-label position=\"stacked\">Additional Feedback</ion-label>\n                    <ion-textarea class=\"ion-text-wrap\" rows=\"3\"\n                    formControlName=\"feedback\"  placeholder=\"Please provide additional feedback that might be helpful to us to help us\">\n                    </ion-textarea>\n                </ion-item>\n\n                <ion-text lines=\"none\" class=\"animated fadeInUp error\" *ngIf=\"CancelForm.get('feedback').hasError('required') &&\n                (CancelForm.get('feedback').touched || CancelForm.get('feedback').dirty)\">\n                    Please Give Additional Feedback.\n                </ion-text>\n\n                <ion-item lines=\"full\">\n                    <ion-label class=\"ion-text-wrap\">Please Send me SMS Notifications</ion-label>\n                    <ion-checkbox formControlName=\"unsubscribe\" slot=\"end\"></ion-checkbox>\n                </ion-item>\n                \n                <ion-button class=\"footer-btn\" color=\"theme\" (click)=\"cancelAccount()\"  [disabled]=\"!CancelForm.valid\">\n                    Save\n                </ion-button>\n            </form>\n        </div>\n    </div>\n</ion-content>";
      /***/
    }
  }]);
})();
//# sourceMappingURL=src_app_account-setting_account-setting_module_ts-es5.js.map