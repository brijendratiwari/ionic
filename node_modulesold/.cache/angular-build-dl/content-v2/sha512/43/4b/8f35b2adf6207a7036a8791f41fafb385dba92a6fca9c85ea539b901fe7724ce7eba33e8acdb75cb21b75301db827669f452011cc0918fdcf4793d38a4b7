{"version":3,"sources":["webpack:///src/app/forceupdate/forceupdate.module.ts","webpack:///src/app/forceupdate/forceupdate.page.ts","webpack:///src/app/forceupdate/forceupdate.page.scss","webpack:///src/app/forceupdate/forceupdate.page.html"],"names":["routes","path","component","ForceupdatePage","ForceupdatePageModule","NgModule","imports","CommonModule","FormsModule","IonicModule","RouterModule","declarations","market","storage","auth","navCtrl","plt","api","isSaveLoginKeyPress","get","then","isKeyPressed","PetcloudApiService","res","email","set","password","is","appId","open","console","log","viewPetJob","localStorage","getItem","trainingDone","paymentCardData","cardData","setItem","remove","logoutUser","subscribe","logRes","warn","err","hideLoader","authState","next","clear","Market","Storage","AuthenticationService","NavController","Platform","Component","selector","template"],"mappings":"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","file":"src_app_forceupdate_forceupdate_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ForceupdatePage } from './forceupdate.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ForceupdatePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ForceupdatePage]\n})\nexport class ForceupdatePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Market } from '@ionic-native/market/ngx';\nimport { PetcloudApiService } from '../api/petcloud-api.service';\nimport { Storage } from \"@ionic/storage\";\nimport { User } from '../model/user';\nimport { AuthenticationService } from '../services/authentication.service';\nimport { NavController, Platform } from '@ionic/angular';\n\n@Component({\n  selector: 'app-forceupdate',\n  templateUrl: './forceupdate.page.html',\n  styleUrls: ['./forceupdate.page.scss'],\n})\nexport class ForceupdatePage implements OnInit {\n  isSaveLoginKeyPress = \"\";\n  email: any;\n  password: any\n  constructor(public market: Market,\n    public storage: Storage,\n    public auth: AuthenticationService,\n    public navCtrl: NavController,\n    public plt: Platform,\n    public api: PetcloudApiService) { }\n\n  ngOnInit() {\n    this.storage.get(\"isLoggedInKeyPressed\").then((isKeyPressed) => {\n      this.isSaveLoginKeyPress = isKeyPressed;\n      if (isKeyPressed) {\n          this.storage.get(PetcloudApiService.USER).then((res: User) => {\n              this.email = res.email;\n              this.storage.set(\"email\", this.email);\n          });\n          this.storage.get(\"password\").then((res) => {\n              this.password = res;\n          });\n      }\n  });\n  }\n\n  async updateApp(){\n\n\n    let appId;\n\n    if (this.plt.is(\"android\")) {\n      appId = \"com.petcloud.petcloud\"\n    } else {\n      appId =  \"id1539909889\"\n    }\n\n    \n   await this.market.open(appId).then(async res=>{\n      console.log(\"market res\",res);\n      if(res){\n        this.storage.set(\"menuType\", null);\n        let viewPetJob = localStorage.getItem(\"viewPetJobs\");\n        let trainingDone = localStorage.getItem(\n            PetcloudApiService.TRAININGDONE\n        );\n        let paymentCardData = \"\";\n\n        this.storage\n            .get(PetcloudApiService.STRIPECARD)\n            .then((cardData: any) => {\n                if (cardData != null && cardData !== \"\") {\n                    paymentCardData = cardData;\n                }\n            });\n            localStorage.setItem(\"token\",\"\");\n        await this.storage\n            .remove(PetcloudApiService.USER)\n            .then(async (res: any) => {\n                this.api.logoutUser().subscribe(\n                    async (logRes: any) => {\n                        await this.storage\n                            .remove(PetcloudApiService.USERTOKEN)\n                            .then((res: any) => {\n                                console.warn(\"token removed!\");\n                            });\n                    },\n                    (err: any) => {\n                        // this.api.autoLogout(err);\n                    }\n                );\n                this.api.hideLoader();\n                this.auth.authState.next(false);\n                await localStorage.clear();\n                this.storage.set(\"isLoggedInKeyPressed\", false);\n\n                viewPetJob == \"yes\"\n                    ? localStorage.setItem(\"viewPetJobs\", \"yes\")\n                    : \"\";\n                trainingDone == \"yes\"\n                    ? localStorage.setItem(PetcloudApiService.TRAININGDONE, \"yes\")\n                    : \"\";\n\n                if (paymentCardData != null) {\n                    this.storage.set(\n                        PetcloudApiService.STRIPECARD,\n                        paymentCardData\n                    );\n                }\n\n                if (this.isSaveLoginKeyPress) {\n                    await this.storage.set(\"email\", this.email);\n                    await this.storage.set(\"password\", this.password);\n                } else {\n                    await this.storage.set(\"email\", \"\");\n                    await this.storage.set(\"password\", \"\");\n                }\n                if (this.isSaveLoginKeyPress) {\n                    // this.navCtrl.navigateRoot(\"/login\");\n                } else {\n                    // this.navCtrl.navigateRoot(\"/get-started\");\n                }\n            });\n      }\n    })\n  }\n\n}\n","export default \"ion-content, ion-toolbar {\\n  --background:#FE4164;\\n}\\n\\n.update-screen {\\n  padding: 30px;\\n  height: 100vh;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  max-width: 320px;\\n  margin: auto;\\n  text-align: center;\\n  color: #fff;\\n}\\n\\n.update-screen p {\\n  margin: 0;\\n  font-size: 12px;\\n  margin-top: 30px;\\n  opacity: 0.7;\\n}\\n\\n.update-screen h4 {\\n  margin: 0;\\n  margin-top: 30px;\\n  font-size: 18px;\\n  margin-bottom: 30px;\\n  line-height: 1.6;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcmNldXBkYXRlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG9CQUFBO0FBQ0o7O0FBQ0E7RUFDSSxhQUFBO0VBQ0EsYUFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7QUFFSjs7QUFESTtFQUNJLFNBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxZQUFBO0FBR1I7O0FBREk7RUFDSSxTQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtBQUdSIiwiZmlsZSI6ImZvcmNldXBkYXRlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50LCBpb24tdG9vbGJhcntcbiAgICAtLWJhY2tncm91bmQ6I0ZFNDE2NDtcbn1cbi51cGRhdGUtc2NyZWVue1xuICAgIHBhZGRpbmc6IDMwcHg7XG4gICAgaGVpZ2h0OiAxMDB2aDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBtYXgtd2lkdGg6IDMyMHB4O1xuICAgIG1hcmdpbjogYXV0bztcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgcHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIG1hcmdpbi10b3A6IDMwcHg7XG4gICAgICAgIG9wYWNpdHk6IDAuNztcbiAgICB9XG4gICAgaDR7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICAgICAgZm9udC1zaXplOiAxOHB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMS42O1xuICAgIH1cbn0iXX0= */\";","export default \"<!-- <ion-header>\\n  <ion-toolbar>\\n    <ion-title>forceupdate</ion-title>\\n  </ion-toolbar>\\n</ion-header> -->\\n\\n<ion-content>\\n  <div class=\\\"update-screen\\\">\\n    <img src=\\\"../../assets/img/monogram.svg\\\" alt=\\\"\\\">\\n    <p>\\n      We have tightened some nuts n' bolts behind the screens so that we can make PetCloud better.\\n    </p>\\n    <h4>Please click on Update button to update the App</h4>\\n    <ion-button fill=\\\"solid\\\" color=\\\"white\\\" shape=\\\"round\\\" size=\\\"large\\\" class=\\\"theme-btn\\\" (click)=\\\"updateApp()\\\">\\n      Update for Free \\n    </ion-button>\\n  </div>\\n  \\n</ion-content>\\n\";"]}