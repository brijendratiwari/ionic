{"version":3,"sources":["webpack:///src/app/directory-listing-map/directory-listing-map.module.ts","webpack:///src/app/directory-listing-map/directory-listing-map.page.ts","webpack:///src/app/directory-listing-map/directory-listing-map.page.scss","webpack:///src/app/directory-listing-map/directory-listing-map.page.html"],"names":["routes","path","component","DirectoryListingMapPage","DirectoryListingMapPageModule","NgModule","entryComponents","imports","CommonModule","FormsModule","IonicModule","GooglePlaceModule","RouterModule","providers","CallNumber","Clipboard","LocationAccuracy","declarations","api","modalCtrl","route","router","storage","ngZone","callNumber","modelCtrl","geolocation","diagnostic","androidPermission","locationAccuracy","platform","_document","elementRef","mapPinsData","data","latitude","longitude","selected_cate","serviceName","locationName","distance","isDataFilter","requestForGPSPremission","options","types","componentRestrictions","country","bounds","fields","strictBounds","origin","isLoading","queryParams","subscribe","params","Object","keys","length","getMapsPin","isLocationAuthorized","ready","isLocationEnabled","then","isEnabled","success","getLocationAccuracy","err","console","log","request","REQUEST_PRIORITY_HIGH_ACCURACY","response_gps","getCurrentLatLong","error","map","_panes","markerPane","remove","getCurrentPosition","resp","coords","toString","getSuburb","response","locality","param","showLoader","getMapPins","pipe","finalize","hideLoader","res","listing_data","_geolocation_lat","_geolocation_long","initMap","clearMap","showToast","off","getElementById","innerHTML","locations","container","_leaflet_id","self","Map","setView","tileLayer","maxZoom","minZoom","zoom","center","attribution","addTo","forEach","location","isClicked","customMarkerIcon","icon","iconUrl","map_icons","iconSize","popupAnchor","is","marker","bindPopup","image","category","listing_id","listing_title","_address","hasOwnProperty","_phone","bookamrked","on","e","navigateToListingDetail","navigateToShare","navigateToBookmark","navigateToMobileNumber","navigateToGoogleApp","getAttribute","langitude","q","isIOS","replace","window","href","mobileNumber","list_Id","element","setAttribute","saveAsBookMark","catName","cat_title","shareMessage","create","SocailshareComponent","animated","cssClass","componentProps","description","shareType","modal","present","listingId","navigate","listingName","listingTitle","getElementsByClassName","locationData","mobileNumberData","saveData","shareData","i","len","onclick","bookmark","bookmarkListing","autoLogout","ListingCategoryComponent","onDidDismiss","filterParams","categoryName","address","geometry","lat","lng","address_components","long_name","navigateByUrl","JSON","stringify","PetcloudApiService","ModalController","ActivatedRoute","Router","Storage","NgZone","Geolocation","Diagnostic","AndroidPermissions","Platform","Inject","DOCUMENT","ElementRef","Component","selector","template"],"mappings":"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","file":"src_app_directory-listing-map_directory-listing-map_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { GooglePlaceModule } from 'ngx-google-places-autocomplete';\nimport { CallNumber } from '@ionic-native/call-number/ngx';\nimport { Clipboard } from '@ionic-native/clipboard/ngx';\nimport { LocationAccuracy } from '@ionic-native/location-accuracy/ngx';\nimport { DirectoryListingMapPage } from './directory-listing-map.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DirectoryListingMapPage\n  }\n];\n\n@NgModule({\n  entryComponents:[],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    GooglePlaceModule,\n    RouterModule.forChild(routes)\n  ],\n  providers:[CallNumber,Clipboard, LocationAccuracy],\n  declarations: [DirectoryListingMapPage],\n})\nexport class DirectoryListingMapPageModule {}\n","import {\n  Component,\n  OnInit,\n  NgZone,\n  ElementRef,\n  Inject,\n} from \"@angular/core\";\nimport { Router, ActivatedRoute } from \"@angular/router\";\nimport { PetcloudApiService } from \"../api/petcloud-api.service\";\nimport { ModalController, Platform } from \"@ionic/angular\";\nimport { ListingCategoryComponent } from \"../listing-category/listing-category.component\";\nimport { Map, tileLayer, marker, icon, } from \"leaflet\";\nimport { finalize } from \"rxjs/operators\";\nimport { Storage } from \"@ionic/storage\";\nimport { DOCUMENT } from \"@angular/common\";\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { CallNumber } from \"@ionic-native/call-number/ngx\";\nimport { SocailshareComponent } from \"../socailshare/socailshare.component\";\nimport { Diagnostic } from '@ionic-native/diagnostic/ngx';\nimport { LocationAccuracy } from '@ionic-native/location-accuracy/ngx';\nimport { AndroidPermissions } from \"@ionic-native/android-permissions/ngx\";\nimport * as L from 'leaflet';\n\n@Component({\n  selector: \"app-directory-listing-map\",\n  templateUrl: \"./directory-listing-map.page.html\",\n  styleUrls: [\"./directory-listing-map.page.scss\"],\n})\nexport class DirectoryListingMapPage implements OnInit {\n  mapPinsData: any = [];\n\n  public data = { latitude: \"\", longitude: \"\", selected_cate: \"\", serviceName: \"\", locationName: \"\", distance: \"\" };\n  map;\n  public isDataFilter: boolean = false;\n  public filterParams: any;\n  requestForGPSPremission: boolean = true;\n\n  options = {\n    types: [\"(regions)\"],\n    componentRestrictions: { country: \"AU\" },\n    bounds: null,\n    fields: null,\n    strictBounds: null,\n    origin: null\n  };\n  isLoading: boolean = false;\n\n  constructor(\n    public api: PetcloudApiService,\n    private modalCtrl: ModalController,\n    private route: ActivatedRoute,\n    public router: Router,\n    public storage: Storage,\n    public ngZone: NgZone,\n    public callNumber: CallNumber,\n    private modelCtrl: ModalController,\n    public geolocation: Geolocation,\n    private diagnostic: Diagnostic,\n    public androidPermission: AndroidPermissions,\n    public locationAccuracy: LocationAccuracy,\n    public platform: Platform,\n    @Inject(DOCUMENT) private _document,\n    public elementRef: ElementRef\n  ) {\n\n    this.route.queryParams.subscribe(async (params) => {\n      if (Object.keys(params).length === 0 != true) {\n        this.data.locationName = params.locationName;\n        this.data.latitude = params.latitude;\n        this.data.longitude = params.longitude;\n        this.data.selected_cate = params.selected_cate;\n        this.data.distance = params.distance\n\n        this.getMapsPin();\n      } else {\n        this.isLocationAuthorized();\n      }\n    });\n  }\n\n  ngOnInit(): void { };\n\n\n  //Check if application having Location Authorization\n  async isLocationAuthorized() {\n    await this.platform.ready();\n    this.diagnostic.isLocationEnabled().then((isEnabled: any) => {\n      if (isEnabled) {\n        this.diagnostic.isLocationAuthorized().then((success: any) => {\n          if (success) {\n            this.requestForGPSPremission = true;\n            this.getLocationAccuracy();\n          } else {\n            this.requestForGPSPremission = false;\n          }\n        }, err => {\n        })\n      } else {\n        this.requestForGPSPremission = false;\n      }\n\n    }, err => {\n      console.log(\"not available is location enabled\", err);\n    })\n  }\n\n  async getLocationAccuracy() {\n    await this.platform.ready();\n    this.locationAccuracy.request(this.locationAccuracy.REQUEST_PRIORITY_HIGH_ACCURACY).then(\n      (response_gps) => {\n        // When GPS Turned ON call method to get Accurate location coordinates\n        this.getCurrentLatLong();\n      },\n      error => {\n        console.log(\"error in turn on gps\", error);\n      }\n    );\n  }\n\n\n  ionViewDidLeave() {\n    if (this.map?._panes?.markerPane) {\n      this.map._panes.markerPane.remove();\n      //this._document.getElementById(\"map\").outerHTML = \"\";\n    }\n  }\n\n  async getCurrentLatLong() {\n    await this.geolocation.getCurrentPosition().then(async (resp) => {\n      this.data.latitude = await resp.coords.latitude.toString()\n      this.data.longitude = await resp.coords.longitude.toString();\n      await this.api.getSuburb(this.data.latitude, this.data.longitude).subscribe(async (response: any) => {\n        this.data.locationName = await response.locality;\n      }, async err => {\n\n      });\n      this.getMapsPin();\n    });\n  }\n\n  getMapsPin() {\n    let param = {\n      latitude: this.data.latitude,\n      longitude: this.data.longitude,\n      distance: this.data.distance,\n      selected_cate: this.data.selected_cate ? this.data.selected_cate : \"\",\n    };\n    console.log(\"getMap pins param\", param);\n    this.api.showLoader();\n    this.isLoading = true;\n    this.api\n      .getMapPins(param)\n      .pipe(\n        finalize(() => {\n          this.api.hideLoader();\n          this.isLoading = false;\n        })).subscribe(async (res: any) => {\n          this.mapPinsData = [];\n          if (res.success) {\n            if (res.listing_data.length) {\n              this.mapPinsData = await res.listing_data;\n              // Set Map Lat Long to 1st Index in Leaflet\n              this.data.latitude = await this.mapPinsData[0]._geolocation_lat;\n              this.data.longitude = await this.mapPinsData[0]._geolocation_long;\n\n              this.initMap(await this.mapPinsData);\n\n            } else {\n              this.clearMap();\n              // this.api.showToast(\"No Data Found\", \"3000\", \"bottom\");\n            }\n          } else {\n            this.clearMap();\n            this.api.showToast(\"No Data Found\", \"3000\", \"bottom\");\n          }\n          this.isLoading = false;\n          this.api.hideLoader();\n        });\n  }\n\n  clearMap() {\n    if (this.map) {\n      try {\n        this.map.off();\n        this.map.remove();\n      } catch (error) {\n        \n      }\n      this.map = null;\n      this.map = this._document.getElementById('map').innerHTML = \"<div id='map' style='height: 100%;'></div>\";\n    }\n  }\n  initMap(locations) {\n\n    this.clearMap();\n    var container = L.DomUtil.get('map');\n    if (container != null) {\n      container._leaflet_id = null;\n    }\n\n    let self = this;\n    this.map = new Map(\"map\").setView([this.data.latitude, this.data.longitude], 8);\n    tileLayer(\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\", {\n      maxZoom: 18,\n      minZoom: 11,\n      zoom: 10,\n      center:[this.data.latitude, this.data.longitude],\n      attribution:\n        '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n    }).addTo(this.map);\n\n\n    locations.forEach((location) => {\n      location.isClicked = 0\n      const customMarkerIcon = icon({\n        iconUrl: location.map_icons,\n        iconSize: [50, 50],\n        popupAnchor: [0, -20],\n      });\n      location['isIOS'] = this.platform.is('ios');\n      marker([location._geolocation_lat, location._geolocation_long], {\n        icon: customMarkerIcon,\n      })\n        .bindPopup(\n          `<div class=\"map-popup-container\">\n          <div class=\"event-img\"><img src=\"${location.image}\"></div>\n          <div class=\"event-details\">\n            <a \n            data-category=\"${[location.category]}\"\n            data-listing_id=\"${[location.listing_id]}\"\n            data-title=\"${[location.listing_title]}\"\n            class=\"partner-link\">${location.listing_title}</a>\n            <h4 class=\"event-address\">${location._address}</h4>\n            <div class=\"action-btn\">\n                <ul>\n                    <li class=\"location\" \n                     data-lat=\"${[location._geolocation_lat]}\"\n                     data-long=\"${[location._geolocation_long]}\" tappable >\n                      <ion-icon style=\"width: 1.5rem;height: 1.5rem;\" name=\"navigate-circle\"></ion-icon>\n                    </li>\n                      \n                    <ng-container ${[location.hasOwnProperty(\"_phone\") == false ? 'style=\"display: none;\"' : \"\",]}\">\n                       <li class=\"call\" data-call=\"${location._phone}\" tappable >\n                        <ion-icon style=\"width: 1.5rem;height: 1.5rem;\" name=\"call\"></ion-icon> \n                      </li>\n                    </ng-container>\n                   \n                    <ng-container>\n                      <li class=\"save\" \n                      data-isClicked = \"${location.bookamrked}\"\n                      data-listId=\"${[location.listing_id]}\"\n                      data-title=\"${[location.listing_title]}\" tappable>\n                      \n                      <ng-container\n                      ${[location.hasOwnProperty(\"bookamrked\") == 0 ? 'style=\"width: 1.5rem;height: 1.5rem; color: red\"' : 'style=\"width: 1.5rem;height: 1.5rem;']}\">\n                      <ion-icon style=\"width: 1.5rem;height: 1.5rem;\"\n                      name=\"heart\"></ion-icon>\n                    </ng-container>\n                  \n                   </li>\n\n                </ng-container>\n                    <li\n                        class=\"share\"\n                        data-category=\"${[location.category]}\"\n                        data-title=\"${[location.listing_title]}\"\n                        data-lat=\"${[location._geolocation_lat]}\"\n                        data-long=\"${[location._geolocation_long]}\"\n                        \n                        tappable>\n                        <ion-icon style=\"width: 1.5rem;height: 1.5rem;\" name=\"share\"></ion-icon> \n                    </li>\n              </ul>\n           </div>\n       </div>\n      </div>`\n        ).addTo(this.map)\n        .on(\"popupopen\", async (e) => {\n          let listingTitle = self._document.getElementsByClassName(\"partner-link\")\n          let locationData = self._document.getElementsByClassName(\"location\");\n          let mobileNumberData = self._document.getElementsByClassName(\"call\");\n          let saveData = self._document.getElementsByClassName(\"save\");\n          let shareData = self._document.getElementsByClassName(\"share\");\n\n\n\n          // Listing Title\n          for (var i = 0, len = listingTitle.length; i < len; i++) {\n            listingTitle[i].onclick = navigateToListingDetail;\n          }\n\n          // Map Navigation\n          for (var i = 0, len = locationData.length; i < len; i++) {\n            locationData[i].onclick = navigateToGoogleApp;\n          }\n\n          // Mobile Number\n          for (var i = 0, len = mobileNumberData.length; i < len; i++) {\n            mobileNumberData[i].onclick = navigateToMobileNumber;\n          }\n\n          // Book mark\n          for (var i = 0, len = saveData.length; i < len; i++) {\n            saveData[i].onclick = navigateToBookmark;\n          }\n\n          // Share Data\n          for (var i = 0, len = shareData.length; i < len; i++) {\n            shareData[i].onclick = navigateToShare;\n          }\n\n\n          async function navigateToListingDetail() {\n\n            let cat_title = this.getAttribute(\"data-title\");\n            let category = this.getAttribute(\"data-category\");\n            let listingId = this.getAttribute(\"data-listing_id\");\n\n\n\n            self.router.navigate([\"/directory-listing-details\"], {\n              queryParams: {\n                listingName: cat_title,\n                listingId: listingId,\n                serviceName: category\n              },\n            });\n\n          }\n\n          async function navigateToShare() {\n            let latitude = this.getAttribute(\"data-lat\");\n            let langitude = this.getAttribute(\"data-long\");\n            let catName = this.getAttribute(\"data-category\");\n            let cat_title = this.getAttribute(\"data-title\");\n\n            let shareMessage =\n              \"Check out this AWESOME \" +\n              cat_title +\n              \" spot I found on PetCloud!\" +\n              \"link\";\n\n            const modal = await self.modelCtrl.create({\n              component: SocailshareComponent,\n              animated: true,\n              cssClass: \"modalCss\",\n              componentProps: {\n                description: shareMessage,\n                shareType: \"directory-listing-map\",\n              },\n            });\n            return await modal.present();\n          }\n\n          function navigateToBookmark() {\n            let list_Id = this.getAttribute(\"data-listId\");\n\n            locations.forEach(element => {\n              if (element.listing_id == list_Id) {\n                if (element.bookamrked == 0) {\n                  element.bookamrked = 1\n                  this.setAttribute(\"style\", \"color: red\")\n                  self.saveAsBookMark(list_Id, 1);\n                } else {\n                  element.bookamrked = \"0\"\n                  this.setAttribute(\"style\", \"width: 1.5rem;height: 1.5rem;\")\n                  self.saveAsBookMark(list_Id, 0);\n                }\n              }\n            });\n\n          }\n\n          async function navigateToMobileNumber() {\n            let mobileNumber = await this.getAttribute(\"data-call\");\n            if (mobileNumber == \"undefined\") {\n              self.api.showToast(\n                \"Mobile number not provided, sorry for inconvience caused\",\n                \"3000\",\n                \"bottom\"\n              );\n            } else {\n              self.callNumber\n                .callNumber(mobileNumber, true)\n                .then((res) =>\n                  self.api.showToast(\"Please Wait\", \"3000\", \"bottom\")\n                )\n                .catch((err) =>\n                  self.api.showToast(\n                    \"Error in Launching Dailer\",\n                    \"3000\",\n                    \"bottom\"\n                  )\n                );\n            }\n          }\n\n          function navigateToGoogleApp() {\n            let latitude = this.getAttribute(\"data-lat\");\n            let langitude = this.getAttribute(\"data-long\");\n\n            var coords= location._geolocation_lat + ',' + location._geolocation_long;\n            var q;\n            if (location.isIOS) {\n              q = 'maps://maps.apple.com/?q=' + coords;\n            } else {\n              q = 'geo:' + coords + '?q=' + coords;\n            }\n            q = q.replace(' ', '');\n            window.location.href = q;\n          }\n        });\n    });\n  }\n\n  saveAsBookMark(listingId, isClicked) {\n\n    let params = {\n      bookmark: isClicked,\n      listing_id: listingId\n    };\n\n    this.api.bookmarkListing(params).subscribe(\n      (data: any) => {\n        if (data.success) {\n          //     this.api.showToast(data.message,3000,\"bottom\")\n        }\n      },\n      (err) => {\n        this.api.autoLogout(err, params);\n      }\n    );\n  }\n\n  async filter() {\n    const modal = await this.modalCtrl.create({\n      component: ListingCategoryComponent,\n      animated: true,\n      componentProps: {\n        data: this.data\n      },\n    });\n    modal.onDidDismiss().then((data: any) => {\n      if (data.data == \"no\") {\n        this.isDataFilter = false;\n      } else {\n        this.isDataFilter = true;\n        this.filterParams = data.data;\n        this.data.serviceName = data.data.categoryName\n        this.data.distance = data.data.distance\n        this.data.latitude = data.data.latitude;\n        this.data.longitude = data.data.longitude;\n        this.data.selected_cate = data.data.selected_cate;\n        this.data.locationName = data.data.locationName;\n        this.mapPinsData = [];\n        this.getMapsPin();\n      }\n    });\n    return await modal.present();\n  }\n\n  async handleAddressChange(address) {\n    this.data.latitude = await address.geometry.location.lat();\n    this.data.longitude = await address.geometry.location.lng();\n    this.data.locationName = address.address_components[0].long_name + \" , \" + address.address_components[2].long_name;\n    if (this.map) {\n      this.map._panes.markerPane.remove();\n    }\n\n    this.getMapsPin();\n  }\n\n  goTodirectory() {\n    this.router.navigateByUrl(\"/home/tabs/explore\");\n  }\n\n  async goToMapView() {\n\n    this.data.serviceName = this.data.serviceName == \"\" ? \"Pet Friendly Places\" : this.data.serviceName;\n    await this.router.navigate([\"/directory-listing\"], {\n      queryParams: {\n        data: JSON.stringify(this.data)\n      },\n    });\n  }\n  openDiagnosticSettings() {\n\n  }\n}\n","export default \"ion-content #map {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.search-input {\\n  background: #ffffff;\\n  color: #000000;\\n  --placeholder-color: #888888;\\n  border: none;\\n  width: 100%;\\n  height: auto;\\n  padding: 0.5em;\\n  border-radius: 3px;\\n  font-size: 15px;\\n  border: 1px solid #888;\\n  -webkit-appearance: none;\\n}\\n\\n.search-input:focus {\\n  outline: 0;\\n}\\n\\nbutton.map-button {\\n  position: fixed;\\n  bottom: 30px;\\n  background-color: rgba(0, 0, 0, 0.8);\\n  padding: 10px 18px;\\n  color: #fff;\\n  border-radius: 30px;\\n  left: 50%;\\n  font-size: 16px;\\n  transform: translateX(-50%);\\n}\\n\\n.back-arrow {\\n  padding: 0px;\\n  margin: 0px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  text-align: center;\\n}\\n\\n.back-arrow ion-icon {\\n  width: 24px;\\n  height: 24px;\\n}\\n\\n.filter-btn {\\n  margin: 0;\\n  width: 100%;\\n}\\n\\n.search-wrapper {\\n  display: flex;\\n  flex-direction: row;\\n  width: 100%;\\n  align-items: flex-start;\\n  justify-content: flex-start;\\n}\\n\\n.search-wrapper .search-div {\\n  display: flex;\\n  flex-direction: column;\\n  width: calc(100% - 56px);\\n}\\n\\n.search-wrapper .filter-div {\\n  display: flex;\\n  align-items: flex-end;\\n  justify-content: flex-start;\\n  width: 56px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpcmVjdG9yeS1saXN0aW5nLW1hcC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0k7RUFDSSxXQUFBO0VBQ0EsWUFBQTtBQUFSOztBQUlFO0VBQ0UsbUJBQUE7RUFDQSxjQUFBO0VBQ0EsNEJBQUE7RUFFQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0Esc0JBQUE7RUFDQSx3QkFBQTtBQUZKOztBQUlJO0VBQ0ksVUFBQTtBQUZSOztBQUtFO0VBQ0UsZUFBQTtFQUNBLFlBQUE7RUFDQSxvQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0VBQ0EsU0FBQTtFQUNBLGVBQUE7RUFDQSwyQkFBQTtBQUZKOztBQUtBO0VBQ0UsWUFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0FBRkY7O0FBR0U7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQURKOztBQUtBO0VBQ0UsU0FBQTtFQUNBLFdBQUE7QUFGRjs7QUFJQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7RUFDQSx1QkFBQTtFQUNBLDJCQUFBO0FBREY7O0FBRUU7RUFDRSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSx3QkFBQTtBQUFKOztBQUVFO0VBQ0UsYUFBQTtFQUNBLHFCQUFBO0VBQ0EsMkJBQUE7RUFDQSxXQUFBO0FBQUoiLCJmaWxlIjoiZGlyZWN0b3J5LWxpc3RpbmctbWFwLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50IHtcbiAgICAjbWFwIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICB9XG4gIH1cblxuICAuc2VhcmNoLWlucHV0IHtcbiAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmO1xuICAgIGNvbG9yOiAjMDAwMDAwO1xuICAgIC0tcGxhY2Vob2xkZXItY29sb3I6ICM4ODg4ODg7XG4gICAgLy8gYm9yZGVyLXJhZGl1czo0cHg7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogYXV0bztcbiAgICBwYWRkaW5nOiAwLjVlbTtcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgZm9udC1zaXplOiAxNXB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM4ODg7XG4gICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuXG4gICAgJjpmb2N1cyB7XG4gICAgICAgIG91dGxpbmU6IDA7XG4gICAgfVxuICB9XG4gIGJ1dHRvbi5tYXAtYnV0dG9uIHtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgYm90dG9tOiAzMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44KTtcbiAgICBwYWRkaW5nOiAxMHB4IDE4cHg7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgYm9yZGVyLXJhZGl1czogMzBweDtcbiAgICBsZWZ0OiA1MCU7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcbiAgfVxuXG4uYmFjay1hcnJvdyB7XG4gIHBhZGRpbmc6IDBweDtcbiAgbWFyZ2luOiAwcHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGlvbi1pY29uIHtcbiAgICB3aWR0aDogMjRweDtcbiAgICBoZWlnaHQ6IDI0cHg7XG4gIH1cbn1cblxuLmZpbHRlci1idG4ge1xuICBtYXJnaW46IDA7XG4gIHdpZHRoOiAxMDAlO1xufVxuLnNlYXJjaC13cmFwcGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgd2lkdGg6IDEwMCU7XG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gIC5zZWFyY2gtZGl2IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgd2lkdGg6IGNhbGMoMTAwJSAtIDU2cHgpO1xuICB9XG4gIC5maWx0ZXItZGl2IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gICAgd2lkdGg6IDU2cHg7XG4gIH1cbn0iXX0= */\";","export default \"<ion-header class=\\\"ion-no-border\\\">\\n    <ion-toolbar>\\n        <ion-grid>\\n            <ion-row style=\\\"align-items: center;\\\">\\n                <ion-col class=\\\"back-arrow\\\" size=\\\"1\\\">\\n                    <ion-back-button (click)=\\\"goTodirectory()\\\" defaultHref=\\\"/home/tabs/sitter-listing\\\"></ion-back-button>\\n                </ion-col>\\n                <ion-col class=\\\"search-wrapper\\\" size=\\\"11\\\">\\n                    <div class=\\\"search-div\\\">\\n                        <input type=\\\"search\\\" [options]='options' ngx-google-places-autocomplete #placesRef=\\\"ngx-places\\\"\\n                            clearInput [(ngModel)]=\\\"data.locationName\\\" placeholder=\\\"Search by suburb\\\"\\n                            class=\\\"search-input native-input sc-ion-input-md\\\" (onAddressChange)=\\\"handleAddressChange($event)\\\"\\n                            id=\\\"suburb\\\" \\n                        />\\n                    </div>\\n                    <div class=\\\"filter-div\\\">\\n                        <ion-button class=\\\"filter-btn\\\" fill=\\\"clear\\\" color=\\\"theme\\\" (click)=\\\"filter()\\\">\\n                            <ion-icon size=\\\"large\\\" slot=\\\"icon-only\\\" name=\\\"options\\\"></ion-icon>\\n                        </ion-button>\\n                    </div>\\n                   \\n                </ion-col>\\n            </ion-row>\\n        </ion-grid>\\n    </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content>\\n\\n     <!-- Request For GPS Permission -->\\n     <ion-card *ngIf=\\\"requestForGPSPremission == false\\\">\\n        <ion-card-content>\\n          <ion-text>{{api?.noLocationAccess}}</ion-text>\\n         \\n          <div style=\\\"padding-top: 10px;\\\">\\n            <ion-button expand=\\\"full\\\" (click)=\\\"openDiagnosticSettings()\\\" color=\\\"theme\\\" > Turn on Location </ion-button>\\n          </div>\\n        \\n        </ion-card-content>\\n      </ion-card>\\n      <ion-card class=\\\"nodata-msg\\\" color=\\\"theme-sec\\\" *ngIf=\\\"!isLoading && mapPinsData?.length <= 0\\\">\\n        <ion-card-content>\\n            No service available for this location\\n        </ion-card-content>\\n    </ion-card>\\n    <div id=\\\"map\\\" [style.visibility]=\\\"(mapPinsData?.length>0)? 'visible': 'hidden'\\\" style=\\\"height:100%;\\\"></div>\\n\\n    <div style=\\\"position: absolute;\\n    z-index: 999;\\\">\\n        <button class=\\\"map-button\\\" (click)=\\\"goToMapView()\\\">Grid View</button>\\n    </div>\\n</ion-content>\";"]}