(self["webpackChunkpetcloud"] = self["webpackChunkpetcloud"] || []).push([["default-src_app_availability-settings_availability-settings_page_ts"],{

/***/ 93151:
/*!*********************************************************************!*\
  !*** ./src/app/availability-settings/availability-settings.page.ts ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AvailabilitySettingsPage": function() { return /* binding */ AvailabilitySettingsPage; }
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tslib */ 64762);
/* harmony import */ var _raw_loader_availability_settings_page_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !raw-loader!./availability-settings.page.html */ 31722);
/* harmony import */ var _availability_settings_page_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./availability-settings.page.scss */ 41946);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ 37716);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ 80476);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ 3679);
/* harmony import */ var _api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api/petcloud-api.service */ 78975);







let AvailabilitySettingsPage = class AvailabilitySettingsPage {
    constructor(modal, formBuilder, navParams, api) {
        this.modal = modal;
        this.formBuilder = formBuilder;
        this.navParams = navParams;
        this.api = api;
        this.settingsData = '';
        this.checkedItems = [];
        this.days = [
            { label: "Monday", value: '1', checked: false },
            { label: "Tuesday", value: '2', checked: false },
            { label: "Wednesday", value: '3', checked: false },
            { label: "Thursday", value: '4', checked: false },
            { label: "Friday", value: '5', checked: false },
            { label: "Saturday", value: '6', checked: false },
            { label: "Sunday", value: '7', checked: false },
        ];
        this.settingForm = this.formBuilder.group({
            enquiriesValues: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required]],
            daysValues: [],
            break: [false],
            regulars: [false]
        });
        this.selectedMonth = this.navParams.get('selectedMonth');
        // console.log(this.selectedMonth)
    }
    ngOnInit() {
        this.getDataAvailabilitySettings();
    }
    get f() {
        return this.settingForm.controls;
    }
    dismissModal() {
        this.modal.dismiss();
    }
    save() {
        if (!this.settingForm.valid) {
            this.settingForm.markAllAsTouched();
            return;
        }
        var data = this.settingForm.value;
        data.selectedMonth = this.selectedMonth;
        if (this.settingForm.value.break) {
            data.away_mode = "yes";
        }
        else {
            data.away_mode = "no";
        }
        if (this.settingForm.value.regulars) {
            data.repeat_customer = "yes";
        }
        else {
            data.repeat_customer = "no";
        }
        this.api.showLoader();
        this.api.calenderSettting(data).subscribe((res) => {
            if (res.success) {
                this.api.showToast(res.success, 2000, 'bottom');
                this.dismissModal();
            }
            else {
                this.api.showToast('Please,try again!', 2000, 'bottom');
            }
            this.api.hideLoader();
        }, (err) => {
            this.api.hideLoader();
            this.api.autoLogout(err, data);
        });
    }
    onChange(item) {
        if (this.checkedItems.includes(item)) {
            this.checkedItems = this.checkedItems.filter((value) => value != item);
        }
        else {
            this.checkedItems.push(item);
            // }
            // console.log(this.checkedItems.toString())
            this.settingForm.get("daysValues").setValue(this.checkedItems);
        }
    }
    getDataAvailabilitySettings() {
        this.api.getAvailabilitySettingsData().subscribe((res) => {
            if (res.success) {
                this.settingsData = res;
                if (this.settingsData.away_mode == 'yes') {
                    this.settingForm.get("break").setValue(true);
                }
                else {
                    this.settingForm.get("break").setValue(false);
                }
                if (this.settingsData.repeat_customer == 'yes') {
                    this.settingForm.get("regulars").setValue(true);
                }
                else {
                    this.settingForm.get("regulars").setValue(false);
                }
                this.settingForm.get("enquiriesValues").setValue(res.enquiries);
                this.settingForm.get("daysValues").setValue(res.operating_days);
                this.checkedItems = res.operating_days;
                if (res.operating_days.length > 0) {
                    for (var i = 0; i < res.operating_days.length; i++) {
                        let index = this.days.findIndex((resp) => resp.value == res.operating_days[i]);
                        if (index > -1) {
                            this.days[index].checked = true;
                        }
                    }
                }
            }
            else {
                this.settingsData = '';
            }
        }, (err) => {
            this.api.hideLoader();
        });
    }
};
AvailabilitySettingsPage.ctorParameters = () => [
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__.ModalController },
    { type: _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormBuilder },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__.NavParams },
    { type: _api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__.PetcloudApiService }
];
AvailabilitySettingsPage = (0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_6__.Component)({
        selector: 'app-availability-settings',
        template: _raw_loader_availability_settings_page_html__WEBPACK_IMPORTED_MODULE_0__.default,
        styles: [_availability_settings_page_scss__WEBPACK_IMPORTED_MODULE_1__.default]
    })
], AvailabilitySettingsPage);



/***/ }),

/***/ 41946:
/*!***********************************************************************!*\
  !*** ./src/app/availability-settings/availability-settings.page.scss ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".setting-item {\n  padding: 15px;\n  clear: both;\n}\n\n.setting-item.days ion-item {\n  display: flex;\n  width: 50%;\n  float: left;\n}\n\n.close-btn {\n  font-size: 20px;\n  padding-right: 9px;\n}\n\n.action-btn {\n  text-align: center;\n}\n\n.action-btn ion-button {\n  border: 2px solid #fe4164;\n  --box-shadow: none;\n  width: 92%;\n  margin: 0px;\n  text-transform: unset;\n  font-size: 14px;\n  font-weight: 600;\n  margin-bottom: 23px;\n  --background: transparent;\n  color: #fe4164;\n}\n\n.invalid {\n  padding: 0 19px;\n  color: red;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF2YWlsYWJpbGl0eS1zZXR0aW5ncy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0VBQ0EsV0FBQTtBQUNKOztBQUNBO0VBQ0ksYUFBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0FBRUo7O0FBQUE7RUFDSSxlQUFBO0VBQ0Esa0JBQUE7QUFHSjs7QUFEQTtFQUNJLGtCQUFBO0FBSUo7O0FBSEk7RUFDSSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7RUFDQSxxQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EseUJBQUE7RUFDQSxjQUFBO0FBS1I7O0FBRkE7RUFDSSxlQUFBO0VBQ0EsVUFBQTtBQUtKIiwiZmlsZSI6ImF2YWlsYWJpbGl0eS1zZXR0aW5ncy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc2V0dGluZy1pdGVtIHtcclxuICAgIHBhZGRpbmc6IDE1cHg7XHJcbiAgICBjbGVhcjogYm90aDtcclxufVxyXG4uc2V0dGluZy1pdGVtLmRheXMgaW9uLWl0ZW0ge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIHdpZHRoOiA1MCU7XHJcbiAgICBmbG9hdDogbGVmdDtcclxufVxyXG4uY2xvc2UtYnRuIHtcclxuICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDlweDtcclxufVxyXG4uYWN0aW9uLWJ0biB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBpb24tYnV0dG9uIHtcclxuICAgICAgICBib3JkZXI6IDJweCBzb2xpZCAjZmU0MTY0O1xyXG4gICAgICAgIC0tYm94LXNoYWRvdzogbm9uZTtcclxuICAgICAgICB3aWR0aDogOTIlO1xyXG4gICAgICAgIG1hcmdpbjogMHB4O1xyXG4gICAgICAgIHRleHQtdHJhbnNmb3JtOiB1bnNldDtcclxuICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAyM3B4O1xyXG4gICAgICAgIC0tYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgY29sb3I6ICNmZTQxNjQ7XHJcbiAgICB9XHJcbn1cclxuLmludmFsaWQge1xyXG4gICAgcGFkZGluZzogMCAxOXB4O1xyXG4gICAgY29sb3I6IHJlZDtcclxufVxyXG4iXX0= */");

/***/ }),

/***/ 31722:
/*!*************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/availability-settings/availability-settings.page.html ***!
  \*************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header>\n  <ion-toolbar>\n    <ion-title>Availability Settings</ion-title>\n    <ion-buttons slot=\"end\" class=\"close-btn\">\n      <ion-icon name=\"close\" (click)=\"dismissModal()\"></ion-icon>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <form [formGroup]=\"settingForm\">\n    <div class=\"setting-form\">\n      <ion-list lines=\"none\">\n        <div class=\"setting-item\">\n          <h5>Volume of enquires</h5>\n          <ion-radio-group [allowEmptySelection]=\"true\" formControlName=\"enquiriesValues\">\n            <ion-item>\n              <ion-label>Full time - Pets are my life</ion-label>\n              <ion-radio slot=\"end\" [value]=\"0\"></ion-radio>\n            </ion-item>\n\n            <ion-item>\n              <ion-label>Part time - Week days only</ion-label>\n              <ion-radio slot=\"end\" [value]=\"1\"></ion-radio>\n            </ion-item>\n\n            <ion-item>\n              <ion-label>Part time - Friday nights & Weekends only </ion-label>\n              <ion-radio slot=\"end\" [value]=\"2\"></ion-radio>\n            </ion-item>\n\n            <ion-item>\n              <ion-label>Casual - Sparadic</ion-label>\n              <ion-radio slot=\"end\" [value]=\"3\"></ion-radio>\n            </ion-item>\n          </ion-radio-group>\n        </div>\n        <div\n          *ngIf=\"f['enquiriesValues'].invalid && f['enquiriesValues'].errors && (f['enquiriesValues'].dirty || f['enquiriesValues'].touched)\"\n          class=\"invalid\">\n          <div *ngIf=\"f['enquiriesValues'].errors['required']\"> Enquires is required</div>\n        </div>\n        <div class=\"setting-item days\">\n          <h5>Operating Days</h5>\n          <p>Choose which days you want to be open for business and save changes</p>\n          <ion-item *ngFor=\"let day of days\">\n            <ion-label>{{day.label}}</ion-label>\n            <ion-checkbox (click)=\"onChange(day.value)\" name=\"day\" [checked]=\"day.checked\">\n            </ion-checkbox>\n          </ion-item>\n        </div>\n        <!-- <div\n          *ngIf=\"f['operating_days'].invalid && f['operating_days'].errors && (f['operating_days'].dirty || f['operating_days'].touched)\"\n          class=\"invalid\">\n          <div *ngIf=\"f['operating_days'].errors['required']\"> Select operating days</div>\n        </div> -->\n        <div class=\"setting-item\">\n          <h5>Having a Break?</h5>\n          <p>If you can't respond to messages for a while,switch to Away mode.</p>\n          <ion-item>\n            <ion-label>Away</ion-label>\n            <ion-toggle slot=\"start\" name=\"blueberry\"  formControlName=\"break\"></ion-toggle>\n          </ion-item>\n        </div>\n        <div class=\"setting-item\">\n          <h5>Just want your regulars?</h5>\n          <p>If you have built up enough customers,switch to only be contacted by them.</p>\n          <ion-item>\n            <ion-label>Repeat Customers Only</ion-label>\n            <ion-toggle slot=\"start\" name=\"blueberry\" formControlName=\"regulars\"></ion-toggle>\n          </ion-item>\n        </div>\n      </ion-list>\n      <div class=\"action-btn\">\n        <ion-button class=\"save-btn\" (click)=\"save()\">Save</ion-button>\n      </div>\n    </div>\n  </form>\n</ion-content>");

/***/ })

}]);
//# sourceMappingURL=default-src_app_availability-settings_availability-settings_page_ts-es2015.js.map