(self["webpackChunkpetcloud"] = self["webpackChunkpetcloud"] || []).push([["src_app_myListing_skills_skills_module_ts"],{

/***/ 76996:
/*!***************************************************!*\
  !*** ./src/app/myListing/skills/skills.module.ts ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SkillsPageModule": function() { return /* binding */ SkillsPageModule; }
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ 64762);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 37716);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ 38583);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ 3679);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ 39895);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ 80476);
/* harmony import */ var _skills_page__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./skills.page */ 12905);







const routes = [
    {
        path: '',
        component: _skills_page__WEBPACK_IMPORTED_MODULE_0__.SkillsPage
    }
];
let SkillsPageModule = class SkillsPageModule {
};
SkillsPageModule = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.NgModule)({
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_3__.CommonModule,
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__.FormsModule,
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__.ReactiveFormsModule,
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__.IonicModule,
            _angular_router__WEBPACK_IMPORTED_MODULE_6__.RouterModule.forChild(routes)
        ],
        declarations: [_skills_page__WEBPACK_IMPORTED_MODULE_0__.SkillsPage]
    })
], SkillsPageModule);



/***/ }),

/***/ 12905:
/*!*************************************************!*\
  !*** ./src/app/myListing/skills/skills.page.ts ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SkillsPage": function() { return /* binding */ SkillsPage; }
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! tslib */ 64762);
/* harmony import */ var _raw_loader_skills_page_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !raw-loader!./skills.page.html */ 37245);
/* harmony import */ var _skills_page_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./skills.page.scss */ 49505);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ 37716);
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic/storage */ 38605);
/* harmony import */ var _api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../api/petcloud-api.service */ 78975);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ 3679);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ 39895);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ 68939);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ 80476);










let SkillsPage = class SkillsPage {
    constructor(api, formBuilder, platform, router, storage, navCtrl) {
        this.api = api;
        this.formBuilder = formBuilder;
        this.platform = platform;
        this.router = router;
        this.storage = storage;
        this.navCtrl = navCtrl;
        this.petBreeds = [];
        this.userId = '';
    }
    ngOnInit() {
        this.skillFrm = this.formBuilder.group({
            experiencePets: [false],
            experienceYears: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required]],
            hasQualifications: [false],
            qualifications: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required]],
            specific_breeds: [''],
            SpecialSkills: [''],
            specific_skills: ['']
        });
    }
    ionViewDidEnter() {
        this.getSkills();
        this.storage.get(_api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__.PetcloudApiService.USER)
            .then((res) => {
            this.userId = res.id;
        });
    }
    ionViewWillLeave() {
        this.removeAnchorEventListner();
    }
    generateAnchorEventListner() {
        const anchorElements = document.querySelectorAll('a[href^="http://"], a[href^="https://"]');
        if ((anchorElements === null || anchorElements === void 0 ? void 0 : anchorElements.length) > 0) {
            anchorElements.forEach((elem) => {
                if (this.platform.is('cordova') && (elem === null || elem === void 0 ? void 0 : elem.target) != "_system") {
                    elem.setAttribute('target', '_system');
                }
                elem.addEventListener('click', (e) => {
                    e.preventDefault();
                    this.validateAndRedirect(elem.href);
                });
            });
        }
    }
    removeAnchorEventListner() {
        const anchorElements = document.querySelectorAll('a[href^="http://"], a[href^="https://"]');
        if ((anchorElements === null || anchorElements === void 0 ? void 0 : anchorElements.length) > 0) {
            anchorElements.forEach((elem) => {
                elem.removeEventListener('click', (e) => {
                    e.preventDefault();
                    this.validateAndRedirect(elem.href);
                });
            });
        }
    }
    validateAndRedirect(herf) {
        if (herf) {
            const isValid = this.api.validURL(herf);
            console.log("isValid", herf, isValid);
            if (isValid && this.platform.is('cordova')) {
                this.api.openExteralLinks(herf);
            }
        }
    }
    getAllPetBreed() {
        this.api.getAllPetBreed().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.finalize)(() => {
            this.api.hideLoader();
        })).subscribe((res) => {
            console.log("this.petBreeds", this.petBreeds);
            this.petBreeds = res;
        }, (err) => {
            this.api.autoLogout(err, "");
        });
    }
    /**
     * Sace Listing skills.
     */
    saveListingSkill() {
        this.api.showLoader();
        let skillFrm = this.skillFrm.value;
        skillFrm.experiencePets = (skillFrm.experiencePets === true) ? '1' : '0';
        skillFrm.hasQualifications = (skillFrm.hasQualifications === true) ? '1' : '0';
        // skillFrm.userId = this.userId;
        // save updated data
        this.api.updateSkills(skillFrm).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.finalize)(() => {
            this.api.hideLoader();
        }))
            .subscribe((res) => {
            if (res.success) {
                this.storage.set(_api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__.PetcloudApiService.USER, res.user);
                this.api.showToast('skill update successfull.', 2000, 'bottom');
            }
            else {
                this.api.showToast('skill not update.', 2000, 'bottom');
            }
        }, (err) => {
            console.log('error in save skills', err);
            this.api.showToast('skill not update.', 2000, 'bottom');
            this.api.autoLogout(err, skillFrm);
        });
        // console.log(skillFrm);
    }
    /**
     * Get Skills details
     */
    getSkills() {
        this.api.showLoader();
        // first fetch all pet breeds.
        this.getAllPetBreed();
        this.api.getListingInfo()
            .subscribe((res) => {
            let UserListing = res.user;
            let petBridsIds = [];
            let skillIds = [];
            this.generateAnchorEventListner();
            for (let i in UserListing.petbreeds) {
                petBridsIds.push(UserListing.petbreeds[i].id);
            }
            for (let s in UserListing.specialskills) {
                skillIds.push(UserListing.specialskills[s].specialSkillID);
            }
            this.api.hideLoader();
            this.skillFrm.setValue({
                experiencePets: (UserListing.experiencePets != null && UserListing.experiencePets == '1') ? true : false,
                experienceYears: UserListing.experienceYears,
                hasQualifications: (UserListing.hasQualifications != null && UserListing.hasQualifications == '1') ? true : false,
                qualifications: UserListing.qualifications,
                specific_breeds: petBridsIds,
                SpecialSkills: skillIds,
                specific_skills: (UserListing.specific_skills === null) ? '' : UserListing.specific_skills
            });
        }, (err) => {
            this.api.hideLoader();
            this.api.showToast('something went wrong in getting skill details!', 2000, 'bottom');
            // this.api.autoLogout(err)
        });
    }
};
SkillsPage.ctorParameters = () => [
    { type: _api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__.PetcloudApiService },
    { type: _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormBuilder },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__.Platform },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_6__.Router },
    { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_7__.Storage },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__.NavController }
];
SkillsPage = (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_9__.Component)({
        selector: 'app-skills',
        template: _raw_loader_skills_page_html__WEBPACK_IMPORTED_MODULE_0__.default,
        styles: [_skills_page_scss__WEBPACK_IMPORTED_MODULE_1__.default]
    })
], SkillsPage);



/***/ }),

/***/ 49505:
/*!***************************************************!*\
  !*** ./src/app/myListing/skills/skills.page.scss ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".custom-list ion-item {\n  --padding-start:0;\n}\n\n.theme-text {\n  color: #FE4164;\n}\n\n.theme-text-no {\n  color: grey;\n}\n\nion-grid {\n  padding: 10px;\n}\n\nion-item {\n  font-size: 15px;\n  --min-height: 40px;\n}\n\nion-item ion-label {\n  padding-right: 10px;\n}\n\nion-item ion-select {\n  padding-top: 16px;\n}\n\n.note-info {\n  box-shadow: none;\n  margin: 5px 0px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNraWxscy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0k7RUFDSSxpQkFBQTtBQUFSOztBQUlBO0VBQ0ksY0FBQTtBQURKOztBQUdFO0VBQ0UsV0FBQTtBQUFKOztBQUdFO0VBQ0UsYUFBQTtBQUFKOztBQUVFO0VBQ0UsZUFBQTtFQUNBLGtCQUFBO0FBQ0o7O0FBQUk7RUFDRSxtQkFBQTtBQUVOOztBQUFJO0VBQ0UsaUJBQUE7QUFFTjs7QUFFRTtFQUNFLGdCQUFBO0VBQ0EsZUFBQTtBQUNKIiwiZmlsZSI6InNraWxscy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY3VzdG9tLWxpc3R7XG4gICAgaW9uLWl0ZW17XG4gICAgICAgIC0tcGFkZGluZy1zdGFydDowO1xuICAgIH1cbn1cblxuLnRoZW1lLXRleHR7XG4gICAgY29sb3I6ICNGRTQxNjQ7XG4gIH1cbiAgLnRoZW1lLXRleHQtbm97XG4gICAgY29sb3I6IGdyZXk7XG4gIH1cblxuICBpb24tZ3JpZCB7XG4gICAgcGFkZGluZzogMTBweDtcbiAgfVxuICBpb24taXRlbSB7XG4gICAgZm9udC1zaXplOiAxNXB4O1xuICAgIC0tbWluLWhlaWdodDogNDBweDtcbiAgICBpb24tbGFiZWwge1xuICAgICAgcGFkZGluZy1yaWdodDogMTBweDtcbiAgICB9XG4gICAgaW9uLXNlbGVjdCB7XG4gICAgICBwYWRkaW5nLXRvcDogMTZweDtcbiAgICB9XG4gIH1cblxuICAubm90ZS1pbmZvIHtcbiAgICBib3gtc2hhZG93OiBub25lO1xuICAgIG1hcmdpbjogNXB4IDBweDtcbiAgfSJdfQ== */");

/***/ }),

/***/ 37245:
/*!*****************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/myListing/skills/skills.page.html ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header>\n    <ion-toolbar>\n        <ion-buttons slot=\"start\">\n            <ion-back-button defaultHref=\"/listing\" ></ion-back-button>\n        </ion-buttons>\n        <ion-title>Skills</ion-title>\n    </ion-toolbar>\n</ion-header>\n\n<ion-content>\n    <ion-grid>\n        <ion-row class=\"ion-margin-vertical custom-list\">\n            <ion-col>\n                <form [formGroup]=\"skillFrm\">\n                    <ion-item [lines]=\"(skillFrm.get('experiencePets').value == false)? 'none': ''\">\n                        <ion-label class=\"ion-text-wrap\">Do you have experience looking after pets?</ion-label>\n                        <ion-toggle formControlName=\"experiencePets\" slot=\"end\" color=\"theme\"></ion-toggle>\n                        <div>\n                            <span class=\"theme-text\"\n                                *ngIf=\"skillFrm.value.experiencePets\"\n                            >\n                                Yes\n                            </span>\n                            <span class=\"theme-text-no\"\n                                *ngIf=\"!skillFrm.value.experiencePets\"\n                            >\n                                No\n                            </span>\n                        </div>\n                    </ion-item>\n                    <ion-card color=\"note animated fadeIn\" *ngIf=\"skillFrm.get('experiencePets').value == false\"\n                              class=\"note-info ion-no-margin\">\n                        <ion-card-content>\n                            <a href=\"https://www.petcloud.com.au/learning/minding\" target=\"_blank\">\n                                The RSPCA Qld Accredited Pet Sitting course</a> will help give you the confidence you need when\n                            looking after pets. This course is located in your Learning Centre.\n                        </ion-card-content>\n                    </ion-card>\n                    <ion-item *ngIf=\"skillFrm.get('experiencePets').value == true\">\n                        <ion-label position=\"stacked\">How many years experience?\n                            <small class=\"error\">*</small>\n                        </ion-label>\n                        <ion-select placeholder=\"select experience\" formControlName=\"experienceYears\">\n                            <ion-select-option value=\"1\">1</ion-select-option>\n                            <ion-select-option value=\"2\" selected=\"\">2</ion-select-option>\n                            <ion-select-option value=\"3\">3</ion-select-option>\n                            <ion-select-option value=\"4\">4</ion-select-option>\n                            <ion-select-option value=\"5\">5</ion-select-option>\n                            <ion-select-option value=\"6\">6</ion-select-option>\n                            <ion-select-option value=\"7\">7</ion-select-option>\n                            <ion-select-option value=\"8\">8</ion-select-option>\n                            <ion-select-option value=\"9\">9</ion-select-option>\n                            <ion-select-option value=\"10\">10</ion-select-option>\n                            <ion-select-option value=\"11\">10+</ion-select-option>\n                        </ion-select>\n                    </ion-item>\n                    <ion-text lines=\"none\"\n                        class=\"animated fadeInUp error\"\n                        *ngIf=\"skillFrm.get('experiencePets').value == true \n                        && skillFrm.get('experienceYears').value == true \n                        && skillFrm.get('experienceYears').hasError('required') \n                        && skillFrm.get('experienceYears').touched\"\n                    >\n                        select experience!\n                    </ion-text>\n                    <ion-item>\n                        <ion-label class=\"ion-text-wrap\">Do you have any qualifications regarding pets?</ion-label>\n                        <ion-toggle slot=\"end\" formControlName=\"hasQualifications\" color=\"theme\"></ion-toggle>\n                        <div>\n                            <span class=\"theme-text\"\n                                *ngIf=\"skillFrm.value.hasQualifications\"\n                            >\n                                Yes\n                            </span>\n                            <span class=\"theme-text-no\"\n                                *ngIf=\"!skillFrm.value.hasQualifications\"\n                            >\n                                No\n                            </span>\n                        </div>\n                    </ion-item>\n                    <ion-item *ngIf=\"skillFrm.get('hasQualifications').value == true\">\n                        <ion-label position=\"stacked\">\n                            Please list your qualifications?\n                            <small class=\"error\">*</small>\n                        </ion-label>\n                        <ion-textarea formControlName=\"qualifications\" rows=\"3\" maxlength=\"500\">\n                        </ion-textarea>\n                    </ion-item>\n                    <ion-text *ngIf=\"skillFrm.get('hasQualifications').value == true\">\n                        <small>\n                            <i>\n                                {{ 500 - skillFrm.get('qualifications').value?.length }} char left\n                            </i>\n                        </small>\n                    </ion-text>\n                    <ion-text lines=\"none\" class=\"animated fadeInUp error\"\n                        *ngIf=\"skillFrm.get('hasQualifications').value == true \n                        && skillFrm.get('qualifications').value == true \n                        && skillFrm.get('qualifications').hasError('required')\n                        && skillFrm.get('qualifications').touched\"\n                    >\n                        enter qualification!\n                    </ion-text>\n                    <ion-item>\n                        <ion-label position=\"stacked\" class=\"ion-text-wrap\">\n                            What specific breeds (of Dogs and Cats) do you have experience with?\n                        </ion-label>\n                        <ion-select \n                            formControlName=\"specific_breeds\"\n                            placeholder=\"Select specific breed\"\n                            multiple=\"true\" cancelText=\"cancel\"\n                            okText=\"ok\"\n                        >\n                            <ion-select-option *ngFor=\"let p of petBreeds\" [value]=\"p.id\">{{p.name}}</ion-select-option>\n                        </ion-select>\n                    </ion-item>\n                    <ion-item>\n                        <ion-label position=\"stacked\" class=\"ion-text-wrap\">Do you have special skills in any of the following?\n                        </ion-label>\n                        <ion-select \n                            formControlName=\"SpecialSkills\"\n                            placeholder=\"Select Special Skills\"\n                            multiple=\"true\"\n                            cancelText=\"cancel\"\n                            okText=\"ok\"\n                        >\n                            <ion-select-option value=\"1\">Epilepsy</ion-select-option>\n                            <ion-select-option value=\"2\">Senior Dogs</ion-select-option>\n                            <ion-select-option value=\"3\">Puppies</ion-select-option>\n                            <ion-select-option value=\"4\">Senior Cats</ion-select-option>\n                            <ion-select-option value=\"5\">Kittens</ion-select-option>\n                            <ion-select-option value=\"6\">Medication</ion-select-option>\n                            <ion-select-option value=\"7\">Injections</ion-select-option>\n                            <ion-select-option value=\"8\">Special Needs</ion-select-option>\n                        </ion-select>\n                    </ion-item>\n                    <ion-item>\n                        <ion-label position=\"stacked\" class=\"ion-text-wrap\">\n                            Anything else about your skills that you would like to mention?\n                        </ion-label>\n                        <ion-textarea \n                            formControlName=\"specific_skills\" \n                            rows=\"3\" maxlength=\"500\"\n                            placeholder=\"If you are a student or have a specific degree in animal care or other relevant skills, please add them here\"\n                        ></ion-textarea>\n                    </ion-item>\n                    <ion-text>\n                        <small>\n                            <i>\n                                {{ 500 - skillFrm.get('specific_skills').value.length }} char left\n                            </i>\n                        </small>\n                    </ion-text>\n                </form>\n            </ion-col>\n        </ion-row>\n    </ion-grid>\n</ion-content>\n<ion-footer>\n    <ion-button\n        class=\"text-capitalize fls-0 fs-18 footer-btn\" \n        expand=\"full\" \n        color=\"theme\"\n        (click)=\"saveListingSkill()\"\n    >\n        Save\n    </ion-button>\n</ion-footer>\n");

/***/ })

}]);
//# sourceMappingURL=src_app_myListing_skills_skills_module_ts-es2015.js.map