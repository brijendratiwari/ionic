(function () {
  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  (self["webpackChunkpetcloud"] = self["webpackChunkpetcloud"] || []).push([["src_app_add-reminders_add-reminders_module_ts"], {
    /***/
    36772:
    /*!*******************************************************!*\
      !*** ./src/app/add-reminders/add-reminders.module.ts ***!
      \*******************************************************/

    /***/
    function _(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
      "use strict";

      __webpack_require__.r(__webpack_exports__);
      /* harmony export */


      __webpack_require__.d(__webpack_exports__, {
        /* harmony export */
        "AddRemindersPageModule": function AddRemindersPageModule() {
          return (
            /* binding */
            _AddRemindersPageModule
          );
        }
        /* harmony export */

      });
      /* harmony import */


      var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
      /*! tslib */
      64762);
      /* harmony import */


      var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
      /*! @angular/core */
      37716);
      /* harmony import */


      var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
      /*! @angular/common */
      38583);
      /* harmony import */


      var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
      /*! @angular/forms */
      3679);
      /* harmony import */


      var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(
      /*! @angular/router */
      39895);
      /* harmony import */


      var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
      /*! @ionic/angular */
      80476);
      /* harmony import */


      var _add_reminders_page__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
      /*! ./add-reminders.page */
      27983);

      var routes = [{
        path: '',
        component: _add_reminders_page__WEBPACK_IMPORTED_MODULE_0__.AddRemindersPage
      }];

      var _AddRemindersPageModule = /*#__PURE__*/_createClass(function AddRemindersPageModule() {
        _classCallCheck(this, AddRemindersPageModule);
      });

      _AddRemindersPageModule = (0, tslib__WEBPACK_IMPORTED_MODULE_1__.__decorate)([(0, _angular_core__WEBPACK_IMPORTED_MODULE_2__.NgModule)({
        imports: [_angular_common__WEBPACK_IMPORTED_MODULE_3__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_4__.FormsModule, _ionic_angular__WEBPACK_IMPORTED_MODULE_5__.IonicModule, _angular_forms__WEBPACK_IMPORTED_MODULE_4__.ReactiveFormsModule, _angular_router__WEBPACK_IMPORTED_MODULE_6__.RouterModule.forChild(routes)],
        declarations: [_add_reminders_page__WEBPACK_IMPORTED_MODULE_0__.AddRemindersPage]
      })], _AddRemindersPageModule);
      /***/
    },

    /***/
    27983:
    /*!*****************************************************!*\
      !*** ./src/app/add-reminders/add-reminders.page.ts ***!
      \*****************************************************/

    /***/
    function _(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
      "use strict";

      __webpack_require__.r(__webpack_exports__);
      /* harmony export */


      __webpack_require__.d(__webpack_exports__, {
        /* harmony export */
        "AddRemindersPage": function AddRemindersPage() {
          return (
            /* binding */
            _AddRemindersPage
          );
        }
        /* harmony export */

      });
      /* harmony import */


      var tslib__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(
      /*! tslib */
      64762);
      /* harmony import */


      var _raw_loader_add_reminders_page_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
      /*! !raw-loader!./add-reminders.page.html */
      89043);
      /* harmony import */


      var _add_reminders_page_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
      /*! ./add-reminders.page.scss */
      5912);
      /* harmony import */


      var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(
      /*! @angular/core */
      37716);
      /* harmony import */


      var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
      /*! @angular/forms */
      3679);
      /* harmony import */


      var _ionic_angular__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(
      /*! @ionic/angular */
      80476);
      /* harmony import */


      var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
      /*! rxjs/operators */
      68939);
      /* harmony import */


      var _api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
      /*! ../api/petcloud-api.service */
      78975);
      /* harmony import */


      var _ionic_storage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(
      /*! @ionic/storage */
      38605);
      /* harmony import */


      var moment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
      /*! moment */
      16738);
      /* harmony import */


      var moment__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_3__);

      var _AddRemindersPage = /*#__PURE__*/function () {
        function AddRemindersPage(formBuilder, nav, storage, api) {
          _classCallCheck(this, AddRemindersPage);

          this.formBuilder = formBuilder;
          this.nav = nav;
          this.storage = storage;
          this.api = api;
          this.startMinDate = "";
          this.pets = [];
        }

        _createClass(AddRemindersPage, [{
          key: "ngOnInit",
          value: function ngOnInit() {
            this.startMinDate = new Date(new Date()).toISOString();
            var time = moment__WEBPACK_IMPORTED_MODULE_3__(new Date()).add(6, 'hours').format('hh:mm A');
            this.startMinTime = moment__WEBPACK_IMPORTED_MODULE_3__(time, ["h:mm A"]).format("HH:mm"); // AEST time 

            this.addReminderForm = this.formBuilder.group({
              pets: ["", [_angular_forms__WEBPACK_IMPORTED_MODULE_4__.Validators.required]],
              date: [this.startMinDate, [_angular_forms__WEBPACK_IMPORTED_MODULE_4__.Validators.required]],
              time: [this.startMinTime, [_angular_forms__WEBPACK_IMPORTED_MODULE_4__.Validators.required]],
              reminder_type: ["", [_angular_forms__WEBPACK_IMPORTED_MODULE_4__.Validators.required]],
              notifi_reminder: ["1"],
              alertFrequency: ["0"],
              description: [""]
            });
          }
        }, {
          key: "ionViewWillEnter",
          value: function ionViewWillEnter() {
            this.reminders();
            this.getPetsListing();
          }
        }, {
          key: "reminders",
          value: function reminders() {
            var _this = this;

            fetch('assets/JSON/reminders.json').then(function (res) {
              return res.json();
            }).then(function (data) {
              _this.reminderTypes = data;
            });
          }
        }, {
          key: "selectReminder",
          value: function selectReminder(reminderType) {
            this.addReminderForm.patchValue({
              reminder_type: reminderType.id
            });
            this.reminderTypes.forEach(function (element) {
              if (element.id == reminderType.id) {
                element.isSelected = true;
              } else {
                element.isSelected = false;
              }
            });
          }
        }, {
          key: "selectPet",
          value: function selectPet(pet) {
            this.addReminderForm.patchValue({
              pets: pet.id
            });
          }
        }, {
          key: "getPetsListing",
          value: function getPetsListing() {
            var _this2 = this;

            this.storage.get(_api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__.PetcloudApiService.USER).then(function (userData) {
              if (userData != null) {
                _this2.api.getPetList(userData.id).pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.finalize)(function () {})).subscribe(function (res) {
                  if (res.success) {
                    if (res.pets.length) {
                      _this2.noPetsAvailable = res.pets.length;
                      _this2.pets = res.pets;
                    }
                  } else {
                    _this2.noPetsAvailable = 0;
                  }
                }, function (err) {
                  _this2.noPetsAvailable = 0;

                  _this2.api.autoLogout(err, userData.id);
                });
              }

              (function (err) {
                _this2.noPetsAvailable = 0;
              });
            });
          }
        }, {
          key: "addReminder",
          value: function addReminder() {
            var _this3 = this;

            var startTime = moment__WEBPACK_IMPORTED_MODULE_3__(this.addReminderForm.value.time, 'HH:mm').format('hh:mm a');
            var petReminder = {
              PetAlerts: {
                petId: this.addReminderForm.value.pets,
                alertType: this.addReminderForm.value.reminder_type.toString(),
                alertFrequency: this.addReminderForm.value.notifi_reminder,
                alertDate: moment__WEBPACK_IMPORTED_MODULE_3__(this.addReminderForm.value.date).format("YYYY-MM-DD"),
                startTime: startTime,
                reminder: this.addReminderForm.value.notifi_reminder,
                Notes: this.addReminderForm.value.description
              }
            };
            this.api.showLoader();
            this.api.createReminder(petReminder).subscribe(function (response) {
              _this3.api.hideLoader();

              if (response.success) {
                _this3.api.showToast(response.message, "3000", "bottom");

                _this3.nav.pop();
              } else {
                _this3.api.showToast(response.error, "3000", "bottom");
              }
            }), function (err) {
              _this3.api.autoLogout(err, petReminder);

              console.log("err", err);
            };
          }
        }]);

        return AddRemindersPage;
      }();

      _AddRemindersPage.ctorParameters = function () {
        return [{
          type: _angular_forms__WEBPACK_IMPORTED_MODULE_4__.FormBuilder
        }, {
          type: _ionic_angular__WEBPACK_IMPORTED_MODULE_6__.NavController
        }, {
          type: _ionic_storage__WEBPACK_IMPORTED_MODULE_7__.Storage
        }, {
          type: _api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__.PetcloudApiService
        }];
      };

      _AddRemindersPage = (0, tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([(0, _angular_core__WEBPACK_IMPORTED_MODULE_9__.Component)({
        selector: 'app-add-reminders',
        template: _raw_loader_add_reminders_page_html__WEBPACK_IMPORTED_MODULE_0__["default"],
        styles: [_add_reminders_page_scss__WEBPACK_IMPORTED_MODULE_1__["default"]]
      })], _AddRemindersPage);
      /***/
    },

    /***/
    5912:
    /*!*******************************************************!*\
      !*** ./src/app/add-reminders/add-reminders.page.scss ***!
      \*******************************************************/

    /***/
    function _(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
      "use strict";

      __webpack_require__.r(__webpack_exports__);
      /* harmony default export */


      __webpack_exports__["default"] = "ion-button.add-reminder {\n  margin: 0;\n}\n\n.form-title {\n  padding: 16px 0px;\n  margin: 0;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.form-small-title {\n  padding: 16px 0px 5px;\n  margin: 0;\n}\n\nion-item {\n  --padding-start: 0px;\n  --inner-padding-end: 0px;\n}\n\n.bg-white {\n  background-color: #fff;\n}\n\nion-textarea {\n  border: 1px solid #dedede;\n  padding-left: 10px;\n  padding-right: 10px;\n  margin-top: 16px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZC1yZW1pbmRlcnMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksU0FBQTtBQUNKOztBQUVBO0VBQ0ksaUJBQUE7RUFDQSxTQUFBO0VBQ0EsZ0NBQUE7QUFDSjs7QUFDQTtFQUNJLHFCQUFBO0VBQ0EsU0FBQTtBQUVKOztBQUFBO0VBQ0ksb0JBQUE7RUFDQSx3QkFBQTtBQUdKOztBQWlCQTtFQUNJLHNCQUFBO0FBZEo7O0FBaUJBO0VBQ0kseUJBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7QUFkSiIsImZpbGUiOiJhZGQtcmVtaW5kZXJzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1idXR0b24uYWRkLXJlbWluZGVyIHtcbiAgICBtYXJnaW46IDA7XG59XG5cbi5mb3JtLXRpdGxle1xuICAgIHBhZGRpbmc6IDE2cHggMHB4O1xuICAgIG1hcmdpbjogMDtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2UwZTBlMFxufVxuLmZvcm0tc21hbGwtdGl0bGV7XG4gICAgcGFkZGluZzogMTZweCAwcHggNXB4O1xuICAgIG1hcmdpbjogMDtcbn1cbmlvbi1pdGVtIHtcbiAgICAtLXBhZGRpbmctc3RhcnQ6IDBweDtcbiAgICAtLWlubmVyLXBhZGRpbmctZW5kOiAwcHg7XG59XG5cbi8vIC5jaGlwc3tcbi8vICAgICBpb24tY2hpcHtcbi8vICAgICAgICAgbWluLXdpZHRoOiA4MHB4O1xuLy8gICAgICAgICBoZWlnaHQ6IDMwcHg7XG4vLyAgICAgICAgIC0tYm9yZGVyLXJhZGl1czogOHB4O1xuLy8gICAgICAgICBtYXJnaW46IDEwcHggOHB4IDBweCAwcHg7XG4vLyAgICAgICAgIGJhY2tncm91bmQ6ICNlOWViZWQ7XG4vLyAgICAgICAgIGNvbG9yOiAjNzY3ZDgzO1xuLy8gICAgICAgICAmLmlvbi1jb2xvci10aGVtZXtcbi8vICAgICAgICAgICAgIC8vIGJvcmRlci1jb2xvcjogIzUyQzRCRTtcbi8vICAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmO1xuLy8gICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZlNDE2NDtcbi8vICAgICAgICAgfVxuLy8gICAgIH1cbiAgICBcbi8vIH1cblxuLmJnLXdoaXRle1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG59XG5cbmlvbi10ZXh0YXJlYSB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2RlZGVkZTtcbiAgICBwYWRkaW5nLWxlZnQ6IDEwcHg7XG4gICAgcGFkZGluZy1yaWdodDogMTBweDtcbiAgICBtYXJnaW4tdG9wOiAxNnB4O1xufSJdfQ== */";
      /***/
    },

    /***/
    89043:
    /*!*********************************************************************************************!*\
      !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/add-reminders/add-reminders.page.html ***!
      \*********************************************************************************************/

    /***/
    function _(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
      "use strict";

      __webpack_require__.r(__webpack_exports__);
      /* harmony default export */


      __webpack_exports__["default"] = "<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"/home/tabs/sitter-listing\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>Create Reminder</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n\n<ion-content class=\"ion-padding\">\n  <form [formGroup]=\"addReminderForm\">\n    <h5 class=\"form-title\">\n      Remind Me to <small class=\"error\">*</small>\n    </h5>\n    <!-- <h5 class=\"form-small-title\">\n      Type <small class=\"error\">*</small>\n    </h5> -->\n    <ion-item>\n      <ion-label  position=\"stacked\">Type <small class=\"error\">*</small></ion-label>\n      <ion-select interface=\"action-sheet\" placeholder=\"Select your reminder type\"  formControlName=\"reminder_type\">\n        <ion-select-option [value]=\"type.id\" *ngFor=\"let type of reminderTypes\" >{{type?.serviceName}}</ion-select-option>\n      </ion-select>\n    </ion-item>\n    <!-- <div class=\"chips\">\n      <ion-chip (click)=\"selectReminder(type)\" *ngFor=\"let type of reminderTypes\"\n      [color]=\"type.isSelected == false ? '' : 'theme'\"\n      >\n      <ion-label>{{type?.serviceName}} </ion-label>\n    </ion-chip>\n    </div> -->\n    <h5 class=\"form-small-title\">\n      Schedule <small class=\"error\">*</small>\n    </h5>\n    <ion-item>\n      <ion-label position=\"stacked\">Start Date<small class=\"error\"></small></ion-label>\n      <ion-datetime display-format=\"DDD DD MMM YYYY\" max=\"2024-12-31\" [min]=\"startMinDate\" picker-format=\"DD/MMM/YYYY\"\n        placeholder=\"Thu 16 Jan 2019\" formControlName=\"date\"></ion-datetime>\n    </ion-item>\n    <ion-item>\n      <ion-label position=\"stacked\">Start Time<small class=\"error\"></small></ion-label>\n      <ion-datetime display-format=\"HH:mm\" picker-format=\"HH:mm\" placeholder=\"11:20 AM\" formControlName=\"time\">\n      </ion-datetime>\n    </ion-item>\n  \n  \n    <div *ngIf=\"!pets.length\">\n      <ion-text class=\"error\" routerLink=\"/pet-add\">No Pets Added. Please Add Pet <span class=\"link-contrast\"> (Click\n          Here)*</span></ion-text>\n    </div>\n\n    <h5 *ngIf=\"pets.length\" class=\"form-small-title\">\n      Pets <small class=\"error\">*</small>\n    </h5>\n\n    <div class=\"petList\">\n      <ion-list>\n        <ion-radio-group>\n          <ion-item lines=\"full\" *ngFor=\"let pet of pets; let i=index\">\n            <ion-avatar slot=\"start\" class=\"petProfile\">\n              <ion-img [src]=\"pet.imagename == '' || pet.imagename == null  ? \n            'https://dev.petcloud.com.au/img/pet_placeholder.png' \n            : pet?.imagename\"></ion-img>\n            </ion-avatar>\n            <ion-label>{{pet?.name}}</ion-label>\n            <ion-radio (click)=\"selectPet(pet)\" slot=\"end\" color=\"theme\"></ion-radio>\n          </ion-item>\n        </ion-radio-group>\n      </ion-list>\n      <ion-text *ngIf=\"addReminderForm.get('pets').hasError('required') && addReminderForm.get('pets').touched\"\n        lines=\"none\" class=\"animated fadeInUp\">\n        <p class=\"error\">Please select Pets </p>\n      </ion-text>\n    </div>\n    <ion-item>\n      <ion-label  position=\"stacked\">Reminder Frequency</ion-label>\n      <ion-select value=\"6\" interface=\"action-sheet\" placeholder=\"Select your reminder frequency\" formControlName=\"alertFrequency\">\n\n        <ion-select-option value=\"0\">Weekly</ion-select-option>\n        <ion-select-option value=\"1\">Fortnightly</ion-select-option>\n        <ion-select-option value=\"2\">Monthy</ion-select-option>\n        <ion-select-option value=\"3\">Quarterly</ion-select-option>\n        <ion-select-option value=\"4\">Half-yearly</ion-select-option>\n        <ion-select-option value=\"5\">Yearly</ion-select-option>\n        <ion-select-option value=\"6\">Once Off</ion-select-option>\n      </ion-select>\n    </ion-item>\n    <ion-item>\n      <ion-label position=\"stacked\">Notification Reminder</ion-label>\n      <ion-select interface=\"action-sheet\" color=\"theme\" formControlName=\"notifi_reminder\"\n        placeholder=\"Select your reminder notification\">\n        <ion-select-option value=\"1\">Send before a hour</ion-select-option>\n        <ion-select-option value=\"2\">Send at a time</ion-select-option>\n        <ion-select-option value=\"3\">Send one day before</ion-select-option>\n      </ion-select>\n    </ion-item>\n    <ion-item lines=\"none\">\n      <ion-label position=\"stacked\">Notes</ion-label>\n      <ion-textarea rows=\"3\" formControlName=\"description\" placeholder=\"Enter description\">\n      </ion-textarea>\n    </ion-item>\n  </form>\n</ion-content>\n\n\n<ion-footer class=\"bg-white\">\n  <ion-button\n    class=\"add-reminder footer-btn\" \n    expand=\"full\" \n    (click)=\"addReminder()\"\n    [disabled]=\"!addReminderForm.valid\"\n  >\n    Create</ion-button>\n</ion-footer>";
      /***/
    }
  }]);
})();
//# sourceMappingURL=src_app_add-reminders_add-reminders_module_ts-es5.js.map