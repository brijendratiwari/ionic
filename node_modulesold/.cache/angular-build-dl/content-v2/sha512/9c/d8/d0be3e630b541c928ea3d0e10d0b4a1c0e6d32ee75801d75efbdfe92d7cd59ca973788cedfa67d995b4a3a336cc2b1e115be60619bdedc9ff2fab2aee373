{"version":3,"sources":["webpack:///src/app/profile/profile-mobile-verify/profile-mobile-verify.module.ts","webpack:///src/app/profile/profile-mobile-verify/profile-mobile-verify.page.ts","webpack:///src/app/profile/profile-mobile-verify/profile-mobile-verify.page.scss","webpack:///src/app/profile/profile-mobile-verify/profile-mobile-verify.page.html"],"names":["routes","path","component","ProfileMobileVerifyPage","ProfileMobileVerifyPageModule","NgModule","imports","CommonModule","FormsModule","IonicModule","ReactiveFormsModule","RouterModule","declarations","storage","api","formBuilder","router","navCtrl","verifyForm","group","mobileNumber","Validators","verifyCode","get","PetcloudApiService","then","data","setValue","mobile","console","log","value","showToast","showLoader","verifyCodeForMobile","pipe","finalize","hideLoader","subscribe","res","success","err","autoLogout","Storage","FormBuilder","Router","NavController","Component","selector","template"],"mappings":"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","file":"src_app_profile_profile-mobile-verify_profile-mobile-verify_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProfileMobileVerifyPage } from './profile-mobile-verify.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfileMobileVerifyPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ProfileMobileVerifyPage]\n})\nexport class ProfileMobileVerifyPageModule {}\n","import {Component, OnInit} from '@angular/core';\nimport {PetcloudApiService} from './../../api/petcloud-api.service';\nimport {Validators, FormBuilder, FormGroup, FormControl} from '@angular/forms';\nimport {Router} from '@angular/router';\nimport {Storage} from '@ionic/storage';\n// import model files\nimport {ApiResponse} from '../../model/api-response';\nimport { finalize } from 'rxjs/operators';\nimport { NavController } from '@ionic/angular';\n\n@Component({\n    selector: 'app-profile-mobile-verify',\n    templateUrl: './profile-mobile-verify.page.html',\n    styleUrls: ['./profile-mobile-verify.page.scss'],\n})\nexport class ProfileMobileVerifyPage implements OnInit {\n    public verifyForm: FormGroup;\n\n    constructor(protected storage: Storage, \n        public api: PetcloudApiService, \n        private formBuilder: FormBuilder, \n        protected router: Router,public navCtrl: NavController) {\n    }\n\n    ngOnInit() {\n        this.verifyForm = this.formBuilder.group({\n            mobileNumber: ['', [Validators.required, Validators.minLength(10)]],\n            verifyCode: ['', [Validators.required]]\n        });\n\n        this.storage.get(PetcloudApiService.USER)\n            .then((data: any) => {\n                // console.log(data);\n                this.verifyForm.setValue({\n                    mobileNumber: data.mobile,\n                    verifyCode: ''\n                });\n            });\n    }\n\n    public verifyCodeForMobile() {\n        console.log(this.verifyForm.value.verifyCode);\n        if (this.verifyForm.value.verifyCode == '' || this.verifyForm.value.verifyCode == null) {\n            this.api.showToast('please provide verification code first.', 2000, 'bottom');\n        } else {\n            this.api.showLoader();\n            this.api.verifyCodeForMobile(this.verifyForm.value.verifyCode).pipe(\n                finalize(() => {\n                    this.api.hideLoader();\n                }))\n                .subscribe((res: ApiResponse) => {\n                    if (res.success) {\n                        this.api.showToast('Your Mobile number is verified successful.', 2000, 'bottom');\n                    } else {\n                        this.api.showToast('Your Mobile number is not verified! Try again.', 2000, 'bottom');\n                    }\n                }, (err: any) => {\n                    console.log('verify code error', err);\n                    this.api.showToast('Your Mobile number is not verified! Try again.', 2000, 'bottom');\n                    this.api.autoLogout(err,this.verifyForm.value.verifyCode)\n                });\n        }\n    }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9maWxlLW1vYmlsZS12ZXJpZnkucGFnZS5zY3NzIn0= */\";","export default \"<ion-header>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button ></ion-back-button>\\n        </ion-buttons>\\n        <ion-title>Verify Mobile</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <ion-grid>\\n        <ion-row>\\n            <ion-col>\\n                <ion-card color=\\\"note\\\" class=\\\"ion-no-margin\\\">\\n                    <ion-card-header>\\n                        <ion-card-title>\\n                            At PetCloud, trust is paramount to our community\\n                        </ion-card-title>\\n                    </ion-card-header>\\n                    <ion-card-content>\\n                        All members must undergo these verifications:\\n                        <ul>\\n                            <li>Mobile Phone Number</li>\\n                            <li>Email Account</li>\\n                        </ul>\\n\\n                        Linking your Facebook account is optional but if you choose to do so, you will get an additional\\n                        verification tick icon\\n                        on your listing.\\n                        Pet Sitters who wish to mind pets in the home of the Owner - must undergo a National Criminal\\n                        History Check.\\n                    </ion-card-content>\\n                </ion-card>\\n            </ion-col>\\n        </ion-row>\\n        <ion-row>\\n            <ion-col>\\n                <form [formGroup]=\\\"verifyForm\\\">\\n                    <ion-list>\\n                        <h5>Mobile Verification</h5>\\n                        <ion-row class=\\\"ion-no-padding\\\">\\n                            <ion-col size=\\\"7\\\">\\n                                <ion-item>\\n                                    <ion-input type=\\\"number\\\" formControlName=\\\"mobileNumber\\\"\\n                                               placeholder=\\\"Enter Mobile Number\\\"></ion-input>\\n                                </ion-item>\\n                                <ion-text lines=\\\"none\\\" class=\\\"animated fadeInUp\\\"\\n                                          *ngIf=\\\"(verifyForm.get('mobileNumber').hasError('required') && verifyForm.get('mobileNumber').touched)\\\">\\n                                    <p class=\\\"error\\\"\\n                                       *ngIf=\\\"(verifyForm.get('mobileNumber').hasError('required') && verifyForm.get('mobileNumber').touched)\\\">\\n                                        Enter mobile number!\\n                                    </p>\\n                                </ion-text>\\n                            </ion-col>\\n                            <!-- <ion-col>\\n                                <ion-button color=\\\"theme\\\"\\n                                            [disabled]=\\\"verifyForm.get('mobileNumber').hasError('required')\\\"\\n                                            (click)=\\\"sendVerificationCodeForMobile()\\\">Send Code\\n                                </ion-button>\\n                            </ion-col> -->\\n                        </ion-row>\\n\\n                        <ion-row class=\\\"ion-no-padding\\\">\\n                            <ion-col size=\\\"7\\\">\\n                                <ion-item>\\n                                    <ion-input type=\\\"text\\\" formControlName=\\\"verifyCode\\\"\\n                                               placeholder=\\\"Enter Verifiy Code\\\"></ion-input>\\n                                </ion-item>\\n                                <ion-text lines=\\\"none\\\" class=\\\"animated fadeInUp\\\"\\n                                          *ngIf=\\\"(verifyForm.get('verifyCode').hasError('required') && verifyForm.get('verifyCode').touched)\\\">\\n                                    <p class=\\\"error\\\"\\n                                       *ngIf=\\\"(verifyForm.get('verifyCode').hasError('required') && verifyForm.get('verifyCode').touched)\\\">\\n                                        Enter verification code!\\n                                    </p>\\n                            </ion-text>\\n                            </ion-col>\\n                            <ion-col>\\n                                <ion-button color=\\\"theme\\\" (click)=\\\"verifyCodeForMobile()\\\">Verify\\n                                </ion-button>\\n                            </ion-col>\\n                        </ion-row>\\n                    </ion-list>\\n                </form>\\n            </ion-col>\\n        </ion-row>\\n    </ion-grid>\\n    <!-- <ion-grid class=\\\"ion-no-padding\\\">\\n      <ion-row no-padding>\\n        <ion-col>\\n          <ion-button expand=\\\"full\\\" color=\\\"theme\\\" size=\\\"large\\\" href=\\\"/profile-verify-mobile\\\">Finish</ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid> -->\\n</ion-content>\\n\\n<ion-footer>\\n    <ion-button\\n        class=\\\"text-capitalize fls-0 fs-18 footer-btn\\\"\\n        expand=\\\"full\\\"\\n        color=\\\"theme\\\"\\n        routerLink=\\\"/home/tabs/profile-menu\\\"\\n    >\\n        Finish\\n    </ion-button>\\n</ion-footer>\\n\";"]}