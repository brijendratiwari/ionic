{"version":3,"sources":["webpack:///src/app/reset-password/reset-password.module.ts","webpack:///src/app/reset-password/reset-password.page.ts","webpack:///src/app/reset-password/reset-password.page.scss","webpack:///src/app/reset-password/reset-password.page.html"],"names":["routes","path","component","ResetPasswordPage","ResetPasswordPageModule","NgModule","imports","CommonModule","FormsModule","ReactiveFormsModule","IonicModule","RouterModule","declarations","api","formBuilder","router","loader","sideMenu","storage","navCtrl","enable","resetForm","group","email","Validators","showLoader","resetData","value","resetPassword","pipe","finalize","hideLoader","subscribe","res","success","showAlert","text","handler","navigateByUrl","showToast","err","autoLogout","PetcloudApiService","FormBuilder","Router","LoadingController","MenuController","Storage","NavController","Component","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASA,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE,kDAAAC;AAFb,OADqB,CAAvB;;UAiBaC,wBAAuB;AAAA;AAAA,Q;;AAAvBA,8BAAuB,uDAVnC,+CAAAC,QAAA,EAAS;AACRC,eAAO,EAAE,CACP,6CAAAC,YADO,EAEP,4CAAAC,WAFO,EAGP,4CAAAC,mBAHO,EAIP,4CAAAC,WAJO,EAKP,6CAAAC,YAAA,UAAsBX,MAAtB,CALO,CADD;AAQRY,oBAAY,EAAE,CAAC,kDAAAT,iBAAD;AARN,OAAT,CAUmC,GAAvBC,wBAAuB,CAAvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCTAD,kBAAiB;AAQ1B,mCAAmBU,GAAnB,EAAoDC,WAApD,EACsBC,MADtB,EAC6CC,MAD7C,EAEmBC,QAFnB,EAGmBC,OAHnB,EAImBC,OAJnB,EAI2C;AAAA;;AAJxB,eAAAN,GAAA,GAAAA,GAAA;AAAiC,eAAAC,WAAA,GAAAA,WAAA;AAC9B,eAAAC,MAAA,GAAAA,MAAA;AAAuB,eAAAC,MAAA,GAAAA,MAAA;AAC1B,eAAAC,QAAA,GAAAA,QAAA;AACA,eAAAC,OAAA,GAAAA,OAAA;AACA,eAAAC,OAAA,GAAAA,OAAA,CAAwB,CACvC;;AACA,eAAKF,QAAL,CAAcG,MAAd,CAAqB,KAArB;AACH;;AAfyB;AAAA;AAAA,iBAiB1B,oBAAW;AACP,iBAAKC,SAAL,GAAiB,KAAKP,WAAL,CAAiBQ,KAAjB,CAAuB;AACpCC,mBAAK,EAAE,CAAC,EAAD,EAAK,CAAC,4CAAAC,UAAA,SAAD,EAAsB,4CAAAA,UAAA,MAAtB,CAAL;AAD6B,aAAvB,CAAjB;AAGH;AArByB;AAAA;AAAA,iBAuBnB,yBAAgB;AAAA;;AACnB,iBAAKX,GAAL,CAASY,UAAT;AACA,iBAAKC,SAAL,GAAiB,KAAKL,SAAL,CAAeM,KAAhC;AACA,iBAAKd,GAAL,CAASe,aAAT,CAAuB,KAAKF,SAA5B,EAAuCG,IAAvC,CAA4C,gDAAAC,QAAA,EAAS,YAAM;AACvD;AACA,mBAAI,CAACjB,GAAL,CAASkB,UAAT;AACH,aAH2C,CAA5C,EAGIC,SAHJ,CAGc,UAACC,GAAD,EAAsB;AAChC,kBAAIA,GAAG,CAACC,OAAR,EAAiB;AACb,qBAAI,CAACrB,GAAL,CAASsB,SAAT,CAAmB,gBAAnB,EAAqC,kCAAkC,KAAI,CAACT,SAAL,CAAeH,KAAjD,GAAyD,6DAA9F,EAA6J,CACzJ;AACIa,sBAAI,EAAE,IADV;AAEIC,yBAAO,EAAE,mBAAM;AACX,yBAAI,CAACtB,MAAL,CAAYuB,aAAZ,CAA0B,QAA1B;AACH;AAJL,iBADyJ,CAA7J;AAQH,eATD,MASO;AACH,qBAAI,CAACzB,GAAL,CAAS0B,SAAT,CAAmB,4CAAnB,EAAiE,IAAjE,EAAuE,QAAvE;AACH;AACJ,aAhBD,EAgBG,UAACC,GAAD,EAAc;AACb,mBAAI,CAAC3B,GAAL,CAAS0B,SAAT,CAAmB,yCAAnB,EAA8D,IAA9D,EAAoE,QAApE;;AACA,mBAAI,CAAC1B,GAAL,CAAS4B,UAAT,CAAoBD,GAApB,EAAwB,KAAI,CAACd,SAA7B;AACH,aAnBD;AAoBH;AA9CyB;;AAAA;AAAA,S;;;;gBAftB,uDAAAgB;;gBADY,4CAAAC;;gBAEZ,6CAAAC;;gBACA,4CAAAC;;gBACA,4CAAAC;;gBACA,4CAAAC;;gBAFmB,4CAAAC;;;;AAad7C,wBAAiB,uDAL7B,+CAAA8C,SAAA,EAAU;AACPC,gBAAQ,EAAE,oBADH;AAEPC,gBAAQ,EAAR,4EAFO;;AAAA,OAAV,CAK6B,GAAjBhD,kBAAiB,CAAjB;;;;;;;;;;;;;;;ACjBb;;;AAAA,uCAAe,wZAAf;;;;;;;;;;;;;;;ACAA;;;AAAA,uCAAe,05EAAf","file":"src_app_reset-password_reset-password_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule,ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ResetPasswordPage } from './reset-password.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ResetPasswordPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ResetPasswordPage]\n})\nexport class ResetPasswordPageModule {}\n","import {Component, OnInit} from '@angular/core';\nimport {Validators, FormBuilder, FormGroup} from '@angular/forms';\nimport {PetcloudApiService} from '../api/petcloud-api.service';\nimport {Router} from '@angular/router';\nimport {LoadingController, NavController} from '@ionic/angular';\nimport {MenuController} from '@ionic/angular';\nimport {Storage} from '@ionic/storage';\n// imprt model files\nimport {ApiResponse} from '../model/api-response';\nimport {finalize} from 'rxjs/operators';\n\n\n@Component({\n    selector: 'app-reset-password',\n    templateUrl: './reset-password.page.html',\n    styleUrls: ['./reset-password.page.scss'],\n})\nexport class ResetPasswordPage implements OnInit {\n\n    // main form for reset password\n    public resetForm: FormGroup;\n    public resetData: {\n        email: ''\n    };\n\n    constructor(public api: PetcloudApiService, private formBuilder: FormBuilder,\n                protected router: Router, public loader: LoadingController,\n                public sideMenu: MenuController,\n                public storage: Storage,\n                public navCtrl: NavController) {\n        // disable side menu on reset password page\n        this.sideMenu.enable(false);\n    }\n\n    ngOnInit() {\n        this.resetForm = this.formBuilder.group({\n            email: ['', [Validators.required, Validators.email]]\n        });\n    }\n\n    public resetPassword() {\n        this.api.showLoader();\n        this.resetData = this.resetForm.value;\n        this.api.resetPassword(this.resetData).pipe(finalize(() => {\n            // hide loader in success\n            this.api.hideLoader();\n        })).subscribe((res: ApiResponse) => {\n            if (res.success) {\n                this.api.showAlert('Reset Password', 'An email has been sent to <b>' + this.resetData.email + '</b>. Click on the link in the email to reset your password', [\n                    {\n                        text: 'OK',\n                        handler: () => {\n                            this.router.navigateByUrl('/login');\n                        }\n                    }\n                ]);\n            } else {\n                this.api.showToast('Link is not send to your Email! Try again.', 2000, 'bottom');\n            }\n        }, (err: any) => {\n            this.api.showToast('something went wrong! please Try again.', 2000, 'bottom');\n            this.api.autoLogout(err,this.resetData);\n        });\n    }\n\n}\n","export default \"ion-label {\\n  font-weight: 400;\\n  font-size: 14px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc2V0LXBhc3N3b3JkLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFBO0VBQ0EsZUFBQTtBQUNKIiwiZmlsZSI6InJlc2V0LXBhc3N3b3JkLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1sYWJlbCB7XG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICBmb250LXNpemU6IDE0cHg7XG59Il19 */\";","export default \"<ion-header class=\\\"ion-no-border\\\">\\n  <ion-toolbar mode=\\\"md\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/login\\\"></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <ion-grid class=\\\"login\\\">\\n    <ion-row class=\\\"ion-margin-vertical ion-padding-bottom\\\">\\n      <ion-col>\\n        <h1 class=\\\"ion-text-start text-theme fw-400\\\">Enter your registered email address</h1>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"ion-margin-vertical\\\">\\n      <ion-col>\\n        <!-- <p class=\\\"resetinfo\\\">Enter your email address. A link will be sent to your email address so that you can reset\\n          your password.</p> -->\\n        <form [formGroup]=\\\"resetForm\\\">\\n          <div>\\n            <ion-label position=\\\"stacked\\\" class=\\\"ion-text-uppercase text-grey-1\\\">Email address</ion-label>\\n            <ion-input id=\\\"email\\\" class=\\\"custom-input\\\" inputmode=\\\"email\\\" formControlName=\\\"email\\\" placeholder=\\\"someone@example.com\\\">\\n            </ion-input>\\n          </div>\\n          <ion-text lines=\\\"none\\\" class=\\\"animated fadeInUp\\\"\\n          *ngIf=\\\"(resetForm.get('email').hasError('required') && (resetForm.get('email').dirty || resetForm.get('email').touched)\\n           || resetForm.get('email').hasError('email'))\\\"\\n           >\\n          <p class=\\\"error\\\"\\n            *ngIf=\\\"(resetForm.get('email').hasError('required') && (resetForm.get('email').dirty || resetForm.get('email').touched))\\\"\\n          >\\n            Enter email address.\\n          </p>\\n          <p class=\\\"error\\\"\\n            *ngIf=\\\"((resetForm.get('email').dirty || resetForm.get('email').touched) && resetForm.get('email').hasError('email'))\\\"\\n          >\\n            Enter correct email address format.\\n          </p>\\n        </ion-text>\\n          <div class=\\\"btn-wrapper\\\">\\n            <ion-button expand=\\\"full\\\" color=\\\"theme\\\" [disabled]=\\\"!resetForm.valid\\\" (click)=\\\"resetPassword()\\\">\\n              Send reset link\\n            </ion-button>\\n          </div>\\n        </form>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  <!-- <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" class=\\\"ion-padding-bottom\\\">\\n    <ion-fab-button color=\\\"white\\\" (click)=\\\"resetPassword()\\\"\\n      [disabled]=\\\"!resetForm.valid\\\">\\n      <ion-icon name=\\\"arrow-forward\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab> -->\\n</ion-content>\";"]}