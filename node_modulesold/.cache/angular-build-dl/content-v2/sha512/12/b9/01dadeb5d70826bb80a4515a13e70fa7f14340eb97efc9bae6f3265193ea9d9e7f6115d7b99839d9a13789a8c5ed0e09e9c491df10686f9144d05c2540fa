{"version":3,"sources":["./src/app/recent-job-listing/recent-job-listing.module.ts","./src/app/recent-job-listing/recent-job-listing.page.ts","./src/app/recent-job-listing/recent-job-listing.page.scss","./src/app/recent-job-listing/recent-job-listing.page.html"],"names":[],"mappings":"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","file":"src_app_recent-job-listing_recent-job-listing_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RecentJobListingPage } from './recent-job-listing.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RecentJobListingPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [RecentJobListingPage]\n})\nexport class RecentJobListingPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { PetcloudApiService } from '../api/petcloud-api.service';\nimport { NavController } from '@ionic/angular';\nimport { User } from '../model/user';\nimport { Router } from '@angular/router';\nimport { finalize } from 'rxjs/operators';\nimport { Storage } from '@ionic/storage'\n\n\n@Component({\n  selector: 'app-recent-job-listing',\n  templateUrl: './recent-job-listing.page.html',\n  styleUrls: ['./recent-job-listing.page.scss'],\n})\nexport class RecentJobListingPage implements OnInit {\n\n  public recentSitterandJobPostingParams: any = { latitude: \"\", longitude: \"\", distance: \"\", offset: \"\" };\n  //Response\n  public recentJobs: any = []\n  public moreDatarecentJobs: any = [];\n  //Initilize variable count and offset to get more data from Server form loadData Method\n  public count: any = 0;\n  public offset: any = 6;\n\n  constructor(protected storage: Storage,\n    public router: Router, public api: PetcloudApiService,\n    public navCtrl: NavController) { }\n\n  ngOnInit() {\n    this.getInfo();\n  }\n\n  getInfo() {\n    this.storage.get(PetcloudApiService.USER)\n      .then((res: User) => {\n        this.recentSitterandJobPostingParams.latitude = res.latitude;\n        this.recentSitterandJobPostingParams.longitude = res.longitude;\n        this.recentSitterandJobPostingParams.distance = \"60030\";\n        this.recentSitterandJobPostingParams.offset = \"0\";\n        this.recentJobPost();\n      });\n  }\n\n  ionViewDidEnter() {\n    this.storage.get(PetcloudApiService.USER)\n      .then((res: User) => {\n        this.recentSitterandJobPostingParams.latitude = res.latitude;\n        this.recentSitterandJobPostingParams.longitude = res.longitude;\n        this.recentSitterandJobPostingParams.distance = '60030';\n\n        this.recentJobPost();\n      });\n  }\n\n\n\n\n  /**\n  * Get Recent Near By Job Post\n  * @param distance is static value passed as 30\n  */\n  public recentJobPost() {\n    this.recentSitterandJobPostingParams.offset = '0';\n    this.api.recentJobPosted(this.recentSitterandJobPostingParams).pipe(finalize(() => {\n    })).subscribe((res: any) => {\n      if (res.success) {\n        this.recentJobs = res;\n      }\n    }, err => {\n      if (err.status == 401) {\n        this.storage.clear();\n        this.api.showToast(this.api.logoutmsg, 2000, 'bottom');\n        this.navCtrl.navigateRoot('/get-started');\n    }else{\n        this.api.showToast(\"Try Again\",2000,\"bottom\")\n    }\n    })\n  }\n\n  /**\n * Load Data Pagination Method..\n */\n  loadData(infiniteScroll) {\n    this.count = parseInt(this.count) + 1;\n    this.recentSitterandJobPostingParams.offset = this.count * this.offset;\n    this.api.recentJobPosted(this.recentSitterandJobPostingParams).pipe(finalize(() => {\n    })).subscribe((res: any) => {\n      if (res.success) {\n        this.moreDatarecentJobs = res;\n        if (this.moreDatarecentJobs.length > 0) {\n          this.recentJobs.push(this.moreDatarecentJobs);\n        } else {\n          infiniteScroll.target.complete();\n        }\n        this.count = this.count++;\n      }\n    }, err => {\n      this.api.autoLogout(err,this.recentSitterandJobPostingParams)\n      infiniteScroll.target.complete();\n    })\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyZWNlbnQtam9iLWxpc3RpbmcucGFnZS5zY3NzIn0= */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Job Listing</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-grid>\\n    <ion-row class=\\\"ion-padding-bottom\\\">\\n      <ion-col>\\n\\n        <ion-row>\\n          <ion-col size=\\\"6\\\" *ngFor=\\\"let recentJob of recentJobs?.jobs?.data\\\">\\n            <ion-card class=\\\"card-style-1\\\">\\n              <ion-card-header class=\\\"ion-no-padding\\\">\\n                <ion-img src=\\\"{{recentJob?.imagename}}\\\">\\n                </ion-img>\\n                <!-- <div class=\\\"liked\\\">\\n                  <ion-img type=\\\"image/svg+xml\\\"\\n                    [src]=\\\"recentJob?.isFavourite_flag == 1 ? 'assets/icon/heartfill.svg': 'assets/icon/heartwhitebold.svg'\\\"\\n                    class=\\\"custom-icon\\\"></ion-img>\\n                </div> -->\\n              </ion-card-header>\\n              <ion-card-content class=\\\"ion-text-start\\\" [routerLink]=\\\"['/pet-sitter-detail',recentJob?.id]\\\">\\n                <ion-card-subtitle>{{recentJob?.address}}</ion-card-subtitle>\\n                <ion-card-title>{{recentJob?.title}}</ion-card-title>\\n                <p class=\\\"date\\\">{{recentJob?.start_date | date : 'dd-MMM'}} -\\n                  {{recentJob?.end_date | date : 'dd-MMM'}}</p>\\n                <p class=\\\"amount\\\">{{recentJob?.minPrice | currency : 'USD' : 'symbol' : '1.2-2'}}</p>\\n              </ion-card-content>\\n            </ion-card>\\n          </ion-col>\\n        </ion-row>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n      <ion-infinite-scroll-content\\n        loadingSpinner=\\\"bubbles\\\"\\n        loadingText=\\\"Loading more data...\\\">\\n  </ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n\\n\\n\\n</ion-content>\";"],"sourceRoot":"webpack:///"}