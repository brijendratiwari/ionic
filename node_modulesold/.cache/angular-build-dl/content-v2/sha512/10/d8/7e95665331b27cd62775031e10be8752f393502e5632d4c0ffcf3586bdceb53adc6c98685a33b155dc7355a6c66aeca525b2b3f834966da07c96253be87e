{"version":3,"sources":["./src/app/forceupdate/forceupdate.module.ts","./src/app/forceupdate/forceupdate.page.ts","./src/app/forceupdate/forceupdate.page.scss","./src/app/forceupdate/forceupdate.page.html"],"names":[],"mappings":"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","file":"src_app_forceupdate_forceupdate_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ForceupdatePage } from './forceupdate.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ForceupdatePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ForceupdatePage]\n})\nexport class ForceupdatePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Market } from '@ionic-native/market/ngx';\nimport { PetcloudApiService } from '../api/petcloud-api.service';\nimport { Storage } from \"@ionic/storage\";\nimport { User } from '../model/user';\nimport { AuthenticationService } from '../services/authentication.service';\nimport { NavController, Platform } from '@ionic/angular';\n\n@Component({\n  selector: 'app-forceupdate',\n  templateUrl: './forceupdate.page.html',\n  styleUrls: ['./forceupdate.page.scss'],\n})\nexport class ForceupdatePage implements OnInit {\n  isSaveLoginKeyPress = \"\";\n  email: any;\n  password: any\n  constructor(public market: Market,\n    public storage: Storage,\n    public auth: AuthenticationService,\n    public navCtrl: NavController,\n    public plt: Platform,\n    public api: PetcloudApiService) { }\n\n  ngOnInit() {\n    this.storage.get(\"isLoggedInKeyPressed\").then((isKeyPressed) => {\n      this.isSaveLoginKeyPress = isKeyPressed;\n      if (isKeyPressed) {\n          this.storage.get(PetcloudApiService.USER).then((res: User) => {\n              this.email = res.email;\n              this.storage.set(\"email\", this.email);\n          });\n          this.storage.get(\"password\").then((res) => {\n              this.password = res;\n          });\n      }\n  });\n  }\n\n  async updateApp(){\n\n\n    let appId;\n\n    if (this.plt.is(\"android\")) {\n      appId = \"com.petcloud.petcloud\"\n    } else {\n      appId =  \"id1539909889\"\n    }\n\n    \n   await this.market.open(appId).then(async res=>{\n      console.log(\"market res\",res);\n      if(res){\n        this.storage.set(\"menuType\", null);\n        let viewPetJob = localStorage.getItem(\"viewPetJobs\");\n        let trainingDone = localStorage.getItem(\n            PetcloudApiService.TRAININGDONE\n        );\n        let paymentCardData = \"\";\n\n        this.storage\n            .get(PetcloudApiService.STRIPECARD)\n            .then((cardData: any) => {\n                if (cardData != null && cardData !== \"\") {\n                    paymentCardData = cardData;\n                }\n            });\n            localStorage.setItem(\"token\",\"\");\n        await this.storage\n            .remove(PetcloudApiService.USER)\n            .then(async (res: any) => {\n                this.api.logoutUser().subscribe(\n                    async (logRes: any) => {\n                        await this.storage\n                            .remove(PetcloudApiService.USERTOKEN)\n                            .then((res: any) => {\n                                console.warn(\"token removed!\");\n                            });\n                    },\n                    (err: any) => {\n                        // this.api.autoLogout(err);\n                    }\n                );\n                this.api.hideLoader();\n                this.auth.authState.next(false);\n                await localStorage.clear();\n                this.storage.set(\"isLoggedInKeyPressed\", false);\n\n                viewPetJob == \"yes\"\n                    ? localStorage.setItem(\"viewPetJobs\", \"yes\")\n                    : \"\";\n                trainingDone == \"yes\"\n                    ? localStorage.setItem(PetcloudApiService.TRAININGDONE, \"yes\")\n                    : \"\";\n\n                if (paymentCardData != null) {\n                    this.storage.set(\n                        PetcloudApiService.STRIPECARD,\n                        paymentCardData\n                    );\n                }\n\n                if (this.isSaveLoginKeyPress) {\n                    await this.storage.set(\"email\", this.email);\n                    await this.storage.set(\"password\", this.password);\n                } else {\n                    await this.storage.set(\"email\", \"\");\n                    await this.storage.set(\"password\", \"\");\n                }\n                if (this.isSaveLoginKeyPress) {\n                    // this.navCtrl.navigateRoot(\"/login\");\n                } else {\n                    // this.navCtrl.navigateRoot(\"/get-started\");\n                }\n            });\n      }\n    })\n  }\n\n}\n","export default \"ion-content, ion-toolbar {\\n  --background:#FE4164;\\n}\\n\\n.update-screen {\\n  padding: 30px;\\n  height: 100vh;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  max-width: 320px;\\n  margin: auto;\\n  text-align: center;\\n  color: #fff;\\n}\\n\\n.update-screen p {\\n  margin: 0;\\n  font-size: 12px;\\n  margin-top: 30px;\\n  opacity: 0.7;\\n}\\n\\n.update-screen h4 {\\n  margin: 0;\\n  margin-top: 30px;\\n  font-size: 18px;\\n  margin-bottom: 30px;\\n  line-height: 1.6;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcmNldXBkYXRlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG9CQUFBO0FBQ0o7O0FBQ0E7RUFDSSxhQUFBO0VBQ0EsYUFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7QUFFSjs7QUFESTtFQUNJLFNBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxZQUFBO0FBR1I7O0FBREk7RUFDSSxTQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtBQUdSIiwiZmlsZSI6ImZvcmNldXBkYXRlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50LCBpb24tdG9vbGJhcntcbiAgICAtLWJhY2tncm91bmQ6I0ZFNDE2NDtcbn1cbi51cGRhdGUtc2NyZWVue1xuICAgIHBhZGRpbmc6IDMwcHg7XG4gICAgaGVpZ2h0OiAxMDB2aDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBtYXgtd2lkdGg6IDMyMHB4O1xuICAgIG1hcmdpbjogYXV0bztcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgcHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIG1hcmdpbi10b3A6IDMwcHg7XG4gICAgICAgIG9wYWNpdHk6IDAuNztcbiAgICB9XG4gICAgaDR7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICAgICAgZm9udC1zaXplOiAxOHB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMS42O1xuICAgIH1cbn0iXX0= */\";","export default \"<!-- <ion-header>\\n  <ion-toolbar>\\n    <ion-title>forceupdate</ion-title>\\n  </ion-toolbar>\\n</ion-header> -->\\n\\n<ion-content>\\n  <div class=\\\"update-screen\\\">\\n    <img src=\\\"../../assets/img/monogram.svg\\\" alt=\\\"\\\">\\n    <p>\\n      We have tightened some nuts n' bolts behind the screens so that we can make PetCloud better.\\n    </p>\\n    <h4>Please click on Update button to update the App</h4>\\n    <ion-button fill=\\\"solid\\\" color=\\\"white\\\" shape=\\\"round\\\" size=\\\"large\\\" class=\\\"theme-btn\\\" (click)=\\\"updateApp()\\\">\\n      Update for Free \\n    </ion-button>\\n  </div>\\n  \\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}