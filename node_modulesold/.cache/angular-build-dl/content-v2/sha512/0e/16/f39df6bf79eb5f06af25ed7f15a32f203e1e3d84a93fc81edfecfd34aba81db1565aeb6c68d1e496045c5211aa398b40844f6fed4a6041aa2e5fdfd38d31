(self["webpackChunkpetcloud"] = self["webpackChunkpetcloud"] || []).push([["src_app_location-map_location-map_module_ts"],{

/***/ 65521:
/*!*****************************************************!*\
  !*** ./src/app/location-map/location-map.module.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LocationMapPageModule": function() { return /* binding */ LocationMapPageModule; }
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ 64762);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 37716);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ 38583);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ 3679);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ 39895);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ 80476);
/* harmony import */ var _location_map_page__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./location-map.page */ 26991);







const routes = [
    {
        path: '',
        component: _location_map_page__WEBPACK_IMPORTED_MODULE_0__.LocationMapPage
    }
];
let LocationMapPageModule = class LocationMapPageModule {
};
LocationMapPageModule = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.NgModule)({
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_3__.CommonModule,
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__.FormsModule,
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__.IonicModule,
            _angular_router__WEBPACK_IMPORTED_MODULE_6__.RouterModule.forChild(routes)
        ],
        declarations: [_location_map_page__WEBPACK_IMPORTED_MODULE_0__.LocationMapPage]
    })
], LocationMapPageModule);



/***/ }),

/***/ 26991:
/*!***************************************************!*\
  !*** ./src/app/location-map/location-map.page.ts ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LocationMapPage": function() { return /* binding */ LocationMapPage; }
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ 64762);
/* harmony import */ var _raw_loader_location_map_page_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !raw-loader!./location-map.page.html */ 77833);
/* harmony import */ var _location_map_page_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./location-map.page.scss */ 66611);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ 37716);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ 39895);
/* harmony import */ var _api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api/petcloud-api.service */ 78975);
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! leaflet */ 64216);
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_3__);







let LocationMapPage = class LocationMapPage {
    constructor(route, api) {
        this.route = route;
        this.api = api;
        this.locationName = "";
    }
    ngOnInit() {
        this.route.params.subscribe((params) => (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(this, void 0, void 0, function* () {
            this.locationName = params.locationName;
            if (this.locationName == undefined) {
                this.locationName = "";
            }
            yield this.loadMap(params.lat, params.lng);
        }));
    }
    ionViewDidLeave() {
        if (this.map) {
            this.map._panes.markerPane.remove();
            this.map.remove();
        }
    }
    /**
     * Load Google Map
     */
    loadMap(lat, long) {
        return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(this, void 0, void 0, function* () {
            this.api.showLoader();
            setTimeout(() => {
                this.api.hideLoader();
                this.map = new leaflet__WEBPACK_IMPORTED_MODULE_3__.Map("map").setView([lat, long], 15);
                (0,leaflet__WEBPACK_IMPORTED_MODULE_3__.tileLayer)("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
                    maxZoom: 18,
                    minZoom: 10,
                    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
                }).addTo(this.map);
                (0,leaflet__WEBPACK_IMPORTED_MODULE_3__.marker)([lat, long])
                    .addTo(this.map)
                    .openPopup();
            }, 5000);
        });
    }
};
LocationMapPage.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_5__.ActivatedRoute },
    { type: _api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__.PetcloudApiService }
];
LocationMapPage = (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_6__.Component)({
        selector: "app-location-map",
        template: _raw_loader_location_map_page_html__WEBPACK_IMPORTED_MODULE_0__.default,
        styles: [_location_map_page_scss__WEBPACK_IMPORTED_MODULE_1__.default]
    })
], LocationMapPage);



/***/ }),

/***/ 66611:
/*!*****************************************************!*\
  !*** ./src/app/location-map/location-map.page.scss ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".map {\n  height: 100%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvY2F0aW9uLW1hcC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFBO0FBQ0oiLCJmaWxlIjoibG9jYXRpb24tbWFwLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9Il19 */");

/***/ }),

/***/ 77833:
/*!*******************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/location-map/location-map.page.html ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header>\n  <ion-toolbar>\n      <ion-buttons slot=\"start\">\n          <ion-back-button defaultHref=\"/availability\"></ion-back-button>\n      </ion-buttons>\n      <ion-title>{{locationName}}</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  \n  <div id=\"map\" style=\"height:100%;\"></div>\n\n</ion-content>\n");

/***/ })

}]);
//# sourceMappingURL=src_app_location-map_location-map_module_ts-es2015.js.map