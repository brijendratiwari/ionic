(self["webpackChunkpetcloud"] = self["webpackChunkpetcloud"] || []).push([["src_app_messages-list_messages-list_module_ts"],{

/***/ 21349:
/*!*******************************************************!*\
  !*** ./src/app/messages-list/messages-list.module.ts ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MessagesListPageModule": function() { return /* binding */ MessagesListPageModule; }
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ 64762);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ 37716);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ 38583);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ 3679);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ 39895);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic/angular */ 80476);
/* harmony import */ var _messages_list_page__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./messages-list.page */ 45640);
/* harmony import */ var _pipe_to_date_obj_pipe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../pipe/to-date-obj.pipe */ 13028);








const routes = [
    {
        path: '',
        component: _messages_list_page__WEBPACK_IMPORTED_MODULE_0__.MessagesListPage
    }
];
let MessagesListPageModule = class MessagesListPageModule {
};
MessagesListPageModule = (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.NgModule)({
        entryComponents: [],
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_4__.CommonModule,
            _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule,
            _ionic_angular__WEBPACK_IMPORTED_MODULE_6__.IonicModule,
            _angular_router__WEBPACK_IMPORTED_MODULE_7__.RouterModule.forChild(routes)
        ],
        declarations: [_messages_list_page__WEBPACK_IMPORTED_MODULE_0__.MessagesListPage],
        providers: [_pipe_to_date_obj_pipe__WEBPACK_IMPORTED_MODULE_1__.ToDateObjPipe],
    })
], MessagesListPageModule);



/***/ }),

/***/ 45640:
/*!*****************************************************!*\
  !*** ./src/app/messages-list/messages-list.page.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MessagesListPage": function() { return /* binding */ MessagesListPage; }
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! tslib */ 64762);
/* harmony import */ var _raw_loader_messages_list_page_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !raw-loader!./messages-list.page.html */ 22834);
/* harmony import */ var _messages_list_page_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./messages-list.page.scss */ 205);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/core */ 37716);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ionic/angular */ 80476);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/router */ 39895);
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @ionic/storage */ 38605);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! rxjs/operators */ 68939);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/operators */ 45435);
/* harmony import */ var _api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api/petcloud-api.service */ 78975);
/* harmony import */ var _messages_message_filter_message_filter_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../messages/message-filter/message-filter.component */ 24476);
/* harmony import */ var _messages_leavea_review_leavea_review_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../messages/leavea-review/leavea-review.component */ 42026);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs */ 10826);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ 16738);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _chatscreen_chatscreen_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../chatscreen/chatscreen.component */ 88941);
/* harmony import */ var _analytics_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../analytics.service */ 4625);
/* harmony import */ var _remote_chat_screen_remote_chat_screen_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../remote-chat-screen/remote-chat-screen.component */ 80232);

















let MessagesListPage = class MessagesListPage {
    constructor(api, analytics, modalCtrl, platform, loading, router, storage, navcntl, route) {
        this.api = api;
        this.analytics = analytics;
        this.modalCtrl = modalCtrl;
        this.platform = platform;
        this.loading = loading;
        this.router = router;
        this.storage = storage;
        this.navcntl = navcntl;
        this.route = route;
        // public selectedSegment = 'inbox';
        // object for store filter data.
        this.filterList = {
            viewAs: "",
            filterByStage: "",
        };
        this.selectedMessengingSegment = "";
        //Pagiantion
        this.page = 1;
        this.isDataAvailable = false;
        this.isMinder = false;
        // flag for check inbox all messages are empty
        // main message variable to store original data without fitlerd result all time;
        // second message variable to store original and after filterd result.
        this.listing = [];
        this.status = 0; // Filter Status
        this.viewAs = 0;
        // public filterCode = '';
        this.filterData = { filterByStage: "", viewAs: "" };
        this.isModelClick = false;
        this.isMessagePaginationShown = false;
        this.isAPILoaded = false;
        this.favSitters = [];
        this.isFirstLoad = true;
        this._routerMessageSub = new rxjs__WEBPACK_IMPORTED_MODULE_9__.Subscription();
        this.listing = [];
        this._routerMessageSub.add(this.router.events
            .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.filter)((event) => event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_11__.NavigationEnd))
            .subscribe((event) => (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this, void 0, void 0, function* () {
            if (event.url == "/home/tabs/messages" ||
                event.url == "/home/tabs/messages-list" ||
                event.url == "/home/tabs/messages/messages-list") {
                this.storage.get(_api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__.PetcloudApiService.USER).then((res) => (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this, void 0, void 0, function* () {
                    if (res != null) {
                        this.listing = [];
                        this.isAPILoaded = false;
                        this.isDataAvailable = false;
                        this.isMessagePaginationShown = false;
                        this.page = 1;
                        this.isFirstLoad = true;
                        yield this.getInfo();
                        this.selectedMessengingSegment = "message";
                        yield this.getInboxMessage(this.page, this.status, "", "");
                    }
                    else {
                        // this._routerMessageSub.unsubscribe();
                        this.api.SignInWindow();
                    }
                }));
            }
        })));
    }
    ngOnInit() {
    }
    ionViewWillLeave() {
        localStorage.removeItem("messages");
        localStorage.removeItem("filterByStage");
        localStorage.removeItem("viewAs");
    }
    ngOnDestroy() {
        this._routerMessageSub.unsubscribe();
    }
    getInboxMessage(page, status, usertype, infiniteScroll) {
        return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this, void 0, void 0, function* () {
            // Check Every array which is Minder by comparing user id and owner Id
            // @Logic Given by Nitin
            // if onwerid == user.id then show minder data
            // if minderId == user.id then show owner data
            if (page === 1 && this.isFirstLoad) {
                this.api.showLoader();
                this.isFirstLoad = false;
            }
            this.api.getInboxMessage(page, status, usertype).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.finalize)(() => {
                this.isMessagePaginationShown = true;
                if (infiniteScroll) {
                    infiniteScroll.target.complete();
                }
            })).subscribe((res) => (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this, void 0, void 0, function* () {
                var _a, _b, _c;
                if (res.success) {
                    if (((_a = res === null || res === void 0 ? void 0 : res.messages) === null || _a === void 0 ? void 0 : _a.length) > 0) {
                        const messageData = yield res.messages;
                        messageData.forEach(((data) => {
                            data.startDate = moment__WEBPACK_IMPORTED_MODULE_5__(data.startDate).format("MMM DD YYYY, h:mm A");
                            data.endDate = data.endDate != "" ? moment__WEBPACK_IMPORTED_MODULE_5__(data.endDate).format("MMM DD YYYY, h:mm A") : "";
                            data.modifydate = data.modifydate != "" ? moment__WEBPACK_IMPORTED_MODULE_5__(data.modifydate).format("MMM DD YYYY, h:mm A") : "";
                            const index = this.listing.findIndex((resp) => resp.id == data.id);
                            if (index > -1) {
                                this.listing[index] = data;
                            }
                            else {
                                this.listing.push(data);
                            }
                        }));
                    }
                }
                if (((_b = this.listing) === null || _b === void 0 ? void 0 : _b.length) > 0) {
                    this.isDataAvailable = true;
                    this.listing.sort((a, b) => new Date(b === null || b === void 0 ? void 0 : b.lastContactDate).getTime() - new Date(a === null || a === void 0 ? void 0 : a.lastContactDate).getTime());
                    localStorage.setItem("messages", this.listing);
                    if (((_c = res === null || res === void 0 ? void 0 : res.pagination) === null || _c === void 0 ? void 0 : _c.totalResults) == this.listing.length) {
                        this.isMessagePaginationShown = false;
                    }
                    else {
                        this.isMessagePaginationShown = true;
                    }
                }
                else {
                    this.isDataAvailable = false;
                    this.isMessagePaginationShown = false;
                }
                this.isAPILoaded = true;
                this.api.hideLoader();
                if (infiniteScroll) {
                    infiniteScroll.target.complete();
                }
            }), (err) => {
                this.isAPILoaded = true;
                this.api.hideLoader();
                this.api.autoLogout(err, { page, status, usertype });
            });
        });
    }
    /**
     * show all filters via Modal (drawer).
     * @param ev events capture
     */
    showFilter(ev) {
        var _a, _b;
        return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this, void 0, void 0, function* () {
            this.isModelClick = true;
            const modal = yield this.modalCtrl.create({
                component: _messages_message_filter_message_filter_component__WEBPACK_IMPORTED_MODULE_3__.MessageFilterComponent,
                animated: true,
                componentProps: {
                    viewAs: ((_a = this.filterList) === null || _a === void 0 ? void 0 : _a.viewAs) ? this.filterList.viewAs : 'all',
                    filterByStage: ((_b = this.filterList) === null || _b === void 0 ? void 0 : _b.filterByStage) ? this.filterList.filterByStage : '0'
                }
            });
            modal.onDidDismiss().then((data) => {
                this.isModelClick = false;
                if (data.data != undefined) {
                    if (data.data.filterByStage == "clear" && data.data.viewAs == "clear") {
                    }
                    else {
                        this.filterList = data.data;
                        this.applyMessageFilter(this.filterList["viewAs"], this.filterList["filterByStage"]);
                    }
                }
            });
            return yield modal.present();
        });
    }
    /**
     * Redirect on message details page to show more details of message.
     * @param pastMsg Message Object
     */
    messageDetail(msg) {
        var _a, _b;
        return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this, void 0, void 0, function* () {
            console.log('msg', msg);
            if (msg.messageView == 2 || msg.messageView == '2') {
                let otherUserImage;
                let toName = msg.minder.first_name == this.user.first_name ? msg.owner.first_name : msg.minder.first_name;
                let sendPush = msg.minder.first_name == this.user.first_name ? msg.owner.sendMePush : msg.minder.sendMePush;
                otherUserImage = msg.owner.imagename == this.user.imagename ? msg.minder.imagename : msg.owner.imagename;
                yield this.remoteChatScreenWindow(msg.id, msg.minderId, msg.ownerid, this.userId, this.user.imagename, otherUserImage, this.user.first_name, toName, sendPush, msg.startDate, msg.endDate, msg.servicetype.serviceName, (_a = msg === null || msg === void 0 ? void 0 : msg.service) === null || _a === void 0 ? void 0 : _a.total, msg.booking_status);
            }
            else if (msg.booking_status == "CURR" || msg.booking_status == "MD") {
                if (msg.booking_status == "MD") {
                    this.analytics.logEvent(_api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__.PetcloudApiService.meetgreetcomplete, { userId: this.userId });
                }
                let otherUserImage;
                let toName = msg.minder.first_name == this.user.first_name ? msg.owner.first_name : msg.minder.first_name;
                let sendPush = msg.minder.first_name == this.user.first_name ? msg.owner.sendMePush : msg.minder.sendMePush;
                otherUserImage = msg.owner.imagename == this.user.imagename ? msg.minder.imagename : msg.owner.imagename;
                yield this.chatScreenWindow(msg.id, msg.minderId, msg.ownerid, this.userId, this.user.imagename, otherUserImage, this.user.first_name, toName, sendPush, msg.startDate, msg.endDate, msg.servicetype.serviceName, (_b = msg === null || msg === void 0 ? void 0 : msg.service) === null || _b === void 0 ? void 0 : _b.total, msg.booking_status);
            }
            else {
                this.router.navigate(["/message-detail"], {
                    queryParams: { id: msg.id },
                });
            }
        });
    }
    favouriteSitterList() {
        this.api.getFavouriteSitter()
            .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.finalize)(() => {
        }))
            .subscribe((res) => {
            if (res) {
                this.favSitters = res;
            }
        }, (err) => {
            this.api.showToast('favourite sitters not found, Try again!', 2000, 'bottom');
        });
    }
    /**
     * Apply filter in message list
     * @param viewAs param of ViewAs
     * @param filterByStage param of filterByStage
     */
    applyMessageFilter(viewAs, filterByStage) {
        if ((viewAs === "clear" || viewAs == "0") &&
            (filterByStage === "clear" || filterByStage == "0")) {
            const originalMessageData = JSON.parse(localStorage.getItem("messages"));
            this.listing = originalMessageData;
        }
        else {
            this.listing = [];
            this.page = 1;
            localStorage.setItem("filterByStage", filterByStage);
            localStorage.setItem("viewAs", viewAs);
            this.isFirstLoad = true;
            this.storage.set("viewAs", viewAs);
            this.getInboxMessage(this.page, filterByStage, viewAs, ""); // FilterByStage is for Status
        }
    }
    loadData(infiniteScroll) {
        let filterByView;
        let viewAs;
        localStorage.getItem("filterByStage") == null || "" || undefined
            ? (filterByView = 0)
            : (filterByView = localStorage.getItem("filterByStage"));
        localStorage.getItem("viewAs") == null || "" || undefined
            ? (viewAs = 0)
            : (viewAs = localStorage.getItem("viewAs"));
        this.page = this.page + 1;
        this.getInboxMessage(this.page, filterByView, viewAs, infiniteScroll);
    }
    navigateLeaveReview(bookingID, messageDetails) {
        return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this, void 0, void 0, function* () {
            const modal = yield this.modalCtrl.create({
                component: _messages_leavea_review_leavea_review_component__WEBPACK_IMPORTED_MODULE_4__.LeaveaReviewComponent,
                animated: true,
                componentProps: {
                    id: bookingID,
                    messageDetails
                },
            });
            modal.onDidDismiss().then((data) => {
                this.listing = [];
                this.page = 1;
                this.isMessagePaginationShown = false;
                this.getInboxMessage(1, 0, 0, "");
            });
            return yield modal.present();
        });
    }
    rebook(message) {
        //console.log(message);debugger
        const availabilityData = {
            sitterId: message.minder.id,
            sitterName: message.minder.first_name,
            primaryService: message.primaryService,
            secondaryService: message.secondaryService,
            isRebook: true,
        };
        this.storage.set("availabilitySitter", availabilityData);
        this.router.navigateByUrl("/check-availability");
    }
    getInfo() {
        this.storage.get(_api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__.PetcloudApiService.USER).then((user) => {
            this.user = user;
            this.userId = user.id;
            this.favouriteSitterList();
        }, (err) => {
        });
    }
    chatScreenWindow(id, minderId, ownerId, userId, currentUserImage, otherUserImage, fromName, toName, sendPush, dropOff, pickUp, serviceName, amount, bookingStatus) {
        return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this, void 0, void 0, function* () {
            const modal = yield this.modalCtrl.create({
                component: _chatscreen_chatscreen_component__WEBPACK_IMPORTED_MODULE_6__.ChatscreenComponent,
                animated: true,
                componentProps: {
                    id,
                    minderId,
                    ownerId,
                    userId,
                    currentUserImage,
                    otherUserImage,
                    fromName,
                    toName,
                    sendPush,
                    dropOff,
                    pickUp,
                    serviceName,
                    amount,
                    bookingStatus
                }
            });
            modal.onDidDismiss()
                .then((data) => {
            });
            return yield modal.present();
        });
    }
    remoteChatScreenWindow(id, minderId, ownerId, userId, currentUserImage, otherUserImage, fromName, toName, sendPush, dropOff, pickUp, serviceName, amount, bookingStatus) {
        return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this, void 0, void 0, function* () {
            const modal = yield this.modalCtrl.create({
                component: _remote_chat_screen_remote_chat_screen_component__WEBPACK_IMPORTED_MODULE_8__.RemoteChatScreenComponent,
                animated: true,
                componentProps: {
                    id,
                    minderId,
                    ownerId,
                    userId,
                    currentUserImage,
                    otherUserImage,
                    fromName,
                    toName,
                    sendPush,
                    dropOff,
                    pickUp,
                    serviceName,
                    amount,
                    bookingStatus
                }
            });
            modal.onDidDismiss()
                .then((data) => {
                // this.getInboxMessage(1, 0, 0, "");
                this.reshowFilterData();
            });
            return yield modal.present();
        });
    }
    reshowFilterData() {
        let filterByView;
        let viewAs;
        localStorage.getItem("filterByStage") == null || "" || undefined
            ? (filterByView = 0)
            : (filterByView = localStorage.getItem("filterByStage"));
        localStorage.getItem("viewAs") == null || "" || undefined
            ? (viewAs = 0)
            : (viewAs = localStorage.getItem("viewAs"));
        this.page = this.page + 1;
        this.getInboxMessage(1, filterByView, viewAs, "");
    }
};
MessagesListPage.ctorParameters = () => [
    { type: _api_petcloud_api_service__WEBPACK_IMPORTED_MODULE_2__.PetcloudApiService },
    { type: _analytics_service__WEBPACK_IMPORTED_MODULE_7__.AnalyticsService },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_14__.ModalController },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_14__.Platform },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_14__.LoadingController },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_11__.Router },
    { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_15__.Storage },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_14__.NavController },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_11__.ActivatedRoute }
];
MessagesListPage = (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__decorate)([
    (0,_angular_core__WEBPACK_IMPORTED_MODULE_16__.Component)({
        selector: "app-messages-list",
        template: _raw_loader_messages_list_page_html__WEBPACK_IMPORTED_MODULE_0__.default,
        styles: [_messages_list_page_scss__WEBPACK_IMPORTED_MODULE_1__.default]
    })
], MessagesListPage);



/***/ }),

/***/ 205:
/*!*******************************************************!*\
  !*** ./src/app/messages-list/messages-list.page.scss ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("ion-header ion-title .subtitle {\n  display: block;\n  font-size: 12px;\n  color: #888888;\n  letter-spacing: 0;\n}\nion-header ion-toolbar {\n  padding-top: 0px;\n}\n.msg-list .msg-list-label {\n  background-color: #eeeeee;\n}\n.msg-list .msg-item {\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n.msg-list .msg-item .profile {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n}\n.msg-list .msg-item .profile .profile-pic {\n  width: 40px;\n  height: 40px;\n  display: block;\n  margin: 0 10px 5px;\n}\n.msg-list .msg-item .profile .user {\n  font-weight: 500;\n  font-size: 14px;\n  color: #4A4A4A;\n  letter-spacing: 0;\n  text-align: center;\n  line-height: 18px;\n  margin: 0;\n}\n.msg-list .msg-item .info {\n  width: 100%;\n}\n.msg-list .msg-item .info .title {\n  font-weight: 500;\n  font-size: 18px;\n  color: #4A4A4A;\n  letter-spacing: 0;\n  line-height: 22px;\n  margin: 0;\n}\n.msg-list .msg-item .info .title span {\n  display: block;\n}\n.msg-list .msg-item .info .date {\n  font-size: 12px;\n  color: #888888;\n  letter-spacing: 0;\n  line-height: 14px;\n  margin-top: 5px;\n  margin: 5px 0px 3px;\n}\n.msg-list .msg-item .info .status {\n  font-weight: 500;\n  font-size: 12px;\n  color: #888888;\n  margin-top: 2px;\n  letter-spacing: 0;\n  line-height: 14px;\n  margin-bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.msg-list .msg-item .info .active {\n  color: var(--ion-color-theme-sec);\n}\n.msg-list .msg-item .info .pending {\n  color: #ffa500;\n}\n.msg-list .msg-item .info .cancel-msg {\n  margin: 5px 0px;\n}\n.msg-list .msg-item .info .review-btn {\n  margin: 0px;\n}\n.unread .notif {\n  margin-left: auto;\n}\n.unread .notif .notification-label {\n  margin-top: 10px;\n  display: block;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  background: #FE4164;\n}\n.sitters-list {\n  display: flex;\n  overflow-y: auto;\n}\n.sitters-list:after {\n  content: \"\";\n  height: 16px;\n  width: 16px;\n  min-width: 16px;\n}\n.sitters-list .item {\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  padding: 8px;\n}\n.sitters-list .item .avatar {\n  height: 70px;\n  width: 70px;\n  border-radius: 100px;\n  overflow: hidden;\n  margin-right: auto;\n  margin-left: auto;\n  margin-bottom: 10px;\n}\n.sitters-list .item .avatar img, .sitters-list .item .avatar ion-img {\n  height: 100%;\n  width: 100%;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n.sitters-list .item h4 {\n  margin: 0;\n  font-size: 12px;\n}\n.sitters-list .item p {\n  font-size: 10px;\n  margin: 0;\n  color: #5c5c5c;\n}\n.sitters-list .item h5 {\n  font-size: 16px;\n  font-weight: 700;\n  color: #fe4164;\n  margin-top: auto;\n}\n.sitters-list .item .star-ratings {\n  color: #feb30f;\n  font-size: 12px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lc3NhZ2VzLWxpc3QucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVRO0VBQ0ksY0FBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0VBQ0EsaUJBQUE7QUFEWjtBQUlJO0VBQ0ksZ0JBQUE7QUFGUjtBQU1JO0VBQ0kseUJBQUE7QUFIUjtBQUtJO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0VBQ0Esb0JBQUE7QUFIUjtBQUlRO0VBQ0ksYUFBQTtFQUNBLHNCQUFBO0VBQ0EsNkJBQUE7QUFGWjtBQUdZO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7QUFEaEI7QUFHWTtFQUNJLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxTQUFBO0FBRGhCO0FBSVE7RUFDSSxXQUFBO0FBRlo7QUFHWTtFQUNJLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0VBQ0EsU0FBQTtBQURoQjtBQUVnQjtFQUNJLGNBQUE7QUFBcEI7QUFHWTtFQUNJLGVBQUE7RUFDQSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtBQURoQjtBQUdZO0VBQ0ksZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSw4QkFBQTtBQURoQjtBQUdZO0VBQ0ksaUNBQUE7QUFEaEI7QUFHWTtFQUNJLGNBQUE7QUFEaEI7QUFHWTtFQUNJLGVBQUE7QUFEaEI7QUFHWTtFQUNJLFdBQUE7QUFEaEI7QUFPSTtFQUNJLGlCQUFBO0FBSlI7QUFLUTtFQUNJLGdCQUFBO0VBQ0EsY0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtBQUhaO0FBU0E7RUFDSSxhQUFBO0VBQ0EsZ0JBQUE7QUFOSjtBQU9JO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtBQUxSO0FBUUk7RUFDSSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLFlBQUE7QUFOUjtBQU9RO0VBQ0ksWUFBQTtFQUNBLFdBQUE7RUFDQSxvQkFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0FBTFo7QUFPWTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0Esb0JBQUE7S0FBQSxpQkFBQTtBQUxoQjtBQVFRO0VBQ0ksU0FBQTtFQUNBLGVBQUE7QUFOWjtBQVNRO0VBQ0ksZUFBQTtFQUNDLFNBQUE7RUFDRCxjQUFBO0FBUFo7QUFTUTtFQUNJLGVBQUE7RUFDSixnQkFBQTtFQUNBLGNBQUE7RUFDSixnQkFBQTtBQVBKO0FBU1E7RUFDSSxjQUFBO0VBQ0EsZUFBQTtBQVBaIiwiZmlsZSI6Im1lc3NhZ2VzLWxpc3QucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWhlYWRlcntcbiAgICBpb24tdGl0bGV7XG4gICAgICAgIC5zdWJ0aXRsZXtcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgICAgY29sb3I6ICM4ODg4ODg7XG4gICAgICAgICAgICBsZXR0ZXItc3BhY2luZzogMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpb24tdG9vbGJhciB7XG4gICAgICAgIHBhZGRpbmctdG9wOiAwcHg7XG4gICAgfVxufVxuLm1zZy1saXN0e1xuICAgIC5tc2ctbGlzdC1sYWJlbHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjojZWVlZWVlO1xuICAgIH1cbiAgICAubXNnLWl0ZW17XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBwYWRkaW5nLXRvcDoxMHB4O1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbiAgICAgICAgLnByb2ZpbGV7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICAgICAgICAgICAgLnByb2ZpbGUtcGlje1xuICAgICAgICAgICAgICAgIHdpZHRoOiA0MHB4O1xuICAgICAgICAgICAgICAgIGhlaWdodDogNDBweDtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgICAgICBtYXJnaW46MCAxMHB4IDVweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC51c2Vye1xuICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgICAgICAgIGNvbG9yOiAjNEE0QTRBO1xuICAgICAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAwO1xuICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMThweDtcbiAgICAgICAgICAgICAgICBtYXJnaW46MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAuaW5mbyB7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIC50aXRsZSB7XG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgICAgICAgICAgICAgY29sb3I6ICM0QTRBNEE7XG4gICAgICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDA7XG4gICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDIycHg7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgICAgIHNwYW4ge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuZGF0ZSB7XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgICAgICAgIGNvbG9yOiAjODg4ODg4O1xuICAgICAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAwO1xuICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxNHB4O1xuICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDVweDtcbiAgICAgICAgICAgICAgICBtYXJnaW46IDVweCAwcHggM3B4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLnN0YXR1cyB7XG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgICAgICAgICAgY29sb3I6ICM4ODg4ODg7XG4gICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMnB4O1xuICAgICAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAwO1xuICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxNHB4O1xuICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDA7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5hY3RpdmUge1xuICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItdGhlbWUtc2VjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5wZW5kaW5nIHtcbiAgICAgICAgICAgICAgICBjb2xvcjogI2ZmYTUwMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5jYW5jZWwtbXNnIHtcbiAgICAgICAgICAgICAgICBtYXJnaW46IDVweCAwcHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAucmV2aWV3LWJ0biB7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAwcHg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gICBcbiAgICB9XG59XG4udW5yZWFke1xuICAgIC5ub3RpZntcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgICAgIC5ub3RpZmljYXRpb24tbGFiZWx7XG4gICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICB3aWR0aDogMTBweDtcbiAgICAgICAgICAgIGhlaWdodDogMTBweDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNGRTQxNjQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLnNpdHRlcnMtbGlzdHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgJjphZnRlcntcbiAgICAgICAgY29udGVudDogJyc7XG4gICAgICAgIGhlaWdodDogMTZweDtcbiAgICAgICAgd2lkdGg6IDE2cHg7XG4gICAgICAgIG1pbi13aWR0aDogMTZweDtcbiAgICB9XG4gIFxuICAgIC5pdGVte1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgLmF2YXRhcntcbiAgICAgICAgICAgIGhlaWdodDogNzBweDtcbiAgICAgICAgICAgIHdpZHRoOiA3MHB4O1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTAwcHg7XG4gICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAgICAgICAgICAgLy8gYm9yZGVyOiAycHggZGFzaGVkICM5OTk7XG4gICAgICAgICAgICBpbWcsaW9uLWltZ3tcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgb2JqZWN0LWZpdDogY292ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaDR7XG4gICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICBwe1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4O1xuICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgIGNvbG9yOiAjNWM1YzVjO1xuICAgICAgICB9XG4gICAgICAgIGg1e1xuICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICBmb250LXdlaWdodDogNzAwO1xuICAgICAgICBjb2xvcjogI2ZlNDE2NDtcbiAgICBtYXJnaW4tdG9wOiBhdXRvO1xuICAgICAgICB9XG4gICAgICAgIC5zdGFyLXJhdGluZ3N7XG4gICAgICAgICAgICBjb2xvcjogI2ZlYjMwZjtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgfVxuICAgIH1cbiAgfSJdfQ== */");

/***/ }),

/***/ 22834:
/*!*********************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/messages-list/messages-list.page.html ***!
  \*********************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header style=\"position: sticky;\" class=\"ion-no-border\">\n    <ion-toolbar>\n        <ion-title *ngIf=\"favSitters.length > 0\"> Favourite Sitters </ion-title>\n        <ion-title *ngIf=\"favSitters.length == 0\"> Messages </ion-title>\n        <ion-buttons slot=\"end\">\n            <ion-button color=\"theme\" (click)=\"showFilter($event)\">\n                <ion-icon style=\"height: 2rem;\n                width: 2rem;\" slot=\"icon-only\" name=\"options\"></ion-icon>\n            </ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n\n<ion-content>\n\n    <ng-container *ngIf=\"favSitters.length > 0\">\n        <div class=\"sitters-list\">\n            <div class=\"item\" *ngFor=\"let sitterlist of favSitters\" [routerLink]=\"['/pet-sitter-detail',sitterlist.id]\">\n                <div class=\"avatar\">\n                    <img [src]=\"sitterlist?.imagename\" alt=\"\">\n                </div>\n                <h4>{{sitterlist?.first_name}}</h4>\n            </div>\n        </div>\n    </ng-container>\n\n    <ng-container *ngIf=\"isDataAvailable == false && isAPILoaded == true\">\n        <ion-grid *ngIf=\"isDataAvailable == false\">\n            <ion-row class=\"ion-align-items-center h-80\">\n\n                <ion-col size=\"8\" offset=\"2\" class=\"ion-text-center\">\n                    <ion-img src=\"assets/img/nomessage.svg\" class=\"ion-padding-bottom\"></ion-img>\n                    <ion-text color=\"theme\" class=\"msg\">You have no messages.</ion-text>\n                </ion-col>\n            </ion-row>\n        </ion-grid>\n    </ng-container>\n\n\n    <ng-container *ngIf=\"isDataAvailable == true  && isAPILoaded == true\">\n\n        <ion-toolbar *ngIf=\"favSitters.length > 0\">\n            <ion-title>Messages</ion-title>\n        </ion-toolbar>\n\n        <ion-list class=\"msg-list ion-no-padding\">\n            <ion-item *ngFor=\"let message of listing\" class=\"ion-no-padding\">\n                <div class=\"msg-item\">\n                    <div  class=\"profile\" >\n                        <ion-avatar *ngIf=\"userId == message?.ownerid\" class=\"profile-pic\" slot=\"start\" [routerLink]=\"['/pet-sitter-detail',message.minderId]\">\n                            <ion-img type=\"image/svg+xml\" [src]=\"message?.minder?.imagename\">\n                            </ion-img>\n                        </ion-avatar>\n\n                        <ion-avatar *ngIf=\"userId == message?.minderId\" class=\"profile-pic\" slot=\"start\" [routerLink]=\"['/pet-sitter-detail',message.ownerId]\">\n                            <ion-img type=\"image/svg+xml\" [src]=\"message?.owner?.imagename\">\n                            </ion-img>\n                        </ion-avatar>\n\n\n                        <div  *ngIf=\"userId == message?.ownerid\">\n                            <h4 class=\"user\"> {{message?.minder?.first_name}}</h4>\n                        </div>\n\n                        <div *ngIf=\"userId == message?.minderId\">\n                            <h4 class=\"user\"> {{message?.owner?.first_name}}</h4>\n                        </div>\n                    </div>\n                    <div class=\"info\" >\n                        <h4 (click)=\"messageDetail(message)\" \n                            class=\"title\"\n                        >\n                            {{message?.service?.serviceType?.serviceName}}\n                            <span class=\"fs-14\">\n                                {{message?.startDate != \"\" ? message?.startDate : \"\" }} -\n                                {{message?.endDate != \"\" ? message?.endDate : \"No End Date\" }}\n                            </span>\n                        </h4>\n\n                        <p (click)=\"messageDetail(message)\" \n                            class=\"status\" \n                            [class.pending]=\"message?.booking_status == 'P'\"\n                            [class.active]=\"message?.booking_status == 'A' || \n                            message?.booking_status == 'C'  ||\n                            message?.booking_status == 'MD' ||\n                            message?.booking_status == 'M'\"\n                        >\n                            {{api.getBookingStatusFullName(message?.booking_status)}}\n                            <ion-icon name=\"ellipse\"\n                            *ngIf=\"message?.booking_status == 'A' || \n                            message?.booking_status == 'C'  ||\n                            message?.booking_status == 'MD' ||\n                            message?.booking_status == 'M'\"\n                            ></ion-icon>\n                        </p>\n                        <p (click)=\"messageDetail(message)\" class=\"fs-12 text-theme cancel-msg\"\n                            *ngIf=\"message?.cancel_request != null && message?.cancel_request_from != null\">(Cancel\n                            Request is submitted)</p>\n                        <p (click)=\"messageDetail(message)\" class=\"date\">{{ message?.modifydate }}</p>\n                        \n                        <ion-button \n                            shape=\"round\" fill=\"outline\"\n                            color=\"theme-sec\"\n                            *ngIf=\"message?.booking_status == 'C' \n                            && message?.bookingReview==false \n                            && message?.ownerid == userId\"\n                            class=\"text-capitalize fls-0 fs-12 review-btn\" \n                            (click)=\"navigateLeaveReview(message.id,message)\"\n                        >\n                            Leave A Review\n                        </ion-button>\n\n                            \n                        <p class=\"fs-12 text-theme\" *ngIf=\"message?.booking_status == 'C' && message?.bookingReview == true\">\n                            Review Complete</p>\n                    </div>\n                    <div class=\"notif\">\n                        <span class=\"notification-label\"></span>\n                    </div>\n                </div>\n            </ion-item>\n        </ion-list>\n\n        <ion-infinite-scroll *ngIf=\"isMessagePaginationShown == true\" threshold=\"100px\"\n            (ionInfinite)=\"loadData($event)\">\n            <ion-infinite-scroll-content loadingSpinner=\"bubbles\" loadingText=\"Loading more data...\">\n            </ion-infinite-scroll-content>\n        </ion-infinite-scroll>\n\n    </ng-container>\n\n</ion-content>");

/***/ })

}]);
//# sourceMappingURL=src_app_messages-list_messages-list_module_ts-es2015.js.map